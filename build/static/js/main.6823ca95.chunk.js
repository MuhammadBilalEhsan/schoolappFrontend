(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{150:function(e,t){e.exports="data:image/jpeg;base64,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"},173:function(e,t,a){},237:function(e,t,a){e.exports=a.p+"static/media/stream.86eba8bd.jpg"},271:function(e,t,a){e.exports=a(412)},276:function(e,t,a){},305:function(e,t,a){},412:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(66),l=a.n(o),c=(a(276),a(4)),s=a(240),i=a(509),u=a(519);var d=function(){return r.a.createElement("div",null,r.a.createElement(i.a,{sx:{color:"green",backgroundColor:"#fff"},open:!0},r.a.createElement(u.a,{color:"inherit"})))},m=a(13),p=a.n(m),v=a(19),b=a(5),f=a(22),E=a(35),h=a(17),x=a.n(h),g=a(480),C=a(495),O=a(124),y=a(481),j=a(500),A=a(62),w=a(76),k=(a(305),{severHostedUrl:"https://warm-hollows-02372.herokuapp.com"}),S=a(503),N=a(498),U=function(e){var t=e.openSnack,a=e.severity,n=e.text,o=e.setOpenSnack,l=function(e,t){"clickaway"!==t&&o("")};return r.a.createElement(S.a,{anchorOrigin:{vertical:"top",horizontal:"success"===a?"center":"right"},open:Boolean(t),autoHideDuration:2500,onClose:l},r.a.createElement(N.a,{onClose:l,variant:"filled",severity:a||"success",sx:{width:"100%"}},n))},D=function(e){var t,a,o=e.setAuth,l=Object(n.useState)({email:"",password:""}),s=Object(c.a)(l,2),i=s[0],u=s[1],d=Object(n.useState)(!1),m=Object(c.a)(d,2),h=m[0],S=m[1],N=Object(n.useState)(""),D=Object(c.a)(N,2),I=D[0],R=D[1],L=Object(n.useState)(""),T=Object(c.a)(L,2),F=T[0],_=T[1],W=Object(E.g)(),z=function(e){t=e.target.name,a=e.target.value,u(Object(f.a)(Object(f.a)({},i),{},Object(b.a)({},t,a)))},B=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),S(!0),a=i.email,n=i.password,a){e.next=10;break}S(!1),R("Please write Valid Email!"),_("error"),e.next=20;break;case 10:if(n&&!(n.length<8)){e.next=16;break}R("Password! contains at least 8 characters !"),_("error"),S(!1),e.next=20;break;case 16:return e.next=18,x.a.post("".concat(k.severHostedUrl,"/user/login"),i);case 18:(r=e.sent)&&(r.data.message?(localStorage.setItem("uid",r.data.user._id),S(!1),o(!0),W.push("/profile")):(S(!1),R(r.data.error),_("error")));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),S(!1),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(g.a,{className:"_main",display:"flex",alignItems:"center"},I?r.a.createElement(U,{openSnack:I,severity:F,text:I,setOpenSnack:R}):"",r.a.createElement(g.a,{sx:{backgroundColor:"#fff"},maxWidth:"400px",borderRadius:1,boxShadow:3,mx:"auto",p:4,pt:2,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement("form",{method:"POST",onSubmit:function(e){return B(e)},style:{textAlign:"center"}},r.a.createElement(O.a,{variant:"h6",textAlign:"center"}," CY School App",r.a.createElement(y.a,{sx:{marginBottom:2}})),r.a.createElement(A.a,{className:"large-icon",color:"green",size:"50%"}),r.a.createElement(C.a,{autoFocus:!0,margin:"dense",name:"email",label:"Your Email",type:"email",variant:"outlined",value:i.email,onChange:function(e){return z(e)},autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32}}),r.a.createElement(C.a,{margin:"dense",name:"password",label:"Your Password",type:"password",variant:"outlined",value:i.password,onChange:function(e){return z(e)},autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{marginBottom:2}}),r.a.createElement(j.a,{size:"large",type:"submit",mt:2,variant:"contained",color:"success",endIcon:h?"":r.a.createElement(w.a,{size:"22px",color:"#fff"}),fullWidth:!0,loading:h,loadingPosition:"end",sx:{py:h?2:1}},h?"":"Login"))))},I=a(7),R=a(241),L=a(520),T=a(510),F=a(516),_=a(517),W=a(493),z=a(514),B=a(121),M=a(23),P=a(15),Y=function(e){return{type:"CUR_USER",payload:e}},G=function(e){return{type:"GET_COURSE",payload:e}},H=function(e){return{type:"CURRENT_COURSE",payload:e}},q=function(e){return{type:"ALL_ASSIGNMENTS",payload:e}},V=function(e){return{type:"CURRENT_ASSIGNMENT",payload:e}},X=function(e){return{type:"ALL_CONVERSATIONS",payload:e}},Q=function(e){return{type:"CURRENT_CONVERSATION",payload:e}},Z=Object(I.a)("div")((function(e){var t=e.theme;return Object(b.a)({padding:t.spacing(1),display:"none"},t.breakpoints.up("md"),{display:"flex"})})),K=Object(I.a)("div")((function(e){var t=e.theme;return Object(b.a)({display:"none"},t.breakpoints.down("md"),{display:"flex"})})),J=function(e){var t=e.setAuth,a=(e.curUser,Object(n.useState)(null)),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Boolean(l),u=Object(E.g)(),d=Object(P.b)(),m=function(){s(null)},p=function(){d({type:"LOG_OUT"}),localStorage.removeItem("uid"),t(!1),window.location.reload(!1),u.push("/")},v=r.a.createElement(R.a,{anchorEl:l,id:"mob_menu",keepMounted:!0,open:i,onClose:m},r.a.createElement(L.a,{component:M.b,onClick:m,to:"/profile",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Profile"),r.a.createElement(L.a,{component:M.b,onClick:m,to:"/attendance",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Attendance"),r.a.createElement(L.a,{component:M.b,onClick:m,to:"/coursedetails",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Course Details"),r.a.createElement(L.a,{component:M.b,onClick:m,to:"/messages",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Messages"),r.a.createElement(L.a,{component:T.a,onClick:p,sx:{backgroundColor:"#fff",color:"red",width:"100%",paddingBottom:2}},"Log Out"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{color:"success",position:"static"},r.a.createElement(_.a,null,r.a.createElement(O.a,{component:M.b,color:"inherit",to:"/profile",variant:"h5",sx:{flexGrow:1,textDecoration:"none"}},"School App"),r.a.createElement(Z,null,r.a.createElement(T.a,{component:M.b,to:"/profile",size:"small",color:"inherit"},"Profile"),r.a.createElement(T.a,{component:M.b,to:"/attendance",size:"small",color:"inherit",sx:{marginLeft:3}},"Attendance"),r.a.createElement(T.a,{component:M.b,to:"/coursedetails",size:"small",color:"inherit",sx:{marginLeft:3}},"Course Details"),r.a.createElement(T.a,{component:M.b,to:"/messages",size:"small",color:"inherit",sx:{marginLeft:3}},"Messages"),r.a.createElement(W.a,{title:"Log Out",arrow:!0},r.a.createElement(T.a,{component:M.b,to:"/logout",sx:{marginLeft:3},onClick:p},r.a.createElement(B.a,{color:"#fff",size:"25px"})))),r.a.createElement(K,null,r.a.createElement(z.a,{color:"inherit",onClick:function(e){s(e.currentTarget)}},r.a.createElement(B.b,null))))),v)},$=a(505),ee=a(506),te=a(513),ae=a(521),ne=a(486),re=a(522),oe=a(523),le=a(90),ce=a(34);function se(e){var t=e.curUser,a=e.setOpenSnack,o=e.setSeverity,l=e.setCurrentUser,s=Object(n.useState)(!1),i=Object(c.a)(s,2),u=i[0],d=i[1],m=localStorage.getItem("uid"),b=Object(P.b)(),f=function(){d(!1)},E=Object(le.a)({initialValues:{id:m,fname:null===t||void 0===t?void 0:t.fname,lname:null===t||void 0===t?void 0:t.lname,fatherName:null===t||void 0===t?void 0:t.fatherName,atClass:null===t||void 0===t?void 0:t.atClass,age:null===t||void 0===t?void 0:t.age,phone:null===t||void 0===t?void 0:t.phone},validateOnChange:!0,validationSchema:ce.b().shape({fname:ce.c().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter First Name"),lname:ce.c().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter Last Name"),fatherName:ce.c().max(16,"Plese Enter a Name less then 16 Characters").required("Please Enter Your Father's Name"),atClass:ce.a().required().positive().integer().min(6).max(10),age:ce.a().required("It is not a good habit to hide your age.").positive("That doesn't look like a human's age.").integer("Don't use decimal point").min(10,"You are not egligible for this school, you are a baby,").max(199,"A noble human cannot live so long"),phone:ce.a().typeError("That doesn't look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").min(3e9,"It doesn't looks like a phone number").max(3499999999,"It doesn't looks like a phone number").required("A phone number is required")}),onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(),e.next=4,x.a.post("".concat(k.severHostedUrl,"/user/edit-profile"),t);case 4:(n=e.sent)?(l(n.data.updated),b(Y(n.data.updated)),a(n.data.message),o("success")):(a("User not update!"),o("error"),f()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),f();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(g.a,null,r.a.createElement(W.a,{title:"Edit Profile",arrow:!0},r.a.createElement(T.a,{color:"success",variant:"contained",size:"small",onClick:function(){d(!0)}},r.a.createElement(A.b,{color:"inherit",size:"16px"}))),r.a.createElement(ae.a,{Dialog:!0,open:u,onClose:f,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ne.a,{align:"center",backgroundColor:"white"},"Edit Profile"),r.a.createElement(re.a,null,r.a.createElement("form",{onSubmit:E.handleSubmit},r.a.createElement(C.a,{autoFocus:!0,margin:"dense",name:"fname",label:"First Name",type:"text",variant:"outlined",value:E.values.fname,onChange:E.handleChange("fname"),autoComplete:"off",fullWidth:!0,color:"success"}),E.errors.fname&&E.touched.fname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},E.errors.fname),r.a.createElement(C.a,{margin:"dense",name:"lname",label:"Last Name",type:"text",variant:"outlined",value:E.values.lname,onChange:E.handleChange("lname"),autoComplete:"off",fullWidth:!0,color:"success"}),E.errors.lname&&E.touched.lname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},E.errors.lname),r.a.createElement(C.a,{margin:"dense",name:"fatherName",label:"Son of",type:"text",variant:"outlined",value:E.values.fatherName,onChange:E.handleChange("fatherName"),autoComplete:"off",fullWidth:!0,color:"success"}),E.errors.fatherName&&E.touched.fatherName&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},E.errors.fatherName),r.a.createElement(C.a,{margin:"dense",name:"atClass",label:"In Class",type:"number",variant:"outlined",value:E.values.atClass,onChange:E.handleChange("atClass"),autoComplete:"off",fullWidth:!0,color:"success"}),E.errors.atClass&&E.touched.atClass&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},E.errors.atClass),r.a.createElement(C.a,{margin:"dense",name:"age",label:"Age",type:"number",variant:"outlined",value:E.values.age,onChange:E.handleChange("age"),autoComplete:"off",fullWidth:!0,color:"success"}),E.errors.age&&E.touched.age&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},E.errors.age),r.a.createElement(W.a,{title:"Enter Phone Number Escaped 0",arrow:!0},r.a.createElement(C.a,{margin:"dense",name:"phone",label:"Contact No...",type:"number",variant:"outlined",value:E.values.phone,onChange:E.handleChange("phone"),autoComplete:"off",fullWidth:!0,color:"success"})),E.errors.phone&&E.touched.phone&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},E.errors.phone))),r.a.createElement(oe.a,null,r.a.createElement(T.a,{color:"success",variant:"contained",onClick:E.handleSubmit},"Save Edit"),r.a.createElement(T.a,{color:"success",onClick:f},"Cancel"))))}a(173);var ie=a(54);function ue(e){e.curUser;var t=e.setImgURL,a=e.setSeverity,o=e.setOpenSnack,l=Object(n.useState)(!1),s=Object(c.a)(l,2),i=s[0],u=s[1],d=Object(n.useState)(null),m=Object(c.a)(d,2),b=m[0],f=m[1],E=localStorage.getItem("uid"),h=function(){u(!1)},C=function(){var e=Object(v.a)(p.a.mark((function e(n){var r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!b){e.next=14;break}return(r=new FormData).append("_id",E),r.append("myImg",b),l={headers:{"content-type":"multipart/form-data"}},h(),e.next=10,x.a.post("".concat(k.severHostedUrl,"/user/editprofileimg"),r,l);case 10:(c=e.sent)&&(console.log("pPic",c.data.pPic),t(c.data.pPic),o(c.data.message),a("success")),e.next=16;break;case 14:o("Please Select an Image"),a("error");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),h();case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(W.a,{title:"Edit Profile Picture",arrow:!0},r.a.createElement(g.a,null,r.a.createElement(ie.b,{style:{cursor:"pointer"},onClick:function(){u(!0)},size:"20px",color:"green",height:"100%"}))),r.a.createElement(ae.a,{open:i,onClose:h,fullWidth:!0,maxWidth:"xs"},r.a.createElement(ne.a,{align:"center",backgroundColor:"white"},"Edit Picture"),r.a.createElement(re.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(g.a,{display:"flex"},r.a.createElement(g.a,{flexGrow:1,pt:1,px:1,border:"1px solid green",borderRadius:1},(null===b||void 0===b?void 0:b.name)?null===b||void 0===b?void 0:b.name:"Currently No Image"),r.a.createElement(T.a,{component:"label"},r.a.createElement(A.b,{color:"green",size:"22px"}),r.a.createElement("input",{hidden:!0,name:"myImg",type:"file",accept:"image/png, image/jpeg",onChange:function(e){return function(e){var t=null===e||void 0===e?void 0:e.size,n=null===e||void 0===e?void 0:e.type;e?Boolean("image/png"===n)||Boolean("image/jpeg"===n)||Boolean("image/jpg"===n)?f(e):t>5e6?(o("please Select an image of size less then 5 mb"),a("error")):(o("you can select only image..."),a("error")):(o("please Select an image"),a("error"))}(e.target.files[0])}}))))),r.a.createElement(oe.a,null,r.a.createElement(T.a,{color:"success",variant:"contained",onClick:C},"save image"),r.a.createElement(T.a,{color:"success",onClick:h},"Cancel"))))}var de=Object(I.a)(te.a)((function(e){var t=e.theme;return Object(f.a)(Object(f.a)({},t.typography.body1),{},{padding:t.spacing(1.5),display:"flex",justifyContent:"space-between",color:"green"})})),me=function(e){var t=e.curUser,a=e.setAuth,o=Object(n.useState)(null===t||void 0===t?void 0:t.dp),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(""),b=Object(c.a)(v,2),f=b[0],E=b[1],h=Object(n.useState)(t),x=Object(c.a)(h,2),C=x[0],y=x[1],j=C.age,A=C.atClass,w=C.email,k=C.fatherName,S=C.fname,N=C.lname,D=C.phone,I=C.roll;return r.a.createElement(g.a,{className:"_main"},r.a.createElement(J,{curUser:t,setAuth:a}),r.a.createElement(g.a,{mt:1,width:"99%",display:"flex",justifyContent:"flex-end"},r.a.createElement(se,{curUser:t,setSeverity:E,setOpenSnack:p,setCurrentUser:y})),r.a.createElement(g.a,{width:"100%",my:"auto"},m?r.a.createElement(U,{openSnack:m,severity:f,text:m,setOpenSnack:p}):"",r.a.createElement(g.a,{width:"70%",mx:"auto",display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement($.a,{alt:"".concat(S," ").concat(N),src:s,sx:{width:"180px",height:"180px",border:"1px dashed green"},mx:"auto"})),r.a.createElement(g.a,{width:"100%",display:"flex",justifyContent:"center",position:"relative",bottom:"13px",zIndex:1},r.a.createElement(ue,{curUser:t,setImgURL:i,setSeverity:E,setOpenSnack:p})),r.a.createElement(g.a,{maxWidth:"900px",mx:"auto",mt:3,px:5,position:"relative",bottom:"30px"},r.a.createElement(ee.a,{container:!0,spacing:2,justifyContent:"center"},r.a.createElement(ee.a,{item:!0,xs:12,md:6},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Name:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},"".concat(S," ").concat(N)))),r.a.createElement(ee.a,{item:!0,xs:12,md:6},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Email:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},w))),r.a.createElement(ee.a,{item:!0,xs:12,md:6},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Class:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},A||r.a.createElement(O.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(ee.a,{item:!0,xs:12,md:6},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Age:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},j||r.a.createElement(O.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(ee.a,{item:!0,xs:12,md:6},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Son of:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},k||r.a.createElement(O.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(ee.a,{item:!0,xs:12,md:6},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Contact:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},D||r.a.createElement(O.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(ee.a,{item:!0,xs:12,md:6,mb:2},r.a.createElement(de,null,r.a.createElement(g.a,{width:"30%",color:"black",textAlign:"right"},"Role:"),r.a.createElement(g.a,{width:"66%",textAlign:"center"},I)))))))},pe=a(494),ve=a(487),be=a(235),fe=a(26),Ee=a.n(fe),he=Object(I.a)(ve.a)((function(e){var t,a=e.theme;return t={height:10,borderRadius:5},Object(b.a)(t,"&.".concat(be.a.colorPrimary),{backgroundColor:a.palette.grey["light"===a.palette.mode?200:800]}),Object(b.a)(t,"& .".concat(be.a.bar),{borderRadius:5,backgroundColor:"light"===a.palette.mode?"green":"#30e833"}),t})),xe=Object(pe.a)((function(){return{attendance_top:{textAlign:"center"}}})),ge=function(e){var t=e.curUser,a=e.setAuth,o=xe(),l=Object(n.useState)(!0),s=Object(c.a)(l,2),i=s[0],u=s[1],d=Object(n.useState)(null),m=Object(c.a)(d,2),b=m[0],f=m[1],E=Object(n.useState)(!1),h=Object(c.a)(E,2),C=h[0],y=h[1],j=Object(n.useState)(),A=Object(c.a)(j,2),w=A[0],S=A[1],N=Object(n.useState)(),D=Object(c.a)(N,2),I=D[0],R=D[1],L=Object(n.useState)(),F=Object(c.a)(L,2),_=F[0],W=F[1],z=Object(n.useState)(0),B=Object(c.a)(z,2),M=B[0],G=B[1],H=Object(n.useState)(0),q=Object(c.a)(H,2),V=q[0],X=q[1],Q=Object(n.useState)(""),Z=Object(c.a)(Q,2),K=Z[0],$=Z[1],ee=Object(n.useState)(""),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=localStorage.getItem("uid"),oe=Object(P.b)(),le=function(){if(t.attendance&&t.attendance.length>0)if(Ee()(t.dateOfAddmission).date()===Ee()().date()&&Ee()(t.dateOfAddmission).month()===Ee()().month()&&Ee()(t.dateOfAddmission).year()===Ee()().year())X(100);else if(Ee()(t.dateOfAddmission).month()===Ee()().month()&&Ee()(t.dateOfAddmission).year()===Ee()().year()){S(Ee()(t.dateOfAddmission).date()),R(Ee()(t.dateOfAddmission).month()+1),W(Ee()(t.dateOfAddmission).year());var e="".concat(I,"-").concat(w,"-").concat(_),a=Ee()(e,"MM-DD-YYYY").businessDiff(Ee()(Ee()(),"MM-DD-YYYY")),n=t.attendance,r=n[(null===n||void 0===n?void 0:n.length)-1].days.length;X(r/a*100)}else if(1===Ee()().date())X(100);else{var o;R(Ee()().month()+1),W(Ee()().year());var l="".concat(I,"-01-").concat(_),c=Ee()(l,"MM-DD-YYYY").businessDiff(Ee()(Ee()(),"MM-DD-YYYY")),s=null===t||void 0===t?void 0:t.attendance,i=null===(o=s[(null===s||void 0===s?void 0:s.length)-1].days)||void 0===o?void 0:o.length;X(i/c*100)}},ce=function(){if(t.attendance&&t.attendance.length>0)if(Ee()(t.dateOfAddmission).month()===Ee()().month()&&Ee()(t.dateOfAddmission).year()===Ee()().year())G(V);else{var e=Ee()(t.dateOfAddmission),a=e.month()+1,n=e.date(),r=e.year(),o="".concat(a,"-").concat(n,"-").concat(r),l=Ee()(o,"MM-DD-YYYY").businessDiff(Ee()(Ee()(),"MM-DD-YYYY")),c=t.attendance.map((function(e){return e.days.length})),s=null===c||void 0===c?void 0:c.reduce((function(e,t){return e+t}));G(s/l*100)}},se=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a,n,r,o,l,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),t=new Date,a=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=t.getHours(),l=t.getMinutes(),c="".concat(o,":").concat(l),s={_id:re,year:a,month:n,date:r,time:c},e.next=12,x.a.post("".concat(k.severHostedUrl,"/user/attendance"),s);case 12:(i=e.sent)&&(oe(Y(i.data.updated)),$(i.data.message),ne("success")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),$("Your Attendance not marked"),ne("error");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){var e,a=t.attendance,n=a[(null===a||void 0===a?void 0:a.length)-1],r=null===n||void 0===n||null===(e=n.days)||void 0===e?void 0:e.find((function(e){return e.todayDate===Ee()().date()}));r||1!==Ee()().date()||(se(),u(!0));var o=0===Ee()().day()||6===Ee()().day();r?u(!0):o?f(!0):u(!1),le(),ce()}(),le(),ce()})),r.a.createElement(g.a,{className:"_main"},r.a.createElement(J,{curUser:t,setAuth:a}),r.a.createElement(g.a,null,K?r.a.createElement(U,{openSnack:K,severity:ae,text:K,setOpenSnack:$}):"",r.a.createElement(g.a,{className:o.attendance_top},b?r.a.createElement(g.a,{mt:8,maxWidth:"80%",mx:"auto",py:2,textAlign:"center"},r.a.createElement(O.a,{color:"green",variant:"h4"},"Today is Holiday")):r.a.createElement(g.a,null,r.a.createElement(O.a,{mt:8,mb:2,variant:"h4",display:"inline-block"},"Mark Today's Attendance"),r.a.createElement(g.a,null,r.a.createElement(T.a,{size:"small",variant:"contained",color:"success",onClick:function(e){return se(e)},disabled:i||C},i?"Marked":"Mark")))),r.a.createElement(g.a,{my:5,mx:"auto",sx:{width:"80%"},display:"block"},r.a.createElement(O.a,{variant:"h6"},"This Month Attendance"),r.a.createElement(he,{thickness:2,color:"success",variant:"determinate",value:Math.round(V)}),r.a.createElement(O.a,{variant:"h6"},Math.round(V),"%"))," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.a,{mx:"auto",sx:{width:"80%"}},r.a.createElement(O.a,{variant:"h6"},"Overall Attendance"),r.a.createElement(he,{color:"success",variant:"determinate",value:Math.round(M)}),r.a.createElement(O.a,{variant:"h6"},Math.round(M),"%"))))},Ce=a(511),Oe=a(18),ye=a(524);function je(e){var t=e.topicChips,a=e.setTopicChips,o=e.topicErr,l=e.setTopicErr,s=e.editCourse,i=e.course;Object(n.useEffect)((function(){if(s){var e=null===i||void 0===i?void 0:i.topics.map((function(e){return e}));a(e)}}),[]);var u=Object(n.useState)(""),d=Object(c.a)(u,2),m=d[0],p=d[1],v=function(){var e=m.trim();if(e){var n={key:(new Date).getTime().toString(),label:e};a([].concat(Object(Oe.a)(t),[n])),p(""),l(!1)}else p("")};return r.a.createElement("div",{width:"100%",style:{display:"flex",flexDirection:"column"}},r.a.createElement(C.a,{InputProps:{startAdornment:r.a.createElement("span",null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(Ce.a,{sx:{backgroundColor:s?"orange":"#00800030",marginRight:1,marginTop:1},key:e.key,label:e.label,onDelete:(n=e,function(){a((function(e){return t.filter((function(e){return e.key!==n.key}))}))})});var n})))},disabled:t.length>=10,margin:"dense",name:"topicItems",label:"Topics",type:"text",variant:"outlined",value:m,onChange:function(e){return function(e){p(e.target.value),m.length>=10&&v()}(e)},onKeyPress:function(e){return function(e){" "!==e.key&&"Enter"!==e.key||v()}(e)},autoComplete:"off",color:s?"warning":"success",fullWidth:!0}),o?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Add at least 1 Topic"):"")}var Ae=function(e){var t=e.courseOutlineArr,a=e.coOutErr,n=e.editCourse,o=e.onChange;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(C.a,{margin:"dense",id:"".concat(t),sx:{marginTop:1},name:Object.keys(e)[0],label:"week ".concat(t+1),type:"text",variant:"outlined",value:null===e||void 0===e?void 0:e.week,onChange:function(e){return o(e,t)},autoComplete:"off",color:n?"warning":"success",fullWidth:!0,maxLength:12,inputProps:{maxLength:80}}))})),a?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Define Outline Of All Weeks."):"")},we=a(46),ke=a(104),Se=["1 Week","2 Weeks","3 Weeks","4 Weeks"];function Ne(e){var t=e.curUser,a=e.editCourse,o=e.course,l=e.setSeverity,s=e.setOpenSnack,i=localStorage.getItem("uid"),u=Object(n.useState)(!1),d=Object(c.a)(u,2),m=d[0],b=d[1],f=Object(n.useState)(null),E=Object(c.a)(f,2),h=E[0],g=E[1],y=Object(n.useState)((null===o||void 0===o?void 0:o.duration)||null),j=Object(c.a)(y,2),A=j[0],w=j[1],S=Object(n.useState)([]),N=Object(c.a)(S,2),U=N[0],D=N[1],I=Object(n.useState)(null),F=Object(c.a)(I,2),_=F[0],z=F[1],B=Object(n.useState)(null),M=Object(c.a)(B,2),Y=M[0],H=M[1],q=Object(n.useState)(!0),V=Object(c.a)(q,2),X=V[0],Q=V[1],Z=Object(n.useState)(null),K=Object(c.a)(Z,2),J=K[0],$=K[1],ee=Object(n.useState)([]),te=Object(c.a)(ee,2),se=te[0],ie=te[1],ue=Object(P.b)(),de=function(){b(!0)},me=function(){b(!1)},pe=function(){g(!1)},ve=Object(le.a)({initialValues:{teacher_id:i,teacherName:"".concat(null===t||void 0===t?void 0:t.fname," ").concat((null===t||void 0===t?void 0:t.lname)||""),teacherClass:null===t||void 0===t?void 0:t.atClass,courseName:a?null===o||void 0===o?void 0:o.courseName:"",courseDesc:a?null===o||void 0===o?void 0:o.courseDesc:"",topics:null,duration:null,courseOutline:null},validationSchema:ce.b().shape({courseName:ce.c().required("Course Name is Required Field."),courseDesc:ce.c().required("Course Description is Required Field.")}),onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,H(!1),0!==U.length){e.next=6;break}z(!0),e.next=31;break;case 6:if(A){e.next=10;break}$(!0),e.next=31;break;case 10:if(se.filter((function(e){return""!==e.week})).length===se.length){e.next=15;break}H(!0),e.next=31;break;case 15:if(t.topics=U,t.duration=se.length,t.courseOutline=se,!a){e.next=26;break}return me(),e.next=22,x.a.post("".concat(k.severHostedUrl,"/course/editcourse"),t);case 22:(n=e.sent)&&(n.data.editted&&(ga.emit("courseEditted",n.data.editted),ue(G(n.data.editted))),n.data.message?(s(n.data.message),l("success")):(s(n.data.error),l("error"))),e.next=31;break;case 26:return me(),e.next=29,x.a.post("".concat(k.severHostedUrl,"/course/add"),t);case 29:(r=e.sent)&&(ga.emit("newCoursesAdded",r.data.newCourse),ue(G(r.data.newCourse)),r.data.message?(s(r.data.message),l("success")):(s(r.data.error),l("error")));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(0),console.log(e.t0),me();case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t){return e.apply(this,arguments)}}()});return Object(n.useEffect)((function(){ie(a?null===o||void 0===o?void 0:o.courseOutline:[])}),[]),r.a.createElement("div",null,a?r.a.createElement(W.a,{title:"Edit Course",arrow:!0},r.a.createElement(T.a,{size:"small",onClick:de,sx:{borderRadius:5}},r.a.createElement(ke.b,{size:"22px",color:"orange"}))):r.a.createElement(W.a,{title:"Add Course",arrow:!0},r.a.createElement(ye.a,{size:"small",sx:{backgroundColor:"green","&:hover":{backgroundColor:"green"}},onClick:de},r.a.createElement(we.g,{size:"20px",color:"#fff"}))),r.a.createElement(ae.a,{open:m,onClose:me,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ne.a,{align:"center",backgroundColor:"white"},a?"Edit Course":"Create Course"),r.a.createElement(re.a,null,r.a.createElement("form",{onSubmit:ve.handleSubmit},r.a.createElement(C.a,{autoFocus:!0,margin:"dense",name:"courseName",label:"Course Name",type:"text",variant:"outlined",value:ve.values.courseName,onChange:ve.handleChange("courseName"),autoComplete:"off",fullWidth:!0,color:a?"warning":"success",inputProps:{maxLength:12}}),ve.errors.courseName&&ve.touched.courseName&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ve.errors.courseName),r.a.createElement(C.a,{margin:"dense",name:"courseDesc",label:"Description",type:"text",variant:"outlined",value:ve.values.courseDesc,onChange:ve.handleChange("courseDesc"),autoComplete:"off",fullWidth:!0,multiline:!0,color:a?"warning":"success",inputProps:{maxLength:100}}),ve.errors.courseDesc&&ve.touched.courseDesc&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ve.errors.courseDesc),r.a.createElement(je,{topicChips:U,setTopicChips:D,topicErr:_,setTopicErr:z,editCourse:a,course:o,style:{display:"flex",background:"orange"}}),r.a.createElement(T.a,{onClick:function(e){!function(e){$(!1),H(!1),g(e.currentTarget)}(e),ie([])},color:a?"warning":"success",endIcon:r.a.createElement(we.c,null)},a&&X?Se[String(A-1)]:Se[A]||"Duration"),J?r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},"Please Select Duration of Your Course"):r.a.createElement(r.a.Fragment,null),r.a.createElement(R.a,{open:Boolean(h),anchorEl:h,onClose:pe},Se.map((function(e,t){return r.a.createElement(L.a,{key:t,onClick:function(){return function(e){Q(!1);var t=Object(Oe.a)(Array(e+1)).map((function(){return{week:""}}));ie(t),w(String(e)),pe()}(t)},name:"duration"},e)}))),A||a?r.a.createElement(Ae,{courseOutlineArr:se,editCourse:a,coOutErr:Y,onChange:function(e,t){ie((function(a){var n=Object(Oe.a)(a);return n[t].week=e.target.value,n}))}}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(oe.a,null,r.a.createElement(T.a,{color:a?"warning":"success",variant:"contained",onClick:ve.handleSubmit},a?"Save Edit":"Create"),r.a.createElement(T.a,{color:a?"warning":"success",variant:"outlined",onClick:me},"Cancel"))))}var Ue=a(236),De=function(e){var t,a=e.curUser,o=e.course,l=e.setAuth,s=Object(n.useState)(""),i=Object(c.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),v=p[0],f=p[1],h=o||{},x=h.courseName,C=h.courseDesc,y=h.topics,j=h.duration,A=h.courseOutline,w=Object(E.g)();return r.a.createElement(g.a,{className:"_main"},r.a.createElement(J,{curUser:a,setAuth:l}),r.a.createElement(g.a,{width:"95%",maxWidth:"1100px",marginX:"auto"},u?r.a.createElement(U,{openSnack:u,severity:v,text:u,setOpenSnack:d}):"",r.a.createElement(g.a,(t={mt:5,pb:2,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between"},Object(b.a)(t,"pb",1),Object(b.a)(t,"px",2),Object(b.a)(t,"width","100%"),t),r.a.createElement(O.a,{variant:"h4",color:"green",sx:{textTransform:"capitalize"}},"".concat(a.fname," ").concat(a.lname,"(").concat(a.roll,")")),r.a.createElement(O.a,{variant:"body1",mt:2,color:"green"},!o&&(null===a||void 0===a?void 0:a.atClass)?r.a.createElement(Ne,{curUser:a,course:o,editCourse:!1,setSeverity:f,setOpenSnack:d}):(null===a||void 0===a?void 0:a.atClass)?"":r.a.createElement(T.a,{color:"success",size:"small"},"Set Your Class"))),r.a.createElement(g.a,{width:"100%",mt:3,p:3,pt:-1,color:"green"},o&&Object.entries(o).length>0?r.a.createElement(g.a,null,r.a.createElement(ee.a,{container:!0},r.a.createElement(ee.a,{item:!0,mt:1,sm:6,xs:12,sx:{wordWrap:"break-word"}},r.a.createElement(O.a,{color:"black",variant:"subtitle1"},"Course Name:"),r.a.createElement(O.a,{ml:5,variant:"body2"},x),r.a.createElement(O.a,{color:"black",variant:"subtitle1"},"Description:"),r.a.createElement(O.a,{ml:5,variant:"body2"},C),r.a.createElement(O.a,{color:"black",variant:"subtitle1"},"Topics:"),r.a.createElement(g.a,{ml:4},null===y||void 0===y?void 0:y.map((function(e,t){return r.a.createElement(Ce.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(O.a,{color:"black",variant:"subtitle1"},"Duration:"),r.a.createElement(O.a,{ml:5,variant:"body2"},j," week / weeks")),r.a.createElement(ee.a,{item:!0,mt:1,sm:6,xs:12,sx:{wordWrap:"break-word"}},r.a.createElement(O.a,{color:"black",variant:"subtitle1"},"Course Outline:"),null===A||void 0===A?void 0:A.map((function(e,t){return r.a.createElement(g.a,{key:t},r.a.createElement(O.a,{color:"black",ml:5,variant:"body2"},"week ",t+1,":"),r.a.createElement(O.a,{ml:9,variant:"body1"},e.week))})))),r.a.createElement(g.a,{width:"100%",display:"flex",justifyContent:"flex-end"},r.a.createElement(Ne,{curUser:a,editCourse:!0,course:o,setSeverity:f,setOpenSnack:d}),r.a.createElement(W.a,{title:"Go to This Course",arrow:!0},r.a.createElement(T.a,{size:"small",sx:{borderRadius:5},onClick:function(){return w.push("/".concat(null===o||void 0===o?void 0:o._id))}},r.a.createElement(Ue.a,{size:"22px",color:"green"}))))):r.a.createElement(g.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently No Course Added")))))},Ie=a(504),Re=a(525),Le=a(526),Te=a(527),Fe=a(105);var _e=function(e){var t,a=e.curElem,o=e.curUser,l=e.setOpenSnack,s=e.setSeverity,i=Object(n.useState)(!1),u=Object(c.a)(i,2),d=u[0],m=u[1],b=Object(n.useState)(!1),f=Object(c.a)(b,2),E=f[0],h=f[1],C=o.fname,y=o.lname,j=a._id,A=a.courseDesc,w=a.courseName,S=a.courseOutline,N=a.duration,U=a.topics,D=localStorage.getItem("uid"),I=Object(P.b)(),R=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={student_name:"".concat(C," ").concat(y),courseName:w,course_id:j,student_id:D},e.next=4,x.a.post("".concat(k.severHostedUrl,"/course/applynow"),a);case 4:(n=e.sent)&&(n.data.message?(ga.emit("changeInCourse",n.data.course),h(!0),I(Y(n.data.student)),l(n.data.message),s("success")):(l(n.data.errors),s("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2}},E?"":r.a.createElement(Ie.a,{expanded:"panel1"===d,onChange:(t="panel1",function(e,a){m(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Re.a,{expandIcon:r.a.createElement(we.e,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(g.a,{display:"flex",justifyContent:"flex-start",alignItems:"center"},r.a.createElement(g.a,{minWidth:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},w[0])),r.a.createElement(O.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},w))),r.a.createElement(Le.a,null,r.a.createElement(ee.a,{container:!0},r.a.createElement(ee.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(O.a,{color:"green",ml:5,variant:"body2"},w),r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(O.a,{color:"green",ml:5,variant:"body2"},A),r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(g.a,{ml:4},null===U||void 0===U?void 0:U.map((function(e,t){return r.a.createElement(Ce.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(O.a,{ml:5,variant:"body2"},N," week / weeks")),r.a.createElement(ee.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Course Outline:"),null===S||void 0===S?void 0:S.map((function(e,t){return r.a.createElement(g.a,{key:t},r.a.createElement(O.a,{color:"black",ml:5,variant:"body1"},"week ",t+1,":"),r.a.createElement(O.a,{color:"green",ml:9,variant:"body2"},e.week))}))))),r.a.createElement(Te.a,null,r.a.createElement(W.a,{title:"Enroll Now",arrow:!0},r.a.createElement(T.a,{variant:"contained",color:"success",onClick:function(e){return R(e)}},r.a.createElement(Fe.c,{color:"green",size:"22px"}))))))},We=a(496),ze=a(528);function Be(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement(g.a,{width:"100%",sx:{marginX:"auto",padding:"5px"}},a===n&&r.a.createElement(g.a,null," ",t," "))}var Me=function(e){var t=e.tab1Label,a=e.tab2Label,o=e.tab3Label,l=e.tab4Label,s=e.panel1,i=e.panel2,u=e.panel3,d=e.panel4,m=Object(n.useState)(0),p=Object(c.a)(m,2),v=p[0],b=p[1];return r.a.createElement(g.a,null,r.a.createElement(g.a,{sx:{borderBottom:1,borderColor:"divider"}},r.a.createElement(We.a,{value:v,onChange:function(e,t){b(t)},textColor:"inherit",scrollButtons:"auto",variant:"scrollable",TabIndicatorProps:{sx:{backgroundColor:"green",height:"5px"}}},r.a.createElement(ze.a,{label:t}),r.a.createElement(ze.a,{label:a}),o?r.a.createElement(ze.a,{label:o}):"",l?r.a.createElement(ze.a,{label:l}):"")),r.a.createElement(Be,{value:v,index:0},s),r.a.createElement(Be,{value:v,index:1},i),u?r.a.createElement(Be,{value:v,index:2},u):"",d?r.a.createElement(Be,{value:v,index:3},d):"")},Pe=a(68),Ye=function(e){var t,a=e.curCor,o=(e.ind,Object(n.useState)(!1)),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)({}),d=Object(c.a)(u,2),m=d[0],b=d[1],f=Object(n.useState)([]),h=Object(c.a)(f,2),C=h[0],y=h[1],j=Object(E.g)(),A=m.courseName,w=m.courseDesc,S=m.topics,N=m.duration,U=m.courseOutline,D=function(){var e=Object(v.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=null===C||void 0===C?void 0:C.find((function(e){return e._id===a.id})))){e.next=6;break}b(t),e.next=11;break;case 6:return e.next=8,x.a.post("".concat(k.severHostedUrl,"/course/getcourse"),{id:a.id});case 8:n=e.sent,b(n.data.DBcourse),y([].concat(Object(Oe.a)(C),[n.data.DBcourse]));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2,width:"100%"}},r.a.createElement(Ie.a,{width:"100%",expanded:"panel1"===s,onClick:D,onChange:(t="panel1",function(e,a){i(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Re.a,{expandIcon:r.a.createElement(we.e,{onClick:D}),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(g.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(g.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1},r.a.createElement(g.a,{minWidth:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===a||void 0===a?void 0:a.name[0])),r.a.createElement(O.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},null===a||void 0===a?void 0:a.name)),r.a.createElement(W.a,{title:"Preview"},r.a.createElement(T.a,{color:"success",onClick:function(e){return j.push("/".concat(null===a||void 0===a?void 0:a.id))}}," ",r.a.createElement(Pe.a,{color:"black",size:"22px"}))))),r.a.createElement(Le.a,null,r.a.createElement(ee.a,{container:!0,display:"flex"},r.a.createElement(ee.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(O.a,{color:"green",ml:5,variant:"body2"},A),r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(O.a,{color:"green",ml:5,variant:"body2"},w),r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(g.a,{ml:4},null===S||void 0===S?void 0:S.map((function(e,t){return r.a.createElement(Ce.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(O.a,{ml:5,variant:"body2"},N," week / weeks")),r.a.createElement(ee.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(O.a,{color:"black",variant:"subtitle2"},"Course Outline:"),null===U||void 0===U?void 0:U.map((function(e,t){return r.a.createElement(g.a,{key:t},r.a.createElement(O.a,{color:"black",ml:5,variant:"body1"},"week ",t+1,":"),r.a.createElement(O.a,{color:"green",ml:9,variant:"body2"},e.week))})))))))},Ge=function(e){var t,a=e.curUser,o=e.courses,l=e.setAuth,s=Object(n.useState)(!0),i=Object(c.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),b=Object(c.a)(m,2),f=b[0],E=b[1],h=Object(n.useState)(""),C=Object(c.a)(h,2),y=C[0],j=C[1],A=function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.filter((function(e){return!0===e.removedByTeacher})))){e.next=6;break}return e.next=5,x.a.post("".concat(k.severHostedUrl,"/course/delcoursefromstudent"),{id:null===a||void 0===a?void 0:a._id});case 5:setTimeout((function(){d(!1)}),6e4);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){A()}),[]),r.a.createElement(g.a,{className:"_main"},r.a.createElement(J,{curUser:a,setAuth:l}),r.a.createElement(g.a,{width:"100%"},f?r.a.createElement(U,{openSnack:f,severity:y,text:f,setOpenSnack:E}):"",r.a.createElement(g.a,{mx:"auto",mt:2,maxWidth:"800px",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(Me,{tab1Label:"Available Courses",panel1:r.a.createElement(g.a,{width:"100%",mt:4.2},r.a.createElement(g.a,{mb:2,display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(O.a,{variant:"h4",color:"green"},"Available Courses")),(null===o||void 0===o?void 0:o.length)>0&&(null===a||void 0===a?void 0:a.atClass)?null===o||void 0===o?void 0:o.map((function(e,t){return r.a.createElement(_e,{setOpenSnack:E,setSeverity:j,key:t,curElem:e,curUser:a})})):(null===a||void 0===a?void 0:a.atClass)?r.a.createElement(g.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently No Course Available...")):r.a.createElement(g.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Please Set Your class to get Available Courses.."))),tab2Label:"Enrolled Courses",panel2:r.a.createElement(g.a,{width:"100%",mt:3},r.a.createElement(g.a,{mb:2,display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(O.a,{variant:"h4",color:"green"},"Enrolled Courses")),r.a.createElement(g.a,null,(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.length)>0?null===a||void 0===a?void 0:a.courses.map((function(e,t){return e.removedByTeacher&&u?r.a.createElement(g.a,{key:t,width:"100%",textAlign:"center",mt:1,py:2,sx:{borderRadius:1,backgroundColor:"#ff0000d1","&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(O.a,{variant:"body1",color:"white"},'You Were Removed from "',e.name,'"')):r.a.createElement(Ye,{curCor:e,key:t,ind:t})})):r.a.createElement(g.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently Not Enrolled In Any Course..."))))}))))},He=function(e){var t=e.curUser,a=e.setAuth,n=Object(P.c)((function(e){return e.usersReducer.course})),o=Object(P.c)((function(e){return e.usersReducer.studentCourse}));return"teacher"===t.roll?r.a.createElement(De,{curUser:t,course:n,setAuth:a}):r.a.createElement(Ge,{curUser:t,courses:o,setAuth:a})},qe=function(e){var t=e.userName,a=e.autoFocus,n=e.placeholder,o=e.value,l=e.setValue,c=e.name,s=e.color,i=e.submitFunc,u=e.type;return r.a.createElement(g.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:1,marginBottom:2,justifySelf:"flex-end",padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(g.a,{width:"100%"},r.a.createElement(g.a,{display:"flex",justifyContent:"center"},r.a.createElement(g.a,{width:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},t)),r.a.createElement(g.a,{flexGrow:1},r.a.createElement(C.a,{autoFocus:a,name:c,type:u,placeholder:n,value:o,onChange:function(e){return l(e.target.value)},autoComplete:"off",fullWidth:!0,multiline:!0,color:s,InputProps:{endAdornment:r.a.createElement(Pe.b,{onClick:function(e){return i(e)},size:"26px",color:"green",style:{margin:"auto 1 0 0",cursor:"pointer"}})}})))))},Ve=a(237),Xe=a.n(Ve),Qe=function(e){var t=e.color,a=e.timeColor,n=e.nameFirestLetter,o=e.name,l=e.time,c=e.message;return r.a.createElement(g.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:3,padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(g.a,{width:"100%"},r.a.createElement(g.a,{display:"flex",justifyContent:"center"},r.a.createElement(g.a,{width:"65px"},r.a.createElement($.a,{sx:{bgcolor:t,textTransform:"capitalize"}},n)),r.a.createElement(g.a,{flexGrow:1},r.a.createElement(O.a,{variant:"subtitle1",color:t,sx:{textTransform:"capitalize"}},r.a.createElement("b",null,o)),r.a.createElement(O.a,{variant:"body2",color:a}," ",l)))),r.a.createElement(g.a,{width:"100%",mt:2,sx:{wordWrap:"break-word",paddingLeft:5}},r.a.createElement(O.a,{variant:"subtitle2"},c)))},Ze=a(40),Ke=a.n(Ze),Je=function(e){var t,a=e.curUser,o=e.currentCourse,l=e.isAdmin,s=Object(n.useState)(""),i=Object(c.a)(s,2),u=i[0],m=i[1],b=Object(n.useState)(!1),f=Object(c.a)(b,2),E=f[0],h=f[1],C=Object(n.useState)(""),y=Object(c.a)(C,2),j=y[0],A=y[1],w=Object(n.useState)(""),S=Object(c.a)(w,2),N=S[0],D=S[1],I=Object(P.b)();Object(n.useEffect)((function(){if(o&&a){var e,t=null===o||void 0===o||null===(e=o.students)||void 0===e?void 0:e.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)}));(null===t||void 0===t?void 0:t.muted)?h(!0):h(!1)}}));var R=a||{},L=R._id,T=R.fname,F=R.lname,_=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n,r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=u.trim())){e.next=12;break}return n="".concat(T," ").concat(F),r=Ke()().format("hh:mm A"),l={id:L,name:n,time:r,message:a,courseID:null===o||void 0===o?void 0:o._id},e.next=8,x.a.post("".concat(k.severHostedUrl,"/course/sendmessage"),l);case 8:(c=e.sent)&&(m(""),c.data.message?(ga.emit("msgSentInStream",c.data.course),I(H(c.data.course)),A(c.data.message),D("success")):(A(c.data.error),D("error"))),e.next=14;break;case 12:A("Please write something"),D("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(g.a,{maxWidth:"1100px",display:"flex",flexDirection:"column",justifyContent:"center",sx:{marginX:"auto"}},j?r.a.createElement(U,{openSnack:j,severity:N,text:j,setOpenSnack:A}):"",r.a.createElement(g.a,{sx:{width:"100%",height:"240px",borderRadius:"10px",marginTop:3}},r.a.createElement("img",{src:Xe.a,width:"100%",height:"100%",style:{borderRadius:"10px"},alt:"BackGround Image"})),null===o||void 0===o||null===(t=o.chat)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(Qe,{color:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"green":"#ba000d",timeColor:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"#2e7d32de":"#ba000db8",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})),l?"":E?r.a.createElement(g.a,{mt:3,border:"1px solid red",borderRadius:2,width:"100%",py:3,textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"red"},"You Can't send Message Because You're Muted...")):r.a.createElement(qe,{name:"message",autoFocus:!0,value:u,setValue:m,placeholder:"Add comment to All Students",color:"success",submitFunc:_,userName:null===a||void 0===a?void 0:a.fname[0]})):r.a.createElement(d,null)},$e=function(e){var t=e.currentCourse,a=e.curUser,o=Object(n.useState)(null),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(!1),d=Object(c.a)(u,2),m=d[0],b=d[1],f=Object(n.useState)(""),E=Object(c.a)(f,2),h=E[0],C=E[1],y=Object(n.useState)(""),j=Object(c.a)(y,2),A=j[0],w=j[1],S=Object(n.useState)(""),N=Object(c.a)(S,2),D=N[0],I=N[1],R=function(){b(!m)},L=a||{},F=L._id,_=L.fname,W=L.lname,z=function(){var e=Object(v.a)(p.a.mark((function e(a){var n,r,o,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=h.trim())){e.next=12;break}return r="".concat(_," ").concat(W),o=Ke()().format("hh:mm A"),l={id:F,name:r,time:o,message:n,courseID:null===t||void 0===t?void 0:t._id},e.next=8,x.a.post("".concat(k.severHostedUrl,"/course/announcement"),l);case 8:(c=e.sent)&&(C(""),R(),c.data.message?(w(c.data.message),I("success"),ga.emit("changeInCourse",c.data.course),i(c.data.course.announcement)):(w(c.data.error),I("error"))),e.next=14;break;case 12:w("Write something"),I("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(null===t||void 0===t?void 0:t.announcement)}),[t]),r.a.createElement(g.a,{maxWidth:"1100px",minHeight:"77vh",display:"flex",flexDirection:"column",sx:{marginX:"auto"}},A?r.a.createElement(U,{openSnack:A,severity:D,text:A,setOpenSnack:w}):"","teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement("div",null,m?r.a.createElement(qe,{name:"announce",autoFocus:!0,value:h,setValue:C,type:"text",placeholder:"Write Announcement",color:"success",submitFunc:z,userName:null===a||void 0===a?void 0:a.fname[0]}):"",r.a.createElement(g.a,{onClick:R,sx:{width:"100%","&:hover":{color:"green",cursor:"pointer"},borderRadius:"12px",backgroundColor:"#00710012",padding:"1rem 1.5rem",boxShadow:4}},r.a.createElement(g.a,{width:"100%"},r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{width:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},"r")),r.a.createElement(g.a,{flexGrow:1},r.a.createElement(O.a,{color:"#0000009c",sx:{fontSize:"14px","&:hover":{color:"green",cursor:"pointer",textDecoration:"underline"}}},"Announce Something to Your Students")),r.a.createElement(g.a,null,r.a.createElement(T.a,{sx:{borderRadius:5},size:"small"},r.a.createElement(Fe.a,{size:"23px"}))))))):r.a.createElement(g.a,{borderBottom:"1px solid #00800059",display:"flex",justifyContent:"flex-start",pb:2,px:2,width:"100%"},r.a.createElement(O.a,{variant:"h4",color:"green"},"Announcements")),null===s||void 0===s?void 0:s.map((function(e,t){return r.a.createElement(Qe,{color:"green",timeColor:"#2e7d32de",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})))},et=function(e){var t,a,o=e.currentCourse,l=e.curUser,s=(e.isAdmin,Object(n.useState)(null===o||void 0===o?void 0:o.students)),i=Object(c.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(null),f=Object(c.a)(m,2),E=f[0],h=f[1],C=Object(n.useState)(""),y=Object(c.a)(C,2),j=y[0],A=y[1],S=Object(n.useState)(""),N=Object(c.a)(S,2),D=N[0],I=N[1],F=Object(n.useState)(""),_=Object(c.a)(F,2),W=_[0],z=_[1],B=Object(n.useState)(""),M=Object(c.a)(B,2),P=M[0],Y=M[1],G=Object(n.useState)(""),H=Object(c.a)(G,2),q=H[0],V=H[1],X=Boolean(E),Q=l||{},Z=Q._id,K=Q.fname,J=Q.lname,ee=function(e){I(""),A(""),z(""),h(e.currentTarget)},te=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={studentID:t,courseID:null===o||void 0===o?void 0:o._id},e.next=4,x.a.post("".concat(k.severHostedUrl,"/course/delspecificstudent"),a);case 4:(n=e.sent)&&(n.data.message?(ga.emit("changeInCourse",n.data.course),d(n.data.course.students),Y(n.data.message),V("success")):(Y(n.data.error),V("error"))),ne(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),ne();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ne(),e.next=4,x.a.post("".concat(k.severHostedUrl,"/course/mutestudent"),{courseID:null===o||void 0===o?void 0:o._id,studentID:t});case 4:(a=e.sent)&&(ga.emit("changeInCourse",a.data.course),d(a.data.course.students),a.data.message?(Y(a.data.message),V("success")):(Y(a.data.error),V("error"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),ne();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){h(null)},re=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n,r,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=j.trim())){e.next=12;break}return n="".concat(K," ").concat(J),r=Ke()().format("hh:mm:ss A"),o={senderID:Z,senderName:n,time:r,message:a,recieverID:D,recieverName:W},e.next=8,x.a.post("".concat(k.severHostedUrl,"/user/sendmsg"),o);case 8:(l=e.sent)&&(l.data.message?(ga.emit("changeInConversation",l.data.conversation),Y(l.data.message),V("success")):(Y(l.data.error),V("error")),A(""),I(""),z("")),e.next=14;break;case 12:Y("write something"),V("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(g.a,null,r.a.createElement(g.a,{sx:{maxWidth:"760px",margin:"0 auto"}},P?r.a.createElement(U,{openSnack:P,severity:q,text:P,setOpenSnack:Y}):"",r.a.createElement(g.a,{display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(O.a,{variant:"h4",color:"green"},"Students"),r.a.createElement(O.a,{variant:"body1",mt:3,color:"green"},(null===o||void 0===o||null===(t=o.students)||void 0===t?void 0:t.length)>0?u.length:"No"," students")),(null===o||void 0===o||null===(a=o.students)||void 0===a?void 0:a.length)>0?u.map((function(e,t){return r.a.createElement(g.a,{key:t},r.a.createElement(g.a,Object(b.a)({p:"10px 20px",mt:1,width:"85%",display:"flex",justifyContent:"space-between",sx:{borderRadius:"10px","&:hover":{backgroundColor:"#009c0026",boxShadow:3,cursor:"pointer"}}},"width","100%"),r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{minWidth:"65px"},r.a.createElement($.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},e.name[0])),r.a.createElement(g.a,null,r.a.createElement(O.a,{sx:{fontSize:"16px"}},e.name))),r.a.createElement(T.a,{id:"basic-button",sx:{color:"black",borderRadius:5},"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":X?"true":void 0,onClick:ee,size:"small"},r.a.createElement(w.d,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(R.a,{id:"basic-menu",anchorEl:E,open:X,onClose:ne,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(L.a,{onClick:function(){I(e.id),z(e.name),ne()}},"Send Message to ",null===e||void 0===e?void 0:e.name),r.a.createElement(L.a,{onClick:function(){return te(e.id)}},"Remove"),r.a.createElement(L.a,{onClick:function(){return ae(e.id)}},e.muted?"Unmute":"Mute"))),D?r.a.createElement(qe,{name:"message",autoFocus:!0,value:j,setValue:A,type:"text",placeholder:"Write Message for this student",color:"success",submitFunc:re,userName:null===l||void 0===l?void 0:l.fname[0]}):"")})):r.a.createElement(g.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently No Students..."))))},tt=function(e){var t=e.currentCourse,a=e.btnTitle,o=e.tooltipTitle,l=e.curUser,s=e.btnIcon,i=e.dialogTitle,u=e.actionTitle,d=e.isTeacher,m=e.btnStartIcon,b=e.btnColor,f=e.btnVariant,E=e.currentAssignment,h=e.input2label,y=e.setOpenSnack,j=e.setSeverity,A=e.setAllAssignments,w=Object(n.useState)(!1),S=Object(c.a)(w,2),N=S[0],U=S[1],D=Object(n.useState)(null),I=Object(c.a)(D,2),R=I[0],L=I[1],F=function(){U(!1)},_=Object(P.b)(),z=Object(le.a)({initialValues:{title:d?"":null===E||void 0===E?void 0:E.title,desc:""},validationSchema:ce.b().shape({title:ce.c().required("Title is Required Field...")}),onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(a){var n,r,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,R||a.desc){e.next=6;break}y("You cannot leave both files and description blank at the same time"),j("error"),e.next=27;break;case 6:if(n=new FormData,!a.desc&&R?n.append("myFile",R):!R&&a.desc?n.append("desc",a.desc):(n.append("desc",a.desc),n.append("myFile",R)),r={headers:{"content-type":"multipart/form-data"}},!d){e.next=18;break}return n.append("title",a.title),n.append("courseID",null===t||void 0===t?void 0:t._id),e.next=14,x.a.post("".concat(k.severHostedUrl,"/assignment/add"),n,r);case 14:(o=e.sent)&&(F(),L(null),a={},o.data.message?(A(o.data.allAssignment),ga.emit("assignmentAdd",o.data.allAssignment),_(q(o.data.allAssignment)),y(o.data.message),j("success")):(y(o.data.error),j("error"))),e.next=27;break;case 18:return n.append("assignmentID",null===E||void 0===E?void 0:E._id),n.append("id","".concat(null===l||void 0===l?void 0:l._id)),n.append("name","".concat(null===l||void 0===l?void 0:l.fname," ").concat(null===l||void 0===l?void 0:l.lname)),n.append("time",Ke()().format("hh:mm:ss A")),F(),e.next=25,x.a.post("".concat(k.severHostedUrl,"/assignment/submit"),n,r);case 25:(c=e.sent)&&(L(null),ga.emit("changeInAssignment",c.data.assignment),c.data.message?(y(c.data.message),j("success")):(y(c.data.error),j("error")));case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0),F();case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{title:o,arrow:!0},r.a.createElement(T.a,{startIcon:m,onClick:function(){U(!0)},color:b,sx:{marginTop:d?3:0,borderRadius:5},variant:f},a||s)),r.a.createElement(ae.a,{open:N,onClose:F,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ne.a,null,i),r.a.createElement(re.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(C.a,{autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",variant:"filled",value:d?z.values.title:null===E||void 0===E?void 0:E.title,onChange:z.handleChange("title"),autoComplete:"off",disabled:!d,fullWidth:!0,color:"success",inputProps:{maxLength:32,required:!0}}),z.errors.title&&z.touched.title&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},z.errors.title),r.a.createElement(C.a,{margin:"dense",name:"desc",label:h,type:"text",variant:"filled",value:z.values.desc,onChange:z.handleChange("desc"),autoComplete:"off",fullWidth:!0,color:"success",multiline:!0,minRows:2,inputProps:{maxLength:500}}),r.a.createElement(g.a,{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},r.a.createElement(g.a,{border:"1px solid rgba(0, 0, 0, 0.09)",px:"14px",mt:1,py:"7px",flexGrow:1},r.a.createElement(O.a,{variant:"subtitle1"},R?R.name:"No File Selected")),r.a.createElement(W.a,{title:"Attech File",arrow:!0},r.a.createElement(T.a,{component:"label",sx:{borderRadius:5}},r.a.createElement(Fe.b,{size:"20px",color:"white"}),r.a.createElement("input",{type:"file",onChange:function(e){return function(e){var t=e.target.files[0];t&&(t.size/1024/1024>10?(y("file Size is too long"),j("error")):L(t))}(e)},accept:".zip,.txt,.psd,.pptx,.pptx,.png,.jpeg,.jpg,.pdf,.docx,.doc",hidden:!0})))))),r.a.createElement(oe.a,null,r.a.createElement(T.a,{onClick:z.handleSubmit,color:"success",variant:"contained"},u),r.a.createElement(T.a,{onClick:F,color:"success",variant:"outlined"},"cancel"))))},at=function(e){var t,a=e.curUser,o=e.isTeacher,l=e.isAdmin,s=e.assignment,i=e.setCurrentAssignmentID,u=e.setChecked,d=Object(n.useState)(!1),m=Object(c.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(null),f=Object(c.a)(b,2),E=f[0],h=f[1],x=Boolean(E),C=function(e){h(null)};return r.a.createElement("div",null,r.a.createElement(Ie.a,{expanded:"panel1"===p,onChange:(t="panel1",function(e,a){v(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Re.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{minWidth:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},r.a.createElement(we.b,{size:"20px",color:"white"}))),r.a.createElement(g.a,null,r.a.createElement(O.a,{sx:{fontSize:"16px"}},null===s||void 0===s?void 0:s.title))),r.a.createElement(g.a,{display:"flex",alignItems:"center"},(null===s||void 0===s?void 0:s.file)?r.a.createElement(W.a,{arrow:!0,title:"View file"},r.a.createElement(T.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===s||void 0===s?void 0:s.file},r.a.createElement(Pe.a,{size:"23px",style:{margin:"auto 0px"}}))):"",o||l?r.a.createElement(g.a,null,r.a.createElement(T.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":x?"true":void 0,onClick:function(e){e.stopPropagation(),h(e.currentTarget)}},r.a.createElement(we.f,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(R.a,{id:"basic-menu",anchorEl:E,open:x,onClose:C,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(L.a,{onClick:function(e){e.stopPropagation(),i(null===s||void 0===s?void 0:s._id),u(!1),C()}},"Non-checked Students"),r.a.createElement(L.a,{onClick:function(e){e.stopPropagation(),i(null===s||void 0===s?void 0:s._id),u(!0),C()}},"Submitted & Checked Students"))):r.a.createElement(tt,{btnIcon:r.a.createElement(we.g,{size:"23px",style:{margin:"auto 0px"}}),btnVariant:"text",btnColor:"success",tooltipTitle:"Submit Assignment",input2label:"Answers",currentAssignment:s,dialogTitle:"Submit Assignment",actionTitle:"submit",curUser:a,isTeacher:o}))),r.a.createElement(Le.a,null,r.a.createElement(O.a,null," ",(null===s||void 0===s?void 0:s.description)?s.description:"This Assignment have no desccription"))))},nt=a(88),rt=function(e){var t=e.submitted;return r.a.createElement(g.a,{width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{width:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===t||void 0===t?void 0:t.name[0])),r.a.createElement(g.a,{flexGrow:1},r.a.createElement(O.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===t||void 0===t?void 0:t.name)),r.a.createElement(O.a,{mr:2,variant:"body1"},Math.round(null===t||void 0===t?void 0:t.marks)," Marks")))},ot=a(77),lt=function(e){var t,a=e.submitted,o=e.assignmentID,l=(e.checked,e.setOpenSnack),s=e.setSeverity,i=e.isAdmin,u=Object(P.c)((function(e){return e.usersReducer.curUser})),d=Object(n.useState)(!1),m=Object(c.a)(d,2),b=m[0],f=m[1],E=Object(n.useState)(!1),h=Object(c.a)(E,2),C=h[0],y=h[1],j=Object(n.useState)(Number(0)),A=Object(c.a)(j,2),w=A[0],S=A[1],N=Object(n.useState)(!1),U=Object(c.a)(N,2),D=U[0],I=U[1],R=function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w&&w>=0&&w<=100)){e.next=13;break}return e.prev=1,e.next=4,x.a.post("".concat(k.severHostedUrl,"/assignment/givemarks"),{studentID:null===a||void 0===a?void 0:a.id,assignmentID:o,marks:w});case 4:(n=e.sent)&&(ga.emit("changeInAssignment",n.data.assignment),y(!0),n.data.message?(l(n.data.message),s("success")):(l(n.data.error),s("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=15;break;case 13:l("Failed to Giving Marks..."),s("error");case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(g.a,null,C?"":r.a.createElement(g.a,null,r.a.createElement(Ie.a,{expanded:"panel1"===D,onChange:(t="panel1",function(e,a){I(!!a&&t)}),sx:{backgroundColor:"#00800012",borderRadius:1,marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Re.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{minWidth:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===a||void 0===a?void 0:a.name[0])),r.a.createElement(g.a,null,r.a.createElement(O.a,{sx:{fontSize:"16px"}},null===a||void 0===a?void 0:a.name))),r.a.createElement(g.a,{display:"flex",alignItems:"center"},(null===a||void 0===a?void 0:a.file)?r.a.createElement(W.a,{arrow:!0,title:"View file"},r.a.createElement(T.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===a||void 0===a?void 0:a.file},r.a.createElement(Pe.a,{size:"23px",style:{margin:"auto 0px"}}))):"",i?"":r.a.createElement(g.a,null,r.a.createElement(W.a,{title:"Give Marks"},r.a.createElement(T.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button",onClick:function(e){e.stopPropagation(),f(!b)}},r.a.createElement(ot.c,{size:"23px",style:{margin:"auto 0px"}})))))),r.a.createElement(Le.a,null,r.a.createElement(O.a,null,null===a||void 0===a?void 0:a.desc))),r.a.createElement(g.a,{mx:1,onClick:function(e){e.stopPropagation()}},b?r.a.createElement(qe,{name:"marks",autoFocus:!0,value:w,setValue:S,type:"number",placeholder:"Give Marks Out of 100",color:"success",submitFunc:R,userName:null===u||void 0===u?void 0:u.fname[0]}):"")))},ct=function(e){var t,a,o,l=e.currentAssignmentID,s=e.checked,i=e.isAdmin,u=Object(P.c)((function(e){return e.usersReducer.currentAssignment})),d=Object(n.useState)(u),m=Object(c.a)(d,2),b=m[0],f=m[1],h=Object(n.useState)(""),C=Object(c.a)(h,2),y=C[0],j=C[1],A=Object(n.useState)(""),w=Object(c.a)(A,2),S=w[0],N=w[1],D=Object(P.b)(),I=Object(E.g)();return Object(n.useEffect)((function(){ga.on("CHANGE_IN_ASSIGNMENT",(function(e){(null===u||void 0===u?void 0:u._id)===e._id&&(f(e),D(V(e)))}))})),Object(n.useEffect)(Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(k.severHostedUrl,"/assignment/submitted/").concat(l));case 2:(t=e.sent)&&(D(V(t.data.assignment)),f(t.data.assignment));case 4:case"end":return e.stop()}}),e)}))),[]),r.a.createElement(g.a,null,y?r.a.createElement(U,{openSnack:y,severity:S,text:y,setOpenSnack:j}):"",r.a.createElement(g.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(W.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(T.a,{onClick:function(){return I.push("/coursedetails")},startIcon:r.a.createElement(nt.b,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(g.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(O.a,{variant:"h4",color:"green"},s?"Checked ":"Submitted "," Students"),r.a.createElement(O.a,{variant:"body1",mt:2,color:"green"},"(",null===b||void 0===b?void 0:b.title,")")),s?null===b||void 0===b||null===(t=b.submitted)||void 0===t?void 0:t.map((function(e,t){return e.marks?r.a.createElement(rt,{key:t,submitted:e}):""})):(null===b||void 0===b||null===(a=b.submitted)||void 0===a?void 0:a.length)>0?null===b||void 0===b||null===(o=b.submitted)||void 0===o?void 0:o.map((function(e,t){return e.marks?"":r.a.createElement(lt,{checked:s,isAdmin:i,key:t,submitted:e,assignmentID:null===b||void 0===b?void 0:b._id,setOpenSnack:j,setSeverity:N})})):r.a.createElement(g.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently No Student Submit this Assignment")))},st=function(e){var t=e.currentCourseID,a=Object(P.c)((function(e){return e.usersReducer.curUser})),o=Object(n.useState)(null),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(E.g)(),d=Object(P.b)();return Object(n.useEffect)(Object(v.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(k.severHostedUrl,"/assignment/studentallchecked"),{courseID:t,studentID:null===a||void 0===a?void 0:a._id});case 3:(n=e.sent)&&(i(n.data.checked),d({type:"CHECKED_ASSIGNMENTS",payload:n.data.checked})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(g.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(W.a,{title:"Back to Course Details",arrow:!0},r.a.createElement(T.a,{onClick:function(){return u.push("/coursedetails")},startIcon:r.a.createElement(nt.b,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(g.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(O.a,{variant:"h4",color:"green"},"All Checked Assignments"),r.a.createElement(O.a,{variant:"body1",mt:2,color:"green"},"(Assignment Name)"))),(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((function(e,t){var n=e.submitted.find((function(e){return e.id===a._id})),o=null===n||void 0===n?void 0:n.marks;return r.a.createElement(g.a,{key:t,width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{width:"65px"},r.a.createElement($.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===e||void 0===e?void 0:e.title[0])),r.a.createElement(g.a,{flexGrow:1},r.a.createElement(O.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===e||void 0===e?void 0:e.title)),r.a.createElement(O.a,{mr:2,variant:"body1"},o," Marks")))})):r.a.createElement(g.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"No Assignment Checked")))},it=function(e){var t=e.curUser,a=e.isTeacher,o=e.currentCourse,l=e.isAdmin,s=Object(P.c)((function(e){return e.usersReducer.allAssignments})),i=Object(n.useState)(s),u=Object(c.a)(i,2),d=u[0],m=u[1],b=Object(n.useState)(""),f=Object(c.a)(b,2),E=f[0],h=f[1],C=Object(n.useState)(""),y=Object(c.a)(C,2),j=y[0],A=y[1],w=Object(n.useState)(null),S=Object(c.a)(w,2),N=S[0],D=S[1],I=Object(n.useState)(""),R=Object(c.a)(I,2),L=R[0],F=R[1],_=Object(n.useState)(""),z=Object(c.a)(_,2),B=z[0],M=z[1],Y=Object(P.b)();return Object(n.useEffect)(Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(k.severHostedUrl,"/assignment/allassignments"),{courseID:null===o||void 0===o?void 0:o._id});case 3:(t=e.sent)&&(Y(q(t.data.allAssignments)),m(t.data.allAssignments)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement(g.a,{sx:{maxWidth:"760px",margin:"0 auto"}},L?r.a.createElement(U,{openSnack:L,severity:B,text:L,setOpenSnack:F}):"",E&&a||E&&l?r.a.createElement(ct,{checked:N,isAdmin:l,currentAssignmentID:E}):a||l||!j?r.a.createElement(g.a,null,r.a.createElement(g.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},a?r.a.createElement(tt,{btnTitle:"create",btnVariant:"contained",btnColor:"success",input2label:"Questions and Instructions",tooltipTitle:"Create Assignment",btnStartIcon:r.a.createElement(we.a,{size:"20px",color:"white"}),dialogTitle:"Create Assignment or Questions",actionTitle:"create",currentCourse:o,isTeacher:a,setOpenSnack:F,setSeverity:M,setAllAssignments:m}):l?"":r.a.createElement(W.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(T.a,{onClick:function(){return A(null===o||void 0===o?void 0:o._id)},color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Checked"))),r.a.createElement(g.a,{display:"flex",justifyContent:"flex-start",mb:2,pb:3,px:2,width:"100%",borderBottom:"1px solid #009c0052"},r.a.createElement(O.a,{variant:"h4",color:"green"},a||l?"":"Non Submitted ","Assignments")),(null===d||void 0===d?void 0:d.length)>0?null===d||void 0===d?void 0:d.map((function(e,n){if(!(null===e||void 0===e?void 0:e.submitted.find((function(e){return e.id===t._id}))))return r.a.createElement(at,{key:n,curUser:t,isTeacher:a,isAdmin:l,assignment:e,setCurrentAssignmentID:h,setChecked:D})})):r.a.createElement(g.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently No Assignments"))):r.a.createElement(st,{currentCourseID:j}))},ut=Object(pe.a)({class_materials:{width:"100vw",height:"100vh"}}),dt=function(e){var t,a=e.curUser,o=e.setAuth,l=Object(P.c)((function(e){return e.usersReducer.currentCourse})),s=Object(n.useState)(""),i=Object(c.a)(s,2),u=i[0],m=i[1],b=Object(n.useState)(""),f=Object(c.a)(b,2),h=f[0],C=(f[1],Object(n.useState)(null)),O=Object(c.a)(C,2),y=O[0],j=O[1],A=Object(n.useState)(!0),w=Object(c.a)(A,2),S=w[0],N=w[1],D=null===l||void 0===l||null===(t=l.students)||void 0===t?void 0:t.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)})),I=ut(),R=Object(E.i)(),L=Object(E.g)(),T=Object(P.b)();return Object(n.useEffect)(Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(k.severHostedUrl,"/course/specific"),{id:R.id});case 3:(t=e.sent).data.currentCourse?(T(H(t.data.currentCourse)),j(!0),N(!1)):(j(!1),N(!1),L.push("/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),L.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(n.useEffect)((function(){ga.on("CHANGE_IN_COURSE",(function(e){(null===l||void 0===l?void 0:l._id)===e._id&&T(H(e))}))}),[]),S?r.a.createElement(d,null):r.a.createElement(g.a,{className:I.class_materials},r.a.createElement(J,{curUser:a,setAuth:o}),y&&("student"===(null===a||void 0===a?void 0:a.roll)&&D||"teacher"===(null===a||void 0===a?void 0:a.roll)&&(null===l||void 0===l?void 0:l.teacher_id)===(null===a||void 0===a?void 0:a._id))?r.a.createElement(g.a,null,u?r.a.createElement(U,{openSnack:u,severity:h,text:u,setOpenSnack:m}):"",r.a.createElement(Me,{tab1Label:"Stream",panel1:r.a.createElement(Je,{currentCourse:l,curUser:a}),tab2Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Class Work":"Assignments",panel2:r.a.createElement(it,{isTeacher:"teacher"===(null===a||void 0===a?void 0:a.roll),currentCourse:l,curUser:a}),tab3Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Students":"Announcement",panel3:"teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement(et,{currentCourse:l,curUser:a}):r.a.createElement($e,{currentCourse:l,curUser:a}),tab4Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Announcement":"",panel4:"teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement($e,{currentCourse:l,curUser:a}):""})):L.push("/coursedetails"))};var mt=function(){return r.a.createElement("div",null,r.a.createElement(g.a,{sx:{color:"green",backgroundColor:"#fff",width:"100%",height:"100%"},open:!0},r.a.createElement(u.a,{color:"inherit"})))},pt=function(e){var t=e.curUser,a=e.id,o=e.allConversationsArray,l=Object(P.c)((function(e){return e.usersReducer.currentConversation})),s=Object(n.useState)({}),i=Object(c.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),b=Object(c.a)(m,2),f=b[0],h=b[1],C=Object(n.useState)(""),y=Object(c.a)(C,2),j=y[0],A=y[1],w=Object(n.useState)(""),S=Object(c.a)(w,2),N=S[0],D=S[1],I=Object(n.useState)(!0),R=Object(c.a)(I,2),L=R[0],F=R[1],_=Object(E.g)(),W=Object(P.b)(),z=t||{},B=z._id,M=z.fname,Y=z.lname,G=function(){var e=Object(v.a)(p.a.mark((function e(){var a,n,r,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=N.trim())){e.next=12;break}return n="".concat(M," ").concat(Y),r=Ke()().format("hh:mm:ss A"),o={_id:null===u||void 0===u?void 0:u._id,senderID:B,name:n,time:r,message:a,recieverID:(null===t||void 0===t?void 0:t._id)===(null===u||void 0===u?void 0:u.user1ID)?null===u||void 0===u?void 0:u.user2ID:null===u||void 0===u?void 0:u.user1ID},e.next=8,x.a.post("".concat(k.severHostedUrl,"/user/sendmsg"),o);case 8:(l=e.sent)&&(l.data.message?(d(l.data.conversation),ga.emit("changeInConversation",l.data.conversation),h(l.data.message),A("success")):(h(l.data.error),A("error")),D("")),e.next=14;break;case 12:h("write something"),A("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.find((function(e){return e._id===a}));W(Q(e)),d(e),F(!1)}),[]),Object(n.useEffect)((function(){d(l)}),[l]),r.a.createElement(g.a,{mx:"auto",maxHeight:"85vh",sx:{overflowY:"auto"},maxWidth:"900px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",mt:5},f?r.a.createElement(U,{openSnack:f,severity:j,text:f,setOpenSnack:h}):"",r.a.createElement(g.a,{display:"flex",justifyContent:"flex-end",pb:1,pr:2,width:"100%"},r.a.createElement(T.a,{startIcon:r.a.createElement(nt.b,{size:"22px",color:"white"}),variant:"contained",onClick:function(){return _.push("/messages")},size:"small",color:"success",sx:{borderRadius:5}},"Back")),r.a.createElement(g.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"flex-start",pb:1,pl:2,width:"100%"},r.a.createElement(O.a,{variant:"h5",color:"green",sx:{textTransform:"capitalize"}},(null===t||void 0===t?void 0:t._id)===(null===u||void 0===u?void 0:u.user1ID)?null===u||void 0===u?void 0:u.user1Name:null===u||void 0===u?void 0:u.user2Name)),r.a.createElement(g.a,{width:"100%",display:"flex",flexDirection:"column",minHeight:"71vh",px:1.5},r.a.createElement(g.a,{width:"100%",flexGrow:1},L?r.a.createElement(mt,null):null===u||void 0===u?void 0:u.chat.map((function(e,a){return r.a.createElement(Qe,{key:a,color:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"green":"#ba000d",timeColor:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"#2e7d32de":"#ba000db8",nameFirestLetter:(null===e||void 0===e?void 0:e.senderID)===u.user1ID?u.user1Name[0]:u.user2Name[0],name:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"Me":(null===e||void 0===e?void 0:e.senderID)===u.user1ID?u.user1Name:u.user2Name,time:e.time,message:e.message})}))),r.a.createElement(qe,{name:"message",autoFocus:!0,value:N,setValue:D,type:"text",placeholder:"Write Message...",color:"success",submitFunc:G,userName:null===t||void 0===t?void 0:t.fname[0]})))},vt=function(e){var t=e.curUser,a=e.setAuth,o=Object(P.c)((function(e){return e.usersReducer.allConversations})),l=Object(n.useState)(o),s=Object(c.a)(l,2),i=s[0],u=s[1],d=Object(n.useState)(""),m=Object(c.a)(d,2),b=m[0],f=m[1],E=Object(n.useState)(""),h=Object(c.a)(E,2),C=(h[0],h[1],Object(P.b)());return Object(n.useEffect)((function(){u(o)}),[o]),Object(n.useEffect)(Object(v.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(k.severHostedUrl,"/user/myallconversations/").concat(null===t||void 0===t?void 0:t._id));case 3:(a=e.sent)&&(C(X(a.data.allConversations)),u(a.data.allConversations)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement(g.a,{className:"msgs"},r.a.createElement(J,{curUser:t,setAuth:a}),b?r.a.createElement(pt,{id:b,allConversationsArray:i,curUser:t}):r.a.createElement(g.a,{mx:"auto",px:2,maxHeight:"85vh",sx:{overflowY:"auto"},maxWidth:"900px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},r.a.createElement(g.a,{mt:5,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"flex-start",pb:1,px:2,width:"100%"},r.a.createElement(O.a,{variant:"h5",color:"green"},"All Conversation")),r.a.createElement(g.a,{width:"100%"},(null===i||void 0===i?void 0:i.length)>0?i.map((function(e,a){var n=(null===t||void 0===t?void 0:t._id)===e.user1ID;return r.a.createElement(g.a,{sx:{cursor:"pointer"},onClick:function(){return f(e._id)},mt:2,key:a,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(g.a,{minWidth:"65px"},r.a.createElement($.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},n?e.user2Name[0]:e.user1Name[0])),r.a.createElement(g.a,null,r.a.createElement(O.a,{sx:{fontSize:"16px",textTransform:"capitalize"}},n?e.user2Name:e.user1Name))),r.a.createElement(g.a,{mt:1},r.a.createElement(O.a,{sx:{fontSize:"12px"},color:"green"},e.chat.length," Messages")))})):r.a.createElement(g.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"h6",color:"green"},"Currently You Have No Conversation")))))},bt=a(490),ft=a(507),Et=a(515),ht=a(502),xt=a(488),gt=a(489),Ct=a(501),Ot=a(150),yt=a.n(Ot),jt=a(238),At={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",borderRadius:1,boxShadow:24,px:2,py:4,minWidth:300,maxWidth:400,maxHeight:500,overflowY:"auto"};function wt(e){var t=e.curUser,a=e.setRecieverID,o=e.setRecieverName,l=e.setConversationID,s=e.allConversationsArray,i=Object(P.c)((function(e){return e.usersReducer.users})),u=Object(n.useState)(!1),d=Object(c.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)([]),b=Object(c.a)(v,2),f=b[0],E=b[1],h=function(){return p(!1)};return Object(n.useEffect)((function(){var e=[];s.map((function(a){return e.push((null===t||void 0===t?void 0:t._id)===a.user1ID?a.user2ID:a.user1ID)}));var a=null===i||void 0===i?void 0:i.filter((function(t){return!e.includes(t._id)}));E(a)}),[m]),r.a.createElement("div",null,r.a.createElement(T.a,{onClick:function(){return p(!0)},fullWidth:!0,startIcon:r.a.createElement(jt.a,{color:"#fff"}),sx:{color:"#fff",backgroundColor:"darkgreen","&:hover":{backgroundColor:"#014201"},borderRadius:1,boxShadow:5,py:1.5}},"Conversation"),r.a.createElement(Ct.a,{open:m,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},r.a.createElement(g.a,{sx:At},(null===f||void 0===f?void 0:f.length)>0?null===f||void 0===f?void 0:f.map((function(e,t){return r.a.createElement(g.a,{key:t,display:"flex",justifyContent:"space-around",alignItems:"center",py:1,mb:1,border:"3px solid #033c030d",boxShadow:4,borderRadius:1,sx:{cursor:"pointer","&:hover":{backgroundColor:"#00640021"}},onClick:function(){a(e._id),o("".concat(e.fname," ").concat(e.lname)),l(""),h()}},r.a.createElement($.a,{alt:e.fname,src:e.dp?e.dp:yt.a,sx:{border:"1px solid #014201"}}),r.a.createElement(O.a,{variant:"subtitle1",color:"darkgreen"},r.a.createElement("b",null,"".concat(e.fname," ").concat(e.lname))),r.a.createElement(O.a,{variant:"subtitle1",color:"darkgreen"},e.roll))})):r.a.createElement(O.a,{variant:"h6",color:"black",sx:{m:"0 auto"}},"Currently No Users"))))}var kt=function(e){var t=e.bgColor,a=e.textColor,n=e.position,o=e.time,l=e.message;return r.a.createElement(g.a,{mb:1,sx:{display:"flex",justifyContent:n}},r.a.createElement(g.a,null,r.a.createElement(g.a,{maxWidth:"350px",width:"fit-content",border:"1px solid darkgreen",borderRadius:.4,mb:.5,p:"8px 16px",sx:{backgroundColor:t,color:a,alignSelf:n}},l),r.a.createElement("span",{style:{fontSize:"12px"}},o)))},St=function(e){var t=e.curUser,a=e.id,o=e.allConversationsArray,l=e.recieverID,s=e.recieverName,i=Object(P.c)((function(e){return e.usersReducer.currentConversation})),u=Object(n.useState)({}),d=Object(c.a)(u,2),m=d[0],f=d[1],E=Object(n.useState)(""),h=Object(c.a)(E,2),C=h[0],y=h[1],j=Object(n.useState)(""),A=Object(c.a)(j,2),w=A[0],S=A[1],N=Object(n.useState)(""),D=Object(c.a)(N,2),I=D[0],R=D[1],L=Object(n.useState)(!0),T=Object(c.a)(L,2),F=T[0],_=T[1],W=Object(P.b)(),z=t||{},B=z._id,M=z.fname,Y=z.lname,G=function(){var e=Object(v.a)(p.a.mark((function e(){var t,n,r,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=I.trim())){e.next=12;break}return n="".concat(M," ").concat(Y),r=Ke()().format("hh:mm:ss A"),o={senderID:B,senderName:n,time:r,message:t,recieverID:l,recieverName:s,_id:a||null},e.next=8,x.a.post("".concat(k.severHostedUrl,"/user/sendmsg"),o);case 8:(c=e.sent)&&(c.data.message?(f(c.data.conversation),ga.emit("changeInConversation",c.data.conversation),y(c.data.message),S("success")):(y(c.data.error),S("error")),R("")),e.next=14;break;case 12:y("write something"),S("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.find((function(e){return e._id===a}));W(Q(e)),f(e),_(!1)}),[a]),Object(n.useEffect)((function(){f(i)}),[i,o]),r.a.createElement(g.a,Object(b.a)({mx:"auto",sx:{overflowY:"auto",boxShadow:3},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",mt:1},"sx",{backgroundColor:"#fff"}),C?r.a.createElement(U,{openSnack:C,severity:w,text:C,setOpenSnack:y}):"",r.a.createElement(g.a,{width:"100%",display:"flex",flexDirection:"column",minHeight:"85vh",px:1.5},r.a.createElement(g.a,{width:"100%",flexGrow:1,pt:1,display:"flex",flexDirection:"column"},F?r.a.createElement(mt,null):(null===m||void 0===m?void 0:m.chat.length)>0?null===m||void 0===m?void 0:m.chat.map((function(e,a){return r.a.createElement(kt,{key:a,bgColor:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"darkgreen":"#fff",textColor:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"#fff":"darkgreen",position:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"flex-end":"flex-start",message:e.message,time:e.time})})):r.a.createElement(g.a,{pt:5,width:"100%",textAlign:"center"},r.a.createElement(O.a,{variant:"subtitle1",color:"darkgreen"},"Currently No Chats"))),r.a.createElement(qe,{name:"message",autoFocus:!0,value:I,setValue:R,type:"text",placeholder:"Write ...",color:"success",submitFunc:G,userName:null===t||void 0===t?void 0:t.fname[0]})))};var Nt=function(e){var t=Object(P.c)((function(e){return e.usersReducer.allConversations})),a=Object(E.h)().search,o=Object(n.useState)(!1),l=Object(c.a)(o,2),s=l[0],i=l[1],u=e.window,d=Object(n.useState)(t),m=Object(c.a)(d,2),b=m[0],f=m[1],h=Object(n.useState)(""),C=Object(c.a)(h,2),j=C[0],A=C[1],w=Object(n.useState)(""),S=Object(c.a)(w,2),N=S[0],U=S[1],D=Object(n.useState)(null),I=Object(c.a)(D,2),R=I[0],L=I[1],T=Object(P.b)(),W=function(){i(!s)};Object(n.useEffect)((function(){f(t)}),[t]),Object(n.useEffect)(Object(v.a)(p.a.mark((function t(){var n,r,o,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("".concat(k.severHostedUrl,"/user/myallconversations/").concat(null===(n=e.curUser)||void 0===n?void 0:n._id));case 3:(r=t.sent)&&(T(X(r.data.allConversations)),f(r.data.allConversations)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:a&&(o=a.split("?"),l=o[2].split("_"),o&&U(o[1]),l&&L("".concat(l[0]," ").concat(l[1])));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]);var B=r.a.createElement("div",{style:{padding:"8px"}},r.a.createElement(wt,{setRecieverID:U,setRecieverName:L,setConversationID:A,allConversationsArray:b,curUser:e.curUser}),r.a.createElement(Et.a,{sx:{textTransform:"capitalize",py:0,mt:2}},(null===b||void 0===b?void 0:b.length)>0?b.map((function(t,a){var n,o;return r.a.createElement(ht.a,{button:!0,key:a,sx:{mb:1,boxShadow:3,borderRadius:2,border:"3px solid #00640021","&:hover":{backgroundColor:"#0064001a"}},onClick:function(){var a,n;A(t._id),L((null===(a=e.curUser)||void 0===a?void 0:a._id)===(null===t||void 0===t?void 0:t.user1ID)?null===t||void 0===t?void 0:t.user2Name:null===t||void 0===t?void 0:t.user1Name),U((null===(n=e.curUser)||void 0===n?void 0:n._id)===(null===t||void 0===t?void 0:t.user1ID)?null===t||void 0===t?void 0:t.user2ID:null===t||void 0===t?void 0:t.user1ID)}},r.a.createElement(xt.a,null,r.a.createElement($.a,{sx:{backgroundColor:"darkgreen",width:"32px",height:"32px"}},t.user1ID===(null===(n=e.curUser)||void 0===n?void 0:n._id)?t.user2Name[0]:t.user1Name[0]," ")),r.a.createElement(gt.a,{primary:t.user1ID===(null===(o=e.curUser)||void 0===o?void 0:o._id)?t.user2Name:t.user1Name}))})):r.a.createElement(ht.a,{sx:{textAlign:"center",mt:3,color:"#014201",fontWeight:"bold"}},r.a.createElement(gt.a,{primary:"No Conversations"}))),r.a.createElement(y.a,null)),M=void 0!==u?function(){return u().document.body}:void 0;return r.a.createElement(g.a,null,r.a.createElement(bt.a,null),r.a.createElement(y.a,null),r.a.createElement(F.a,{color:"inherit",position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)"),md:"calc(100% - ".concat(480,"px)")},mt:{xs:"48px",sm:"64px"}}},r.a.createElement(_.a,null,r.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:W,sx:{mr:2,display:{md:"none"}}},r.a.createElement(ie.a,{size:"22px",color:"darkgreen"})),r.a.createElement(O.a,{variant:"h6",noWrap:!0,component:"div"},R?r.a.createElement("span",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement($.a,{sx:{backgroundColor:"#014201",mr:3,textTransform:"capitalize"}},R[0]),r.a.createElement("span",{style:{color:"#014201",fontWeight:"bold",textTransform:"capitalize"}},R)):""))),r.a.createElement(g.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders"},r.a.createElement(ft.a,{container:M,variant:"temporary",open:s,onClose:W,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,mt:"0px"}}},B),r.a.createElement(ft.a,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,ml:"240px",mt:"64px"}},open:!0},B)),r.a.createElement(g.a,{component:"main",sx:{flexGrow:1,mt:{xs:"32px",sm:"64px"},ml:{xs:0,md:"240px"},display:"flex",justifyContent:"center",alignItems:"center",minHeight:"85vh",backgroundColor:"#00000012"}},N?r.a.createElement(St,{id:j,allConversationsArray:b,recieverID:N,recieverName:R,curUser:e.curUser}):r.a.createElement(O.a,{variant:"h6",color:"#014201",textAlign:"center"},r.a.createElement(Pe.c,{color:"green",size:"72px"}),r.a.createElement("br",null),(null===b||void 0===b?void 0:b.length)>0?"Select Conversation To Start Chating":"Add Conversation And Start Chating")))},Ut={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",border:"1px solid #000",textAlign:"center",borderRadius:2,boxShadow:24,p:4};var Dt=function(){return r.a.createElement("div",null,r.a.createElement(Ct.a,{open:!0},r.a.createElement(g.a,{sx:Ut},r.a.createElement(O.a,{variant:"h4",color:"red"},"NO ENTRY... !!!"),r.a.createElement(y.a,null),r.a.createElement(O.a,{sx:{mt:2},variant:"subtitle1"},"You Can't do any Activity, ",r.a.createElement("br",null),"You are Blocked by Admin."))))},It=Object(pe.a)({class_materials:{width:"100%",height:"100%"}}),Rt=function(e){var t,a=e.curUser,o=Object(P.c)((function(e){return e.usersReducer.currentCourse})),l=Object(n.useState)(""),s=Object(c.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(""),b=Object(c.a)(m,2),f=b[0],h=(b[1],Object(n.useState)(null)),C=Object(c.a)(h,2),O=C[0],y=C[1],j=Object(n.useState)(!0),A=Object(c.a)(j,2),w=A[0],S=A[1],N=Object(n.useState)(!!(null===a||void 0===a?void 0:a.isAdmin)),D=Object(c.a)(N,2),I=D[0],R=(D[1],null===o||void 0===o||null===(t=o.students)||void 0===t?void 0:t.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)}))),L=It(),T=Object(E.i)(),F=Object(E.g)(),_=Object(P.b)();return Object(n.useEffect)(Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(k.severHostedUrl,"/course/specific"),{id:T.id});case 3:(t=e.sent).data.currentCourse?(_(H(t.data.currentCourse)),y(!0),S(!1)):(y(!1),S(!1),F.push("/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(n.useEffect)((function(){ga.on("CHANGE_IN_COURSE",(function(e){(null===o||void 0===o?void 0:o._id)===e._id&&_(H(e))}))}),[]),w?r.a.createElement(d,null):r.a.createElement(g.a,{className:L.class_materials},O&&("student"===(null===a||void 0===a?void 0:a.roll)&&R||"teacher"===(null===a||void 0===a?void 0:a.roll)&&(null===o||void 0===o?void 0:o.teacher_id)===(null===a||void 0===a?void 0:a._id)||(null===a||void 0===a?void 0:a.isAdmin))?r.a.createElement(g.a,null,i?r.a.createElement(U,{openSnack:i,severity:f,text:i,setOpenSnack:u}):"",r.a.createElement(Me,{tab1Label:"Stream",panel1:r.a.createElement(Je,{currentCourse:o,curUser:a,isAdmin:I}),tab2Label:"teacher"===(null===a||void 0===a?void 0:a.roll)||I?"Class Work":"Assignments",panel2:r.a.createElement(it,{isTeacher:"teacher"===(null===a||void 0===a?void 0:a.roll),isAdmin:I,currentCourse:o,curUser:a}),tab3Label:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?"Students":"Announcement",panel3:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?r.a.createElement(et,{currentCourse:o,isAdmin:I,curUser:a}):r.a.createElement($e,{currentCourse:o,curUser:a}),tab4Label:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?"Announcement":"",panel4:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?r.a.createElement($e,{currentCourse:o,curUser:a}):""})):F.push("/coursedetails"))},Lt=a(242),Tt=["children","auth","SuccessComp","FailComp","isAdmin","AdminComp"],Ft=function(e){e.children;var t=e.auth,a=e.SuccessComp,n=e.FailComp,o=e.isAdmin,l=e.AdminComp,c=Object(Lt.a)(e,Tt);return r.a.createElement(E.b,Object.assign({},c,{render:function(){return t&&o?l:t&&!o?a:n}}))},_t=a(151);var Wt=function(e){var t,a=e.window,r=n.useState(!1),o=Object(c.a)(r,2),l=o[0],s=o[1],i=n.useState(null===(t=e.Component)||void 0===t?void 0:t.key),u=Object(c.a)(i,2),d=u[0],m=u[1],p=function(){s(!l)},v=Object(E.g)();n.useEffect((function(){var t;m(null===(t=e.Component)||void 0===t?void 0:t.key)}));var b=n.createElement("div",null,n.createElement(_.a,{sx:{textAlign:"center"}},n.createElement(O.a,{variant:"h6",color:"#fff",sx:{cursor:"pointer"}},"School App")),n.createElement(Et.a,{sx:{color:"#fff",textTransform:"capitalize",py:0,px:1}},[{label:"dashboard",icon:n.createElement(we.d,{color:"#fff",size:"24px"})},{label:"users",icon:n.createElement(A.c,{color:"#fff",size:"24px"})},{label:"classes",icon:n.createElement(_t.a,{color:"#fff",size:"24px"})},{label:"courses",icon:n.createElement(ot.b,{color:"#fff",size:"24px"})}].map((function(e,t){return n.createElement(ht.a,{button:!0,key:t,component:M.b,to:"".concat(e.label),onClick:function(){return s(!1)},sx:{borderRadius:1.5,mb:1,backgroundColor:e.label===d?"darkgreen":"",boxShadow:e.label===d?5:0,"&:hover":{backgroundColor:"darkgreen"}}},n.createElement(xt.a,null,e.icon),n.createElement(gt.a,{primary:e.label}))}))),n.createElement(y.a,{sx:{backgroundColor:"white"}}),n.createElement(Et.a,{sx:{color:"#fff",textTransform:"capitalize",p:1}},[{label:"inbox",icon:n.createElement(w.b,{color:"#fff",size:"24px"})},{label:"blocked",icon:n.createElement(ot.a,{color:"#fff",size:"24px"})}].map((function(e,t){return n.createElement(ht.a,{button:!0,key:t,component:M.b,to:"".concat(e.label),onClick:function(){m(e.label),s(!1)},sx:{borderRadius:1.5,mb:1,backgroundColor:e.label===d?"darkgreen":"",boxShadow:e.label===d?5:0,"&:hover":{backgroundColor:"darkgreen"}}},n.createElement(xt.a,null,e.icon),n.createElement(gt.a,{primary:e.label}))}))),n.createElement(y.a,{sx:{backgroundColor:"white"}})),f=void 0!==a?function(){return a().document.body}:void 0;return n.createElement(g.a,{sx:{display:"flex"}},n.createElement(bt.a,null),n.createElement(F.a,{color:"success",position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")}}},n.createElement(_.a,null,n.createElement(z.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:p,sx:{mr:2,display:{sm:"none"}}},n.createElement(w.c,{size:"22px",color:"white"})),n.createElement(O.a,{variant:"h6",flexGrow:1,noWrap:!0,component:"div"},n.createElement("strong",null," Admin Dashboard")),n.createElement(z.a,{color:"inherit",onClick:function(){localStorage.removeItem("uid"),e.setAuth(!1),a.location.reload(!1),v.push("/")}},n.createElement(B.a,{size:"24px",color:"white"})))),n.createElement(g.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders"},n.createElement(ft.a,{container:f,variant:"temporary",color:"success",open:l,onClose:p,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,backgroundColor:"#2e7d32"}}},b),n.createElement(ft.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,backgroundColor:"#2e7d32"}},open:!0},b)),n.createElement(g.a,{component:"main",sx:{flexGrow:1,mt:"40px",width:{sm:"calc(100% - ".concat(240,"px)")}}},e.Component))},zt=function(){var e=Object(P.c)((function(e){return e.usersReducer.allCourses})),t=Object(P.c)((function(e){return e.usersReducer.users})),a=null===t||void 0===t?void 0:t.filter((function(e){return!0===e.blocked}));return r.a.createElement(g.a,{minWidth:"400px",minHeight:"100vh",px:2,sx:{backgroundColor:"#185c1817"}},r.a.createElement(g.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap"},r.a.createElement(g.a,{component:M.b,to:"/users",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(A.c,{size:"72px",color:"darkgreen"}),r.a.createElement(O.a,{variant:"h5",mt:1.5,color:"darkgreen"},"Users (",(null===t||void 0===t?void 0:t.length)>0?t.length:"0",")")),r.a.createElement(g.a,{component:M.b,to:"/classes",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(_t.a,{size:"72px",color:"darkgreen"}),r.a.createElement(O.a,{variant:"h5",mt:1.5,color:"darkgreen"},"Classes (5)"))),r.a.createElement(g.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap"},r.a.createElement(g.a,{component:M.b,to:"/courses",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(ot.b,{size:"72px",color:"darkgreen"}),r.a.createElement(O.a,{variant:"h5",mt:1.5,color:"darkgreen"},"Courses (",(null===e||void 0===e?void 0:e.length)>0?e.length:0,")")),r.a.createElement(g.a,{component:M.b,to:"/blocked",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(A.d,{size:"72px",color:"red"}),r.a.createElement(O.a,{variant:"h5",mt:1.5,color:"red"},"Blocked (",(null===a||void 0===a?void 0:a.length)>0?a.length:0,")"))))},Bt=a(531),Mt=a(533),Pt=a(491),Yt=a(181),Gt=a(530),Ht=a(532),qt=a(529),Vt=a(492),Xt=Object(I.a)(Pt.a)((function(e){var t,a=e.theme;return t={},Object(b.a)(t,"&.".concat(Yt.a.head),{backgroundColor:"#014201",color:a.palette.common.white}),Object(b.a)(t,"&.".concat(Yt.a.body),{fontSize:14}),t})),Qt=Object(I.a)(qt.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function Zt(e){var t=e.tableBody,a=e.curUser,o=Object(n.useState)(""),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),m=d[0],b=d[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),g=h[0],C=h[1],O=Object(n.useState)(""),y=Object(c.a)(O,2),j=y[0],A=y[1],w=Object(n.useState)(""),S=Object(c.a)(w,2),N=S[0],D=S[1],I=(Object(E.g)(),function(){var e=Object(v.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(k.severHostedUrl,"/user/block/").concat(a));case 3:(n=e.sent)&&(n.data.message?(ga.emit("changeInUser",n.data.user),A(n.data.message),D("success")):(A(n.data.error),D("error"))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("errorr",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),R=function(){var e=Object(v.a)(p.a.mark((function e(t){var n,r,o,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=g.trim())){e.next=12;break}return r="".concat(null===a||void 0===a?void 0:a.fname," ").concat(null===a||void 0===a?void 0:a.lname),o=Ke()().format("dd-mm-yyyy hh:mm:ss A"),l={senderID:null===a||void 0===a?void 0:a._id,senderName:r,time:o,message:n,recieverID:s,recieverName:m},e.next=8,x.a.post("".concat(k.severHostedUrl,"/user/sendmsg"),l);case 8:(c=e.sent)&&(c.data.message?(ga.emit("changeInConversation",c.data.conversation),A(c.data.message),D("success")):(A(c.data.error),D("error")),C(""),i(""),b("")),e.next=14;break;case 12:A("write something"),D("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Vt.a,null,s?r.a.createElement(qe,{name:"message",autoFocus:!0,value:g,setValue:C,type:"text",placeholder:"Write Message here...",color:"success",submitFunc:R,userName:null===a||void 0===a?void 0:a.fname[0]}):"",r.a.createElement(Gt.a,{component:te.a},j?r.a.createElement(U,{openSnack:j,severity:N,text:j,setOpenSnack:A}):"",r.a.createElement(Bt.a,{size:"small",sx:{maxWidth:{sm:"calc(100% - ".concat(272,"px)"),xs:"100%"},position:"absolute",cursor:"pointer",overflowX:"scroll",border:"1px solid #014201"},"aria-label":"customized table"},r.a.createElement(Ht.a,null,r.a.createElement(qt.a,null,r.a.createElement(Xt,{sx:{width:"5%"}},"Sr. No."),r.a.createElement(Xt,{sx:{width:"15%"}},"Full Name"),r.a.createElement(Xt,{align:"left",sx:{width:"5%"}},"Age"),r.a.createElement(Xt,{align:"left",sx:{width:"15%"}},"Son of"),r.a.createElement(Xt,{align:"left",sx:{width:"10%"}},"Class"),r.a.createElement(Xt,{align:"center",colSpan:3,sx:{width:"50%"}},"Actions"))),r.a.createElement(Mt.a,null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(Qt,{key:t},r.a.createElement(Xt,null,t+1,"."),r.a.createElement(Xt,null,"".concat(e.fname," ").concat(e.lname)),r.a.createElement(Xt,{align:"left"},e.age?e.age:"-"),r.a.createElement(Xt,{align:"left"},e.fatherName?e.fatherName:"-"),r.a.createElement(Xt,{align:"left"},e.atClass),r.a.createElement(Xt,{align:"center"},r.a.createElement(W.a,{title:"View ".concat(e.fname," ").concat(e.lname),arrow:!0},r.a.createElement(z.a,{component:M.b,to:"/user?".concat(e._id)},r.a.createElement(ke.c,{color:"#014201",size:"22px"})))),r.a.createElement(Xt,{align:"center"},r.a.createElement(W.a,{title:"Message to ".concat(e.fname," ").concat(e.lname),arrow:!0},r.a.createElement(z.a,{component:M.b,to:"/inbox?".concat(e._id,"?").concat(e.fname?e.fname:e.email,"_").concat(e.fname&&e.lname?e.lname:"")},r.a.createElement(ie.c,{color:"#014201",size:"18px"})))),r.a.createElement(Xt,{align:"center"},r.a.createElement(W.a,{title:e.blocked?"Unblock ".concat(e.fname," ").concat(e.lname):"Block ".concat(e.fname," ").concat(e.lname),arrow:!0},r.a.createElement(z.a,{onClick:function(t){return I(t,e._id)}},r.a.createElement(ot.a,{size:"18px",color:e.blocked?"red":""})))))}))))))}var Kt=a(508),Jt=a(518),$t=a(534),ea=a(482),ta=a(512),aa=a(497);var na=function(e){var t=e.title,a=e.classesArray,o=Object(n.useState)(!1),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),m=d[0],b=d[1],f=Object(n.useState)(""),E=Object(c.a)(f,2),h=E[0],y=E[1],j=Object(n.useState)(""),A=Object(c.a)(j,2),S=A[0],N=A[1],D=Object(n.useState)(null),I=Object(c.a)(D,2),F=I[0],_=I[1],W=Boolean(F),z=function(){_(null)},B=function(){i(!0)},M=function(){i(!1)},P=Object(le.a)({initialValues:{fname:"",lname:"",email:"",password:"",roll:"",atClass:t||""},validationSchema:ce.b().shape({fname:ce.c().required("First Name is Required."),lname:ce.c().required("Last Name is Required."),email:ce.c().email("Does not looks like an email").required("Email is Required."),password:ce.c().required("Pasword is Required."),roll:ce.c().required("Role is Required."),atClass:ce.c().required("Class is Required.")}),onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={fname:t.fname.toLowerCase(),lname:t.lname.toLowerCase(),email:t.email.toLowerCase(),roll:t.roll,atClass:t.atClass,password:t.password},e.next=4,x.a.post("".concat(k.severHostedUrl,"/user/register"),a);case 4:(n=e.sent)&&(ga.emit("newUserAdded",n.data.user),n.data.message?(b(n.data.message),y("success"),M()):(b(n.data.error),y("error"),M())),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),M();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement("div",null,m?r.a.createElement(U,{openSnack:m,severity:h,text:m,setOpenSnack:b}):"",t?r.a.createElement(L.a,{onClick:B},"Add User"):r.a.createElement(T.a,{onClick:B,variant:"contained",sx:{boxShadow:5,"&:hover":{backgroundColor:"#014201"},backgroundColor:"#014201",color:"#fff"},endIcon:r.a.createElement(w.e,{color:"white"})},"Add User"),r.a.createElement(ae.a,{open:s,onClose:M,fullWidth:!0,maxWidth:"xs"},r.a.createElement(ne.a,null,r.a.createElement("strong",null,"Add User",t?' in "'.concat(t,'"'):"")),r.a.createElement(re.a,null,r.a.createElement(g.a,{component:"form",width:"100%",p:2,autoComplete:"off",onSubmit:P.handleSubmit},r.a.createElement(C.a,{autoFocus:!0,sx:{mt:2},type:"text",color:"success",label:"First Name",variant:"outlined",value:P.values.fname,onChange:P.handleChange("fname"),inputProps:{maxLength:16},fullWidth:!0}),P.errors.fname&&P.touched.fname&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(ie.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",P.errors.fname),r.a.createElement(C.a,{sx:{mt:2},type:"text",color:"success",label:"Last Name",variant:"outlined",value:P.values.lname,onChange:P.handleChange("lname"),inputProps:{maxLength:16},fullWidth:!0}),P.errors.lname&&P.touched.lname&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(ie.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",P.errors.lname),r.a.createElement(ea.a,{component:"legend",sx:{mt:2}},"Role:"),r.a.createElement(ta.a,{row:!0},r.a.createElement($t.a,{onChange:function(e){return P.values.roll=String(e.target.value)},value:"teacher",control:r.a.createElement(aa.a,{color:"success"}),label:"Teacher"}),r.a.createElement($t.a,{onChange:function(e){return P.values.roll=String(e.target.value)},value:"student",control:r.a.createElement(aa.a,{color:"success"}),label:"Student"})),P.errors.roll&&P.touched.roll&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(ie.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",P.errors.roll),r.a.createElement(T.a,{"aria-expanded":W?"true":void 0,sx:{mt:2},color:"success",variant:"outlined",onClick:function(e){return _(e.currentTarget)},disabled:!!t,endIcon:r.a.createElement(ke.a,{color:"inherit"})},t||(S||"Select Class")),r.a.createElement(R.a,{anchorEl:F,open:W,onClose:z},null===a||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(L.a,{key:t,onClick:function(){z(),N(e),P.values.atClass=e}},e)}))),P.errors.atClass&&P.touched.atClass&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(ie.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",P.errors.atClass),r.a.createElement(C.a,{sx:{mt:2},type:"email",color:"success",label:"email",variant:"outlined",value:P.values.email,onChange:P.handleChange("email"),inputProps:{maxLength:32},fullWidth:!0}),P.errors.email&&P.touched.email&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(ie.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",P.errors.email),r.a.createElement(C.a,{sx:{mt:2},type:"password",color:"success",label:"Password",variant:"outlined",value:P.values.password,onChange:P.handleChange("password"),fullWidth:!0}),P.errors.password&&P.touched.password&&r.a.createElement(O.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(ie.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",P.errors.password))),r.a.createElement(oe.a,null,r.a.createElement(T.a,{variant:"contained",color:"success",onClick:P.handleSubmit},"Register"),r.a.createElement(T.a,{variant:"outlined",color:"success",onClick:M,autoFocus:!0},"cancel"))))},ra=function(e){var t=e.currentUser,a=Object(n.useState)(null),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)("all"),u=Object(c.a)(i,2),d=u[0],m=u[1],p=Object(P.c)((function(e){return e.usersReducer.users})),v=null===p||void 0===p?void 0:p.filter((function(e){return"teacher"===e.roll})),b=null===p||void 0===p?void 0:p.filter((function(e){return"student"===e.roll}));return Object(n.useEffect)((function(){s(p)}),[p]),r.a.createElement(g.a,{width:"100%",p:2},r.a.createElement(g.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},r.a.createElement(Kt.a,{value:l,exclusive:!0,onChange:function(e,t){s("teachers"===t?v:"students"===t?b:p)}},r.a.createElement(Jt.a,{size:"small",sx:{"&:hover":{backgroundColor:"#014201",color:"#fff"},backgroundColor:"all"===d?"#014201":"white",color:"all"===d?"#fff":"#014201"},value:"all",onClick:function(){return m("all")}},"All Users"),r.a.createElement(Jt.a,{size:"small",sx:{"&:hover":{backgroundColor:"#014201",color:"#fff"},backgroundColor:"teachers"===d?"#014201":"white",color:"teachers"===d?"#fff":"#014201"},value:"teachers",onClick:function(){return m("teachers")}},"Teachers"),r.a.createElement(Jt.a,{size:"small",sx:{"&:hover":{backgroundColor:"#014201",color:"#fff"},backgroundColor:"students"===d?"#014201":"white",color:"students"===d?"#fff":"#014201"},value:"students",onClick:function(){return m("students")}},"Students")),r.a.createElement(na,{classesArray:null===t||void 0===t?void 0:t.classes})),r.a.createElement(Zt,{tableBody:l,curUser:t}))},oa=a(154),la=function(e){var t=e.currentUser,a=Object(n.useState)(!1),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),d=u[0],m=u[1],b=Object(n.useState)(""),f=Object(c.a)(b,2),E=f[0],h=f[1],O=Object(n.useState)(""),j=Object(c.a)(O,2),A=j[0],w=j[1],S=function(){s(!l)},N=function(){var e=Object(v.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.trim().toLowerCase()){e.next=6;break}h("Please write something"),w("error"),e.next=18;break;case 6:return e.prev=6,e.next=9,x.a.post("".concat(k.severHostedUrl,"/user/addclass"),{adminID:null===t||void 0===t?void 0:t._id,title:a});case 9:(n=e.sent)&&(n.data.message?(ga.emit("changeInUser",n.data.user),h(n.data.message),w("success")):(h(n.data.error),w("error")),m(""),S()),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(6),console.log("error",e.t0),m(""),S();case 18:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(g.a,null,E?r.a.createElement(U,{openSnack:E,severity:A,text:E,setOpenSnack:h}):"",r.a.createElement(g.a,{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",onClick:S,sx:{backgroundColor:"#f6f6f6",cursor:"pointer",boxShadow:1,"&:hover":{backgroundColor:"#efefef"}}},r.a.createElement(oa.b,{size:"80px",color:"#014201",style:{margin:"32px 0px"}}),r.a.createElement(y.a,null)),l?r.a.createElement(C.a,{fullWidth:!0,autoFocus:!0,placeholder:"Add Class Name",value:d,variant:"standard",color:"success",onChangeCapture:function(e){return m(e.target.value)},sx:{mt:"18px"},InputProps:{maxLength:16,endAdornment:r.a.createElement(nt.a,{onClick:function(e){return N(e)},size:"26px",color:"green",style:{cursor:"pointer"}})}}):r.a.createElement(T.a,{onClick:S,variant:"contained",sx:{py:"12px",backgroundColor:"#014201","&:hover":{backgroundColor:"#021002"}},fullWidth:!0},"Add Class"))},ca=function(e){var t=e.title,a=e.currentUser,o=Object(P.c)((function(e){return e.usersReducer.users})),l=Object(n.useState)(null),s=Object(c.a)(l,2),i=s[0],u=s[1],d=Boolean(i),m=Object(n.useState)(null),p=Object(c.a)(m,2),v=p[0],b=p[1],f=Object(n.useState)(null),E=Object(c.a)(f,2),h=E[0],x=E[1];return Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.filter((function(e){return e.atClass===t})),a=null===e||void 0===e?void 0:e.filter((function(e){return"teacher"===e.roll})),n=null===e||void 0===e?void 0:e.filter((function(e){return"student"===e.roll}));b(a),x(n)}),[t]),r.a.createElement(g.a,{width:"100%",textAlign:"center",sx:{backgroundColor:"#f6f6f6",cursor:"pointer",borderRadius:1,boxShadow:1,"&:hover":{backgroundColor:"#efefef"}}},r.a.createElement(g.a,{p:"28px 40px 10px"},r.a.createElement(g.a,{display:"flex",justifyContent:"space-between",mb:1},r.a.createElement(O.a,{variant:"subtitle1",color:"#021002"},r.a.createElement("strong",null,"Class Name:")),r.a.createElement(O.a,{variant:"subtitle1",color:"#021002"},t)),r.a.createElement(g.a,{display:"flex",justifyContent:"space-between",mb:1},r.a.createElement(O.a,{variant:"subtitle1",color:"#021002"},r.a.createElement("strong",null,"Teachers:")),r.a.createElement(O.a,{variant:"subtitle1",color:"#021002"},(null===v||void 0===v?void 0:v.length)>0?v.length:0)),r.a.createElement(g.a,{display:"flex",justifyContent:"space-between",mb:1},r.a.createElement(O.a,{variant:"subtitle1",color:"#021002"},r.a.createElement("strong",null,"Students:")),r.a.createElement(O.a,{variant:"subtitle1",color:"#021002"},(null===h||void 0===h?void 0:h.length)>0?h.length:0))),r.a.createElement(g.a,{display:"flex",justifyContent:"flex-end",p:"8px 35px"},r.a.createElement(W.a,{title:"Actions",arrow:!0},r.a.createElement(z.a,{"aria-expanded":d?"true":void 0,onClick:function(e){return u(e.currentTarget)}},r.a.createElement(oa.a,{size:"18px",color:"black"}))),r.a.createElement(R.a,{id:"basic-menu",anchorEl:i,open:d,onClose:function(){u(null)},MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(L.a,null,"View Users"),r.a.createElement(na,{title:t,classesArray:null===a||void 0===a?void 0:a.classes}))))},sa=function(e){var t,a,o=e.currentUser;return Object(n.useEffect)((function(){}),[o]),r.a.createElement(g.a,{width:"100%",minHeight:"100vh",p:2,sx:{backgroundColor:"#f6f6f6"}},r.a.createElement(ee.a,{container:!0,width:"100%",m:"0px",direction:"row",spacing:2,sx:{backgroundColor:"#fff",boxShadow:2},pr:2,pb:2},r.a.createElement(ee.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(la,{currentUser:o})),(null===o||void 0===o||null===(t=o.classes)||void 0===t?void 0:t.length)>0?null===o||void 0===o||null===(a=o.classes)||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(ee.a,{key:t,item:!0,xs:12,md:6,lg:4},r.a.createElement(ca,{title:e,currentUser:o}))})):""))},ia=function(e){var t=e.course||{},a=t.courseName,n=t.duration,o=t.teacherName,l=t.students,c=t._id,s=Object(E.g)();return r.a.createElement(g.a,{width:"100%",onClick:function(){return s.push("/".concat(c))},sx:{boxShadow:2,backgroundColor:"#00000009",borderRadius:2,cursor:"pointer","&:hover":{backgroundColor:"#0cff0017"}}},r.a.createElement(g.a,{p:2},r.a.createElement(g.a,{mb:1,display:"flex",justifyContent:"space-between"},r.a.createElement(O.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Teacher:")),r.a.createElement(O.a,{variant:"subtitle1"},o)),r.a.createElement(g.a,{mb:1,display:"flex",justifyContent:"space-between"},r.a.createElement(O.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Course Name:")),r.a.createElement(O.a,{variant:"subtitle1"},a)),r.a.createElement(g.a,{mb:1,display:"flex",justifyContent:"space-between"},r.a.createElement(O.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Duration:")),r.a.createElement(O.a,{variant:"subtitle1"},n," Weeks")),r.a.createElement(g.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(O.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Students:")),r.a.createElement(O.a,{variant:"subtitle1"},l.length>0?l.length:"0"))),r.a.createElement(T.a,{variant:"contained",sx:{backgroundColor:"#014201",py:1.5,"&:hover":{backgroundColor:"#021002"}},fullWidth:!0},"View Course"))},ua=function(){var e=Object(P.c)((function(e){return e.usersReducer.allCourses}));return r.a.createElement(g.a,{width:"100%",minHeight:"100vh",p:2,sx:{backgroundColor:"#f6f6f6"}},r.a.createElement(ee.a,{container:!0,width:"100%",m:"0px",direction:"row",spacing:2,sx:{backgroundColor:"#fff",boxShadow:2},pr:2,pb:2},(null===e||void 0===e?void 0:e.length)>0?e.map((function(e,t){return r.a.createElement(ee.a,{key:t,item:!0,xs:12,md:6,lg:4},r.a.createElement(ia,{course:e}))})):r.a.createElement(g.a,{width:"100%",pt:14,textAlign:"center"},r.a.createElement(O.a,{variant:"h5",color:"#014201"},"Currently No Course Available"))))},da=function(){var e=Object(P.c)((function(e){return e.usersReducer.users})),t=null===e||void 0===e?void 0:e.filter((function(e){return!0===e.blocked}));return r.a.createElement(g.a,{width:"100%",p:2},(null===t||void 0===t?void 0:t.length)>0?r.a.createElement(Zt,{tableBody:t}):r.a.createElement(g.a,{width:"100%",pt:14,textAlign:"center"},r.a.createElement(O.a,{variant:"h5",color:"#014201"},"Currently No User Blocked")))},ma=function(){var e,t=Object(n.useState)(!0),a=Object(c.a)(t,2),o=a[0],l=(a[1],Object(n.useState)(null)),s=Object(c.a)(l,2),i=s[0],u=(s[1],Object(n.useState)(!1)),d=Object(c.a)(u,2),m=d[0],f=d[1],E=Object(n.useState)(),h=Object(c.a)(E,2),C=(h[0],h[1],Object(n.useState)()),y=Object(c.a)(C,2),j=(y[0],y[1],Object(n.useState)()),A=Object(c.a)(j,2),w=(A[0],A[1],Object(n.useState)(0)),S=Object(c.a)(w,2),N=(S[0],S[1],Object(n.useState)(0)),U=Object(c.a)(N,2),D=(U[0],U[1],Object(n.useState)("")),I=Object(c.a)(D,2),R=(I[0],I[1]),L=Object(n.useState)(""),F=Object(c.a)(L,2),_=(F[0],F[1]),W=localStorage.getItem("uid"),z=Object(P.b)(),B=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a,n,r,o,l,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),t=new Date,a=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=t.getHours(),l=t.getMinutes(),c="".concat(o,":").concat(l),s={_id:W,year:a,month:n,date:r,time:c},e.next=12,x.a.post("".concat(k.severHostedUrl,"/user/attendance"),s);case 12:(i=e.sent)&&(z(Y(i.data.updated)),R(i.data.message),_("success")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),R("Your Attendance not marked"),_("error");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(g.a,null,i?r.a.createElement(g.a,(e={py:2,textAlign:"center",mb:2},Object(b.a)(e,"py",2),Object(b.a)(e,"maxWidth","727px"),Object(b.a)(e,"sx",{backgroundColor:"#fff",borderRadius:1,boxShadow:1}),e),r.a.createElement(O.a,{color:"green",variant:"h4"},"Today is Holiday")):r.a.createElement(g.a,{textAlign:"center",mb:2,py:2,maxWidth:"727px",sx:{backgroundColor:"#fff",borderRadius:1,boxShadow:1}},r.a.createElement(O.a,{color:"green",mb:2,variant:"h4",display:"inline-block"},"Mark Today's Attendance"),r.a.createElement(g.a,null,r.a.createElement(T.a,{size:"small",variant:"contained",color:"success",onClick:function(e){return B(e)},disabled:o||m},o?"Marked":"Mark"))))},pa=a(239),va=a.n(pa),ba=function(e){var t=e.attendance,a=Object(n.useState)([]),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)(),u=Object(c.a)(i,2),d=u[0],m=u[1],p=[{name:"Present Days",data:d}],v={annotations:{points:[{label:{borderColor:"#013220",offsetY:0,style:{color:"#013220",background:"#013220"}}}]},chart:{width:"100%",type:"bar"},plotOptions:{bar:{borderRadius:10,columnWidth:"50%"}},dataLabels:{enabled:!1},stroke:{colors:["#228B22"],width:2},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{labels:{rotate:-45},tickPlacement:"on",categories:l},yaxis:{title:{text:"Attendance Chart"},max:31,min:0},fill:{type:"gradient",colors:["#028A0F"],gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[50,0,100]}}};return Object(n.useEffect)((function(){if(t)if(t.length){var e=[],a=[],n=t[(null===t||void 0===t?void 0:t.length)-1];null===t||void 0===t||t.map((function(t){e.push(String(t.monthName)),a.push(String(t.days.length)),t.monthName===n.monthName&&(m(a),s(e))}))}else{var r=Ke()().month();m(["0"]),s(["".concat(0===r?"jan":1===r?"feb":2===r?"mar":3===r?"apr":4===r?"may":5===r?"jun":6===r?"jul":7===r?"aug":8===r?"sep":9===r?"oct":10===r?"nov":"dec","_").concat(Ke()().year())])}}),[t]),r.a.createElement(g.a,{maxWidth:"727px",py:2,sx:{backgroundColor:"#fff",borderRadius:2,boxShadow:1}},d&&l&&r.a.createElement(va.a,{options:v,series:p,type:"bar"}))},fa=function(e){var t=e.allCourses,a=e.user,o=Object(n.useState)(null),l=Object(c.a)(o,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){var e=[];if("teacher"===(null===a||void 0===a?void 0:a.roll)){null===t||void 0===t||t.map((function(t){t.teacher_id===(null===a||void 0===a?void 0:a._id)&&e.push(t)}));i(e)}if("student"===(null===a||void 0===a?void 0:a.roll))null===t||void 0===t||t.map((function(t){if(t.students.length){t.students.filter((function(n){n.id===(null===a||void 0===a?void 0:a._id)&&e.push(t)}));i(e)}}))}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{sx:{width:"97%",mx:"auto",mt:1}}),r.a.createElement(g.a,{maxWidth:"1024px"},r.a.createElement(g.a,{sx:{backgroundColor:"#fff",borderRadius:1,boxShadow:1},mt:2,width:"100%",p:2,display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:"12px"},(null===s||void 0===s?void 0:s.length)>0?r.a.createElement(g.a,null,r.a.createElement(O.a,{variant:"h5",color:"#014201",mb:2},"teacher"===(null===a||void 0===a?void 0:a.roll)?"".concat(null===a||void 0===a?void 0:a.fname,"'s Creation Courses..."):"student"===(null===a||void 0===a?void 0:a.roll)?"".concat(null===a||void 0===a?void 0:a.fname,"'s enrolled courses..."):""),r.a.createElement(y.a,{sx:{mb:1}}),s.map((function(e,t){return r.a.createElement(ia,{course:e,key:t})}))):r.a.createElement(g.a,{width:"100%",pt:3,textAlign:"center"},r.a.createElement(O.a,{variant:"h5",color:"#014201"},"teacher"===(null===a||void 0===a?void 0:a.roll)?"No Course Added By ".concat(null===a||void 0===a?void 0:a.fname,"..."):"student"===(null===a||void 0===a?void 0:a.roll)?"".concat(null===a||void 0===a?void 0:a.fname," currently not enrolled in any course..."):"")))))},Ea=function(e){var t=e.text,a=e.title;return r.a.createElement(O.a,{variant:"subtitle1",sx:{width:"240px",py:1,px:2,boxShadow:1,display:"flex",justifyContent:a?"space-between":"center",textAlign:"center",borderRadius:1,cursor:"pointer",backgroundColor:"#00000009",mb:1}},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("b",null,a)),r.a.createElement("span",{style:{color:"#2e7d32"}},r.a.createElement("b",null,t))):r.a.createElement("span",{style:{color:"#2e7d32"}},r.a.createElement("b",null,t)))},ha=function(e){var t=e.curUser,a=Object(E.h)().search,o=Object(P.c)((function(e){return e.usersReducer.users})),l=Object(P.c)((function(e){return e.usersReducer.allCourses})),s=Object(n.useState)({}),i=Object(c.a)(s,2),u=i[0],d=i[1];return Object(n.useEffect)((function(){var e;if(a){var t=a.split("?")[1];(e=null===o||void 0===o?void 0:o.find((function(e){return e._id===t})))&&d(e)}}),[]),r.a.createElement(g.a,{sx:{backgroundColor:"#00000009"},p:2},r.a.createElement(g.a,{width:"100%",display:"flex",justifyContent:"center",gap:2},r.a.createElement(g.a,{width:"280px",sx:{backgroundColor:"#fff",borderRadius:1,boxShadow:1},display:"flex",flexDirection:"column",alignItems:"center",py:3},r.a.createElement($.a,{src:(null===u||void 0===u?void 0:u.dp)?null===u||void 0===u?void 0:u.dp:yt.a,alt:null===u||void 0===u?void 0:u.fname,sx:{width:"200px",height:"200px",border:"1px solid green",mb:2}}),r.a.createElement(Ea,{text:null===u||void 0===u?void 0:u.email}),r.a.createElement(Ea,{title:"Name:",text:"".concat(null===u||void 0===u?void 0:u.fname," ").concat((null===u||void 0===u?void 0:u.lname)||"-")}),r.a.createElement(Ea,{title:"Age:",text:(null===u||void 0===u?void 0:u.age)||"-"}),r.a.createElement(Ea,{title:"Class:",text:(null===u||void 0===u?void 0:u.atClass)||"-"}),r.a.createElement(Ea,{title:"Son Of:",text:(null===u||void 0===u?void 0:u.fatherName)||"-"}),r.a.createElement(Ea,{title:"Phone",text:(null===u||void 0===u?void 0:u.phone)||"-"}),r.a.createElement(Ea,{title:"Role:",text:(null===u||void 0===u?void 0:u.roll)||"-"})),r.a.createElement(g.a,{flexGrow:1},(null===t||void 0===t?void 0:t.isAdmin)?"":r.a.createElement(g.a,{width:"100%"},r.a.createElement(ma,null)),r.a.createElement(g.a,{width:"100%"},r.a.createElement(ba,{attendance:null===u||void 0===u?void 0:u.attendance})))),(null===t||void 0===t?void 0:t.isAdmin)?r.a.createElement(fa,{user:u,allCourses:l}):"")},xa=k.severHostedUrl,ga=Object(s.a)(xa,{transports:["websocket"]}),Ca=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(null),s=Object(c.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(c.a)(m,2),v=p[0],b=p[1],f=localStorage.getItem("uid"),h=Object(P.c)((function(e){return e.usersReducer.curUser})),g=Object(n.useState)(f||h._id),C=Object(c.a)(g,2),O=C[0],y=C[1],j=Object(n.useState)(!0),A=Object(c.a)(j,2),w=A[0],S=A[1],N=Object(P.b)();return Object(n.useEffect)((function(){var e;(i||O||S(!1),O||i)&&(S(!0),u(!0),x.a.get("".concat(k.severHostedUrl,"/user/getdata")).then((function(t){var a,n,r=t.data;if(e=r.find((function(e){return e._id===f})))if(N(Y(e)),b(null===(a=e)||void 0===a?void 0:a.blocked),null===(n=e)||void 0===n?void 0:n.isAdmin){o(!0);var l=r.filter((function(t){var a;return t._id!==(null===(a=e)||void 0===a?void 0:a._id)}));N(function(e){return{type:"GET_USERS",payload:e}}(l)),x.a.get("".concat(k.severHostedUrl,"/course/getall")).then((function(e){var t=e.data.allCourses;N(function(e){return{type:"ALL_COURSES",payload:e}}(t))})).catch((function(e){return console.log(e)}))}else"teacher"===e.roll&&x.a.post("".concat(k.severHostedUrl,"/course/mycourse"),{teacher_id:e._id}).then((function(e){var t=e.data.course;N(G(t))})).catch((function(e){return console.log(e)})),"student"===e.roll&&e.atClass&&x.a.post("".concat(k.severHostedUrl,"/course/forstudent"),{studentClass:e.atClass,studentID:f}).then((function(e){var t=e.data.courses;N(function(e){return{type:"GET_Student_COURSES",payload:e}}(t))})).catch((function(e){return console.log(e)}));else S(!1),y(!1);y(!0),S(!1)})).catch((function(e){return console.log(e)})),ga.on("connect",(function(){})),ga.on("courseADDEDByTeacher",(function(t){var a,n,r;"student"===(null===(a=e)||void 0===a?void 0:a.roll)&&(null===(n=e)||void 0===n?void 0:n.atClass)==(null===t||void 0===t?void 0:t.teacherClass)?N({type:"EDIT_AVAILABLE_COURSES",payload:t}):(null===(r=e)||void 0===r?void 0:r.isAdmin)&&N({type:"ADD_NEW_COURSE_FOR_ADMIN",payload:t})})),ga.on("courseEditedByTeacher",(function(t){var a,n;"student"===(null===(a=e)||void 0===a?void 0:a.roll)&&(null===(n=e)||void 0===n?void 0:n.atClass)==(null===t||void 0===t?void 0:t.teacherClass)&&N({type:"UPDATE_COURSES",payload:t})})),ga.on("messageAddedStream",(function(e){N({type:"UPDATE_CURRENT_COURSE",payload:e})})),ga.on("CHANGE_IN_CONVERSATION",(function(t){var a;((null===(a=e)||void 0===a?void 0:a._id)===t.user1ID||t.user2ID)&&N({type:"UPDATE_CURRENT_CONVERSATION",payload:t})})),ga.on("ASSIGNMENT_ADDED",(function(e){N({type:"UPDATE_ALL_ASSIGNMENTS",payload:e})})),ga.on("NEW_USER_ADDED",(function(t){var a;(null===(a=e)||void 0===a?void 0:a.isAdmin)&&(console.log("user",t),N(function(e){return{type:"USER_ADDED",payload:e}}(t)))})),ga.on("CHANGE_IN_USER",(function(t){var a;t._id===(null===(a=e)||void 0===a?void 0:a._id)&&(N(Y(t)),b(t.blocked)),e.isAdmin&&N(function(e){return{type:"UPDATE_SINGLE_USER",payload:e}}(t))})))}),[i]),w?r.a.createElement(d,null):v?r.a.createElement(Dt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(E.d,null,r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/dashboard",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(zt,{currentUser:h,key:"dashboard"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/users",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(ra,{currentUser:h,key:"users"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/classes",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(sa,{currentUser:h,key:"classes"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/courses",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(ua,{currentUser:h,key:"courses"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/inbox",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(Nt,{curUser:h,key:"inbox"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/blocked",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(da,{currentUser:h,key:"blocked"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,exact:!0,path:"/",AdminComp:r.a.createElement(E.a,{to:"/dashboard",curUser:h,setAuth:u}),SuccessComp:r.a.createElement(E.a,{to:"/profile",curUser:h,setAuth:u}),FailComp:r.a.createElement(D,{setAuth:u})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/profile",AdminComp:r.a.createElement(E.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(me,{curUser:h,setAuth:u}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/coursedetails",AdminComp:r.a.createElement(E.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(He,{curUser:h,setAuth:u}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/messages",AdminComp:r.a.createElement(vt,{curUser:h,setAuth:u}),SuccessComp:r.a.createElement(vt,{curUser:h,setAuth:u}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/attendance",AdminComp:r.a.createElement(E.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(ge,{curUser:h,setAuth:u}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/classmaterials",AdminComp:r.a.createElement(E.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(E.a,{to:"/profile",curUser:h}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/user",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(ha,{key:"users",curUser:h})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/inbox/:id",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(Nt,{curUser:h,key:"inbox"})}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/:id",AdminComp:r.a.createElement(Wt,{setAuth:u,Component:r.a.createElement(Rt,{curUser:h,key:"courses"})}),SuccessComp:r.a.createElement(dt,{curUser:h,setAuth:u}),FailComp:r.a.createElement(E.a,{to:"/"})}),r.a.createElement(Ft,{auth:i,isAdmin:a,path:"/*",AdminComp:r.a.createElement(E.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(E.a,{to:"/profile"}),FailComp:r.a.createElement(E.a,{to:"/"})}))))},Oa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,535)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),o(e),l(e)}))},ya=a(156),ja={users:[],curUser:{},course:{},studentCourse:[],currentCourse:null,currentAssignment:null,allAssignments:null,checkedAssignments:null,allConversations:[],currentConversation:null,allCourses:[]},Aa=function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"GET_USERS":return Object(f.a)(Object(f.a)({},r),{},{users:o.payload});case"CUR_USER":return Object(f.a)(Object(f.a)({},r),{},{curUser:o.payload});case"GET_COURSE":return Object(f.a)(Object(f.a)({},r),{},{course:o.payload});case"GET_Student_COURSES":return Object(f.a)(Object(f.a)({},r),{},{studentCourse:o.payload});case"EDIT_AVAILABLE_COURSES":var l=null===(e=r.studentCourse)||void 0===e?void 0:e.find((function(e){return e._id===o.payload._id}));return l?r:Object(f.a)(Object(f.a)({},r),{},{studentCourse:[].concat(Object(Oe.a)(r.studentCourse),[o.payload])});case"UPDATE_COURSES":var c=r.studentCourse.find((function(e){return e._id===o.payload._id}));if(c){c=o.payload;var s=r.studentCourse.filter((function(e){return e._id!==o.payload._id})),i=[].concat(Object(Oe.a)(s),[c]);return Object(f.a)(Object(f.a)({},r),{},{studentCourse:i})}return r;case"CURRENT_COURSE":return Object(f.a)(Object(f.a)({},r),{},{currentCourse:o.payload});case"UPDATE_CURRENT_COURSE":return r.currentCourse&&r.currentCourse._id===o.payload._id?Object(f.a)(Object(f.a)({},r),{},{currentCourse:o.payload}):r;case"ALL_ASSIGNMENTS":return Object(f.a)(Object(f.a)({},r),{},{allAssignments:o.payload});case"CURRENT_ASSIGNMENT":return Object(f.a)(Object(f.a)({},r),{},{currentAssignment:o.payload});case"CHECKED_ASSIGNMENTS":return Object(f.a)(Object(f.a)({},r),{},{checkedAssignments:o.payload});case"UPDATE_ALL_ASSIGNMENTS":return r.allAssignments&&r.allAssignments[0].courseID===o.payload[0].courseID?Object(f.a)(Object(f.a)({},r),{},{allAssignments:o.payload}):r;case"ALL_CONVERSATIONS":return Object(f.a)(Object(f.a)({},r),{},{allConversations:o.payload});case"CURRENT_CONVERSATION":return Object(f.a)(Object(f.a)({},r),{},{currentConversation:o.payload});case"UPDATE_CURRENT_CONVERSATION":var u=null===(t=r.allConversations)||void 0===t?void 0:t.filter((function(e){return e._id!==o.payload._id}));return(null===(a=r.currentConversation)||void 0===a?void 0:a._id)===o.payload._id?Object(f.a)(Object(f.a)({},r),{},{allConversations:[].concat(Object(Oe.a)(u),[o.payload]),currentConversation:o.payload}):Object(f.a)(Object(f.a)({},r),{},{allConversations:[].concat(Object(Oe.a)(u),[o.payload])});case"ALL_COURSES":return Object(f.a)(Object(f.a)({},r),{},{allCourses:o.payload});case"ADD_NEW_COURSE_FOR_ADMIN":var d=r.allCourses.find((function(e){return e._id===o.payload._id}));return d||r.allCourses.push(o.payload),r;case"USER_ADDED":var m=null===(n=r.users)||void 0===n?void 0:n.find((function(e){return e._id===o.payload}));if(m)return r;var p=[].concat(Object(Oe.a)(r.users),[o.payload]);return Object(f.a)(Object(f.a)({},r),{},{users:p});case"UPDATE_SINGLE_USER":var v=[];r.users.filter((function(e){e._id===o.payload._id?v.push(o.payload):v.push(e)}));return Object(f.a)(Object(f.a)({},r),{},{users:v});case"LOG_OUT":return ja;default:return r}},wa=Object(ya.a)({usersReducer:Aa}),ka=Object(ya.b)(wa,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P.a,{store:ka},r.a.createElement(Ca,null))),document.getElementById("root")),Oa()}},[[271,1,2]]]);
//# sourceMappingURL=main.6823ca95.chunk.js.map