(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{144:function(e,t,a){},205:function(e,t,a){e.exports=a.p+"static/media/stream.86eba8bd.jpg"},229:function(e,t,a){e.exports=a(366)},234:function(e,t,a){},262:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(59),o=a.n(c),l=(a(234),a(5)),s=a(207),i=a(436),u=a(441);var d=function(){return r.a.createElement("div",null,r.a.createElement(i.a,{sx:{color:"green",backgroundColor:"#fff"},open:!0},r.a.createElement(u.a,{color:"inherit"})))},m=a(4),p=a(26),b=a(32),v=a(19),f=a.n(v),E=a(444),h=a(371),g=a(419),x=a(427),O=a(437),C=a(83),j=a(118),y=(a(262),{severHostedUrl:"https://warm-hollows-02372.herokuapp.com"}),k=a(433),S=a(430),w=function(e){var t=e.openSnack,a=e.severity,n=e.text,c=e.setOpenSnack,o=function(e,t){"clickaway"!==t&&c("")};return r.a.createElement(k.a,{anchorOrigin:{vertical:"top",horizontal:"success"===a?"center":"right"},open:Boolean(t),autoHideDuration:2500,onClose:o},r.a.createElement(S.a,{onClose:o,variant:"filled",severity:a||"success",sx:{width:"100%"}},n))},A=function(e){var t,a,c=e.setAuth,o=Object(n.useState)({email:"",password:""}),s=Object(l.a)(o,2),i=s[0],u=s[1],v=Object(n.useState)(!1),k=Object(l.a)(v,2),S=k[0],A=k[1],U=Object(n.useState)(""),_=Object(l.a)(U,2),T=_[0],I=_[1],D=Object(n.useState)(""),N=Object(l.a)(D,2),R=N[0],z=N[1],L=Object(b.g)(),P=function(e){t=e.target.name,a=e.target.value,u(Object(p.a)(Object(p.a)({},i),{},Object(m.a)({},t,a)))};return S?r.a.createElement(d,null):r.a.createElement(E.a,{className:"_main",display:"flex",alignItems:"center"},T?r.a.createElement(w,{openSnack:T,severity:R,text:T,setOpenSnack:I}):"",r.a.createElement(E.a,{sx:{backgroundColor:"#fff"},maxWidth:"400px",borderRadius:1,boxShadow:3,mx:"auto",p:4,pt:2,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement("form",{method:"POST",onSubmit:function(e){return function(e){e.preventDefault(),A(!0);var t=i.email,a=i.password;t?!a||a.length<8?(I("Password! contains at least 8 characters !"),z("error"),A(!1)):f.a.post("".concat(y.severHostedUrl,"/user/login"),i).then((function(e){localStorage.setItem("uid",e.data.curUser._id),A(!1),c(!0),L.push("/profile")})).catch((function(e){A(!1),I("Invalid Credentials"),z("error")})):(A(!1),I("Please write Valid Email!"),z("error"))}(e)},style:{textAlign:"center"}},r.a.createElement(h.a,{variant:"h6",textAlign:"center"}," CY School App",r.a.createElement(g.a,{sx:{marginBottom:2}})),r.a.createElement(C.a,{className:"large-icon",color:"green",size:"50%"}),r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"email",label:"Your Email",type:"email",variant:"outlined",value:i.email,onChange:function(e){return P(e)},autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32}}),r.a.createElement(x.a,{margin:"dense",name:"password",label:"Your Password",type:"password",variant:"outlined",value:i.password,onChange:function(e){return P(e)},autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{marginBottom:2}}),r.a.createElement(O.a,{size:"large",type:"submit",mt:2,variant:"contained",color:"success",startIcon:r.a.createElement(j.a,{size:"22px",color:"#fff"}),fullWidth:!0},"LOGIN"))))},U=a(7),_=a(209),T=a(435),I=a(445),D=a(446),N=a(426),R=a(443),z=a(149),L=a(30),P=a(21),W=function(e){return{type:"CUR_USER",payload:e}},F=function(e){return{type:"GET_COURSE",payload:e}},M=function(e){return{type:"CURRENT_COURSE",payload:e}},B=function(e){return{type:"ALL_ASSIGNMENTS",payload:e}},Y=function(e){return{type:"CURRENT_ASSIGNMENT",payload:e}},H=Object(U.a)("div")((function(e){var t=e.theme;return Object(m.a)({padding:t.spacing(1),display:"none"},t.breakpoints.up("md"),{display:"flex"})})),G=Object(U.a)("div")((function(e){var t=e.theme;return Object(m.a)({display:"none"},t.breakpoints.down("md"),{display:"flex"})})),V=function(e){var t=e.setAuth,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Boolean(o),u=Object(b.g)(),d=Object(P.b)(),m=function(){s(null)},p=function(){d({type:"LOG_OUT"}),localStorage.removeItem("uid"),t(!1),window.location.reload(!1),u.push("/")},v=r.a.createElement(_.a,{anchorEl:o,id:"mob_menu",keepMounted:!0,open:i,onClose:m},r.a.createElement(T.a,{component:L.b,onClick:m,to:"/profile",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Profile"),r.a.createElement(T.a,{component:L.b,onClick:m,to:"/attendance",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Attendance"),r.a.createElement(T.a,{component:L.b,onClick:m,to:"/coursedetails",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Course Details"),r.a.createElement(T.a,{component:L.b,onClick:m,to:"/messages",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Messages"),r.a.createElement(T.a,{component:O.a,onClick:p,sx:{backgroundColor:"#fff",color:"red",width:"100%",paddingBottom:2}},"Log Out"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{color:"success",position:"static"},r.a.createElement(D.a,null,r.a.createElement(h.a,{component:L.b,color:"inherit",to:"/profile",variant:"h5",sx:{flexGrow:1,textDecoration:"none"}},"School App"),r.a.createElement(H,null,r.a.createElement(O.a,{component:L.b,to:"/profile",size:"small",color:"inherit"},"Profile"),r.a.createElement(O.a,{component:L.b,to:"/attendance",size:"small",color:"inherit",sx:{marginLeft:3}},"Attendance"),r.a.createElement(O.a,{component:L.b,to:"/coursedetails",size:"small",color:"inherit",sx:{marginLeft:3}},"Course Details"),r.a.createElement(O.a,{component:L.b,to:"/messages",size:"small",color:"inherit",sx:{marginLeft:3}},"Messages"),r.a.createElement(N.a,{title:"Log Out",arrow:!0},r.a.createElement(O.a,{component:L.b,to:"/logout",sx:{marginLeft:3},onClick:p},r.a.createElement(z.a,{color:"#fff",size:"25px"})))),r.a.createElement(G,null,r.a.createElement(R.a,{color:"inherit",onClick:function(e){s(e.currentTarget)}},r.a.createElement(z.b,null))))),v)},q=a(442),X=a(438),K=a(439),J=a(15),Q=a.n(J),Z=a(20),$=a(447),ee=a(424),te=a(448),ae=a(449),ne=a(86),re=a(42);function ce(e){var t=e.curUser,a=e.setOpenSnack,c=e.setSeverity,o=e.setCurrentUser,s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],d=i[1],m=localStorage.getItem("uid"),p=Object(P.b)(),b=function(){d(!1)},v=Object(ne.a)({initialValues:{id:m,fname:null===t||void 0===t?void 0:t.fname,lname:null===t||void 0===t?void 0:t.lname,fatherName:null===t||void 0===t?void 0:t.fatherName,atClass:null===t||void 0===t?void 0:t.atClass,age:null===t||void 0===t?void 0:t.age,phone:null===t||void 0===t?void 0:t.phone},validateOnChange:!0,validationSchema:re.b().shape({fname:re.c().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter First Name"),lname:re.c().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter Last Name"),fatherName:re.c().max(16,"Plese Enter a Name less then 16 Characters").required("Please Enter Your Father's Name"),atClass:re.a().required().positive().integer().min(6).max(10),age:re.a().required("It is not a good habit to hide your age.").positive("That doesn't look like a human's age.").integer("Don't use decimal point").min(10,"You are not egligible for this school, you are a baby,").max(199,"A noble human cannot live so long"),phone:re.a().typeError("That doesn't look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").min(3e9,"It doesn't looks like a phone number").max(3499999999,"It doesn't looks like a phone number").required("A phone number is required")}),onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(),e.next=4,f.a.post("".concat(y.severHostedUrl,"/user/edit-profile"),t);case 4:(n=e.sent)?(o(n.data.updated),p(W(n.data.updated)),a(n.data.message),c("success")):(a("User not update!"),c("error"),b()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),b();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(E.a,null,r.a.createElement(N.a,{title:"Edit Profile",arrow:!0},r.a.createElement(O.a,{color:"success",variant:"contained",size:"small",onClick:function(){d(!0)}},r.a.createElement(C.b,{color:"inherit",size:"16px"}))),r.a.createElement($.a,{Dialog:!0,open:u,onClose:b,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ee.a,{align:"center",backgroundColor:"white"},"Edit Profile"),r.a.createElement(te.a,null,r.a.createElement("form",{onSubmit:v.handleSubmit},r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"fname",label:"First Name",type:"text",variant:"outlined",value:v.values.fname,onChange:v.handleChange("fname"),autoComplete:"off",fullWidth:!0,color:"success"}),v.errors.fname&&v.touched.fname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},v.errors.fname),r.a.createElement(x.a,{margin:"dense",name:"lname",label:"Last Name",type:"text",variant:"outlined",value:v.values.lname,onChange:v.handleChange("lname"),autoComplete:"off",fullWidth:!0,color:"success"}),v.errors.lname&&v.touched.lname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},v.errors.lname),r.a.createElement(x.a,{margin:"dense",name:"fatherName",label:"Son of",type:"text",variant:"outlined",value:v.values.fatherName,onChange:v.handleChange("fatherName"),autoComplete:"off",fullWidth:!0,color:"success"}),v.errors.fatherName&&v.touched.fatherName&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},v.errors.fatherName),r.a.createElement(x.a,{margin:"dense",name:"atClass",label:"In Class",type:"number",variant:"outlined",value:v.values.atClass,onChange:v.handleChange("atClass"),autoComplete:"off",fullWidth:!0,color:"success"}),v.errors.atClass&&v.touched.atClass&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},v.errors.atClass),r.a.createElement(x.a,{margin:"dense",name:"age",label:"Age",type:"number",variant:"outlined",value:v.values.age,onChange:v.handleChange("age"),autoComplete:"off",fullWidth:!0,color:"success"}),v.errors.age&&v.touched.age&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},v.errors.age),r.a.createElement(N.a,{title:"Enter Phone Number Escaped 0",arrow:!0},r.a.createElement(x.a,{margin:"dense",name:"phone",label:"Contact No...",type:"number",variant:"outlined",value:v.values.phone,onChange:v.handleChange("phone"),autoComplete:"off",fullWidth:!0,color:"success"})),v.errors.phone&&v.touched.phone&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},v.errors.phone))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{color:"success",variant:"contained",onClick:v.handleSubmit},"Save Edit"),r.a.createElement(O.a,{color:"success",onClick:b},"Cancel"))))}a(144);var oe=a(201);function le(e){e.curUser;var t=e.setImgURL,a=e.setSeverity,c=e.setOpenSnack,o=Object(n.useState)(!1),s=Object(l.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),p=m[0],b=m[1],v=localStorage.getItem("uid"),h=function(){u(!1)},g=function(){var e=Object(Z.a)(Q.a.mark((function e(n){var r,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!p){e.next=14;break}return(r=new FormData).append("_id",v),r.append("myImg",p),o={headers:{"content-type":"multipart/form-data"}},h(),e.next=10,f.a.post("".concat(y.severHostedUrl,"/user/editprofileimg"),r,o);case 10:(l=e.sent)&&(console.log("pPic",l.data.pPic),t(l.data.pPic),c(l.data.message),a("success")),e.next=16;break;case 14:c("Please Select an Image"),a("error");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),h();case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(N.a,{title:"Edit Profile Picture",arrow:!0},r.a.createElement(E.a,null,r.a.createElement(oe.a,{style:{cursor:"pointer"},onClick:function(){u(!0)},size:"20px",color:"green",height:"100%"}))),r.a.createElement($.a,{open:i,onClose:h,fullWidth:!0,maxWidth:"xs"},r.a.createElement(ee.a,{align:"center",backgroundColor:"white"},"Edit Picture"),r.a.createElement(te.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(E.a,{display:"flex"},r.a.createElement(E.a,{flexGrow:1,pt:1,px:1,border:"1px solid green",borderRadius:1},(null===p||void 0===p?void 0:p.name)?null===p||void 0===p?void 0:p.name:"Currently No Image"),r.a.createElement(O.a,{component:"label"},r.a.createElement(C.b,{color:"green",size:"22px"}),r.a.createElement("input",{hidden:!0,name:"myImg",type:"file",accept:"image/png, image/jpeg",onChange:function(e){return function(e){var t=null===e||void 0===e?void 0:e.size,n=null===e||void 0===e?void 0:e.type;e?Boolean("image/png"===n)||Boolean("image/jpeg"===n)||Boolean("image/jpg"===n)?b(e):t>5e6?(c("please Select an image of size less then 5 mb"),a("error")):(c("you can select only image..."),a("error")):(c("please Select an image"),a("error"))}(e.target.files[0])}}))))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{color:"success",variant:"contained",onClick:g},"save image"),r.a.createElement(O.a,{color:"success",onClick:h},"Cancel"))))}var se=Object(U.a)(q.a)((function(e){var t=e.theme;return Object(p.a)(Object(p.a)({},t.typography.body1),{},{padding:t.spacing(1.5),display:"flex",justifyContent:"space-between",color:"green"})})),ie=function(e){var t=e.curUser,a=e.setAuth,c=Object(n.useState)(null===t||void 0===t?void 0:t.dp),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(""),v=Object(l.a)(b,2),f=v[0],g=v[1],x=Object(n.useState)(t),O=Object(l.a)(x,2),C=O[0],j=O[1],y=C.age,k=C.atClass,S=C.email,A=C.fatherName,U=C.fname,_=C.lname,T=C.phone,I=C.roll;return r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:t,setAuth:a}),r.a.createElement(E.a,{mt:1,width:"99%",display:"flex",justifyContent:"flex-end"},r.a.createElement(ce,{curUser:t,setSeverity:g,setOpenSnack:p,setCurrentUser:j})),r.a.createElement(E.a,{width:"100%",my:"auto"},m?r.a.createElement(w,{openSnack:m,severity:f,text:m,setOpenSnack:p}):"",r.a.createElement(E.a,{width:"70%",mx:"auto",display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(X.a,{alt:"".concat(U," ").concat(_),src:s,sx:{width:"180px",height:"180px",border:"1px dashed green"},mx:"auto"})),r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"center",position:"relative",bottom:"13px",zIndex:1},r.a.createElement(le,{curUser:t,setImgURL:i,setSeverity:g,setOpenSnack:p})),r.a.createElement(E.a,{maxWidth:"900px",mx:"auto",mt:3,px:5,position:"relative",bottom:"30px"},r.a.createElement(K.a,{container:!0,spacing:2,justifyContent:"center"},r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Name:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},"".concat(U," ").concat(_)))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Email:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},S))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Class:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},k||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Age:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},y||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Son of:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},A||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Contact:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},T||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6,mb:2},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Roll:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},I)))))))},ue=a(428),de=a(425),me=a(202),pe=a(23),be=a.n(pe),ve=Object(U.a)(de.a)((function(e){var t,a=e.theme;return t={height:10,borderRadius:5},Object(m.a)(t,"&.".concat(me.a.colorPrimary),{backgroundColor:a.palette.grey["light"===a.palette.mode?200:800]}),Object(m.a)(t,"& .".concat(me.a.bar),{borderRadius:5,backgroundColor:"light"===a.palette.mode?"green":"#30e833"}),t})),fe=Object(ue.a)((function(){return{attendance_top:{textAlign:"center"}}})),Ee=function(e){var t=e.curUser,a=e.setAuth,c=fe(),o=Object(n.useState)(!0),s=Object(l.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),p=m[0],b=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),x=g[0],C=g[1],j=Object(n.useState)(),k=Object(l.a)(j,2),S=k[0],A=k[1],U=Object(n.useState)(),_=Object(l.a)(U,2),T=_[0],I=_[1],D=Object(n.useState)(),N=Object(l.a)(D,2),R=N[0],z=N[1],L=Object(n.useState)(0),F=Object(l.a)(L,2),M=F[0],B=F[1],Y=Object(n.useState)(0),H=Object(l.a)(Y,2),G=H[0],q=H[1],X=Object(n.useState)(""),K=Object(l.a)(X,2),J=K[0],$=K[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=localStorage.getItem("uid"),ce=Object(P.b)(),oe=function(){if(t.attendance&&t.attendance.length>0)if(be()(t.dateOfAddmission).date()===be()().date()&&be()(t.dateOfAddmission).month()===be()().month()&&be()(t.dateOfAddmission).year()===be()().year())q(100);else if(be()(t.dateOfAddmission).month()===be()().month()&&be()(t.dateOfAddmission).year()===be()().year()){A(be()(t.dateOfAddmission).date()),I(be()(t.dateOfAddmission).month()+1),z(be()(t.dateOfAddmission).year());var e="".concat(T,"-").concat(S,"-").concat(R),a=be()(e,"MM-DD-YYYY").businessDiff(be()(be()(),"MM-DD-YYYY")),n=t.attendance,r=n[(null===n||void 0===n?void 0:n.length)-1].days.length;q(r/a*100)}else if(1===be()().date())q(100);else{var c;I(be()().month()+1),z(be()().year());var o="".concat(T,"-01-").concat(R),l=be()(o,"MM-DD-YYYY").businessDiff(be()(be()(),"MM-DD-YYYY")),s=null===t||void 0===t?void 0:t.attendance,i=null===(c=s[(null===s||void 0===s?void 0:s.length)-1].days)||void 0===c?void 0:c.length;q(i/l*100)}},le=function(){if(t.attendance&&t.attendance.length>0)if(be()(t.dateOfAddmission).month()===be()().month()&&be()(t.dateOfAddmission).year()===be()().year())B(G);else{var e=be()(t.dateOfAddmission),a=e.month()+1,n=e.date(),r=e.year(),c="".concat(a,"-").concat(n,"-").concat(r),o=be()(c,"MM-DD-YYYY").businessDiff(be()(be()(),"MM-DD-YYYY")),l=t.attendance.map((function(e){return e.days.length})),s=null===l||void 0===l?void 0:l.reduce((function(e,t){return e+t}));B(s/o*100)}},se=function(){var e=Object(Z.a)(Q.a.mark((function e(){var t,a,n,r,c,o,l,s,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),t=new Date,a=t.getFullYear(),n=t.getMonth(),r=t.getDate(),c=t.getHours(),o=t.getMinutes(),l="".concat(c,":").concat(o),s={_id:re,year:a,month:n,date:r,time:l},e.next=12,f.a.post("".concat(y.severHostedUrl,"/user/attendance"),s);case 12:(i=e.sent)&&(ce(W(i.data.updated)),$(i.data.message),ne("success")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),$("Your Attendance not marked"),ne("error");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){var e,a=t.attendance,n=a[(null===a||void 0===a?void 0:a.length)-1],r=null===n||void 0===n||null===(e=n.days)||void 0===e?void 0:e.find((function(e){return e.todayDate===be()().date()}));r||1!==be()().date()||(se(),u(!0));var c=0===be()().day()||6===be()().day();r?u(!0):c?b(!0):u(!1),oe(),le()}(),oe(),le()})),r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:t,setAuth:a}),r.a.createElement(E.a,null,J?r.a.createElement(w,{openSnack:J,severity:ae,text:J,setOpenSnack:$}):"",r.a.createElement(E.a,{className:c.attendance_top},p?r.a.createElement(E.a,{mt:8,maxWidth:"80%",mx:"auto",py:2,textAlign:"center"},r.a.createElement(h.a,{color:"green",variant:"h4"},"Today is Holiday")):r.a.createElement(E.a,null,r.a.createElement(h.a,{mt:8,mb:2,variant:"h4",display:"inline-block"},"Mark Today's Attendance"),r.a.createElement(E.a,null,r.a.createElement(O.a,{size:"small",variant:"contained",color:"success",onClick:function(e){return se(e)},disabled:i||x},i?"Marked":"Mark")))),r.a.createElement(E.a,{my:5,mx:"auto",sx:{width:"80%"},display:"block"},r.a.createElement(h.a,{variant:"h6"},"This Month Attendance"),r.a.createElement(ve,{thickness:2,color:"success",variant:"determinate",value:Math.round(G)}),r.a.createElement(h.a,{variant:"h6"},Math.round(G),"%"))," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{mx:"auto",sx:{width:"80%"}},r.a.createElement(h.a,{variant:"h6"},"Overall Attendance"),r.a.createElement(ve,{color:"success",variant:"determinate",value:Math.round(M)}),r.a.createElement(h.a,{variant:"h6"},Math.round(M),"%"))))},he=a(440),ge=a(16),xe=a(450);function Oe(e){var t=e.topicChips,a=e.setTopicChips,c=e.topicErr,o=e.setTopicErr,s=e.editCourse,i=e.course;Object(n.useEffect)((function(){if(s){var e=null===i||void 0===i?void 0:i.topics.map((function(e){return e}));a(e)}}),[]);var u=Object(n.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],b=function(){var e=m.trim();if(e){var n={key:(new Date).getTime().toString(),label:e};a([].concat(Object(ge.a)(t),[n])),p(""),o(!1)}else p("")};return r.a.createElement("div",{width:"100%",style:{display:"flex",flexDirection:"column"}},r.a.createElement(x.a,{InputProps:{startAdornment:r.a.createElement("span",null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(he.a,{sx:{backgroundColor:s?"orange":"#00800030",marginRight:1,marginTop:1},key:e.key,label:e.label,onDelete:(n=e,function(){a((function(e){return t.filter((function(e){return e.key!==n.key}))}))})});var n})))},disabled:t.length>=10,margin:"dense",name:"topicItems",label:"Topics",type:"text",variant:"outlined",value:m,onChange:function(e){return function(e){p(e.target.value),m.length>=10&&b()}(e)},onKeyPress:function(e){return function(e){" "!==e.key&&"Enter"!==e.key||b()}(e)},autoComplete:"off",color:s?"warning":"success",fullWidth:!0}),c?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Add at least 1 Topic"):"")}var Ce=function(e){var t=e.courseOutlineArr,a=e.coOutErr,n=e.editCourse,c=e.onChange;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(x.a,{margin:"dense",id:"".concat(t),sx:{marginTop:1},name:Object.keys(e)[0],label:"week ".concat(t+1),type:"text",variant:"outlined",value:null===e||void 0===e?void 0:e.week,onChange:function(e){return c(e,t)},autoComplete:"off",color:n?"warning":"success",fullWidth:!0,maxLength:12,inputProps:{maxLength:80}}))})),a?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Define Outline Of All Weeks."):"")},je=a(43),ye=a(203),ke=["1 Week","2 Weeks","3 Weeks","4 Weeks"];function Se(e){var t=e.curUser,a=e.editCourse,c=e.course,o=e.setSeverity,s=e.setOpenSnack,i=localStorage.getItem("uid"),u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(null),v=Object(l.a)(b,2),E=v[0],g=v[1],C=Object(n.useState)((null===c||void 0===c?void 0:c.duration)||null),j=Object(l.a)(C,2),k=j[0],S=j[1],w=Object(n.useState)([]),A=Object(l.a)(w,2),U=A[0],I=A[1],D=Object(n.useState)(null),R=Object(l.a)(D,2),z=R[0],L=R[1],W=Object(n.useState)(null),M=Object(l.a)(W,2),B=M[0],Y=M[1],H=Object(n.useState)(!0),G=Object(l.a)(H,2),V=G[0],q=G[1],X=Object(n.useState)(null),K=Object(l.a)(X,2),J=K[0],ce=K[1],oe=Object(n.useState)([]),le=Object(l.a)(oe,2),se=le[0],ie=le[1],ue=Object(P.b)(),de=function(){p(!0)},me=function(){p(!1)},pe=function(){g(!1)},be=Object(ne.a)({initialValues:{teacher_id:i,teacherEmail:null===t||void 0===t?void 0:t.email,teacherClass:null===t||void 0===t?void 0:t.atClass,courseName:a?null===c||void 0===c?void 0:c.courseName:"",courseDesc:a?null===c||void 0===c?void 0:c.courseDesc:"",topics:null,duration:null,courseOutline:null},validationSchema:re.b().shape({courseName:re.c().required("Course Name is Required Field."),courseDesc:re.c().required("Course Description is Required Field.")}),onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Y(!1),0!==U.length){e.next=6;break}L(!0),e.next=32;break;case 6:if(k){e.next=10;break}ce(!0),e.next=32;break;case 10:if(se.filter((function(e){return""!==e.week})).length===se.length){e.next=15;break}Y(!0),e.next=32;break;case 15:if(t.topics=U,t.duration=se.length,t.courseOutline=se,!a){e.next=26;break}return me(),e.next=22,f.a.post("".concat(y.severHostedUrl,"/course/editcourse"),t);case 22:(n=e.sent)&&(n.data.editted&&(vt.emit("courseEditted",n.data.editted),ue(F(n.data.editted))),n.data.message?(s(n.data.message),o("success")):(s(n.data.error),o("error"))),e.next=32;break;case 26:return me(),console.log("Added",t),e.next=30,f.a.post("".concat(y.severHostedUrl,"/course/add"),t);case 30:(r=e.sent)&&(vt.emit("newCoursesAdded",r.data.newCourse),ue(F(r.data.newCourse)),r.data.message?(s(r.data.message),o("success")):(s(r.data.error),o("error")));case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0),me();case 38:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}()});return Object(n.useEffect)((function(){ie(a?null===c||void 0===c?void 0:c.courseOutline:[])}),[]),r.a.createElement("div",null,a?r.a.createElement(N.a,{title:"Edit Course",arrow:!0},r.a.createElement(O.a,{size:"small",onClick:de,sx:{borderRadius:5}},r.a.createElement(ye.a,{size:"22px",color:"orange"}))):r.a.createElement(N.a,{title:"Add Course",arrow:!0},r.a.createElement(xe.a,{size:"small",sx:{backgroundColor:"green","&:hover":{backgroundColor:"green"}},onClick:de},r.a.createElement(je.f,{size:"20px",color:"#fff"}))),r.a.createElement($.a,{open:m,onClose:me,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ee.a,{align:"center",backgroundColor:"white"},a?"Edit Course":"Create Course"),r.a.createElement(te.a,null,r.a.createElement("form",{onSubmit:be.handleSubmit},r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"courseName",label:"Course Name",type:"text",variant:"outlined",value:be.values.courseName,onChange:be.handleChange("courseName"),autoComplete:"off",fullWidth:!0,color:a?"warning":"success",inputProps:{maxLength:12}}),be.errors.courseName&&be.touched.courseName&&r.a.createElement(h.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},be.errors.courseName),r.a.createElement(x.a,{margin:"dense",name:"courseDesc",label:"Description",type:"text",variant:"outlined",value:be.values.courseDesc,onChange:be.handleChange("courseDesc"),autoComplete:"off",fullWidth:!0,multiline:!0,color:a?"warning":"success",inputProps:{maxLength:100}}),be.errors.courseDesc&&be.touched.courseDesc&&r.a.createElement(h.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},be.errors.courseDesc),r.a.createElement(Oe,{topicChips:U,setTopicChips:I,topicErr:z,setTopicErr:L,editCourse:a,course:c,style:{display:"flex",background:"orange"}}),r.a.createElement(O.a,{onClick:function(e){!function(e){ce(!1),Y(!1),g(e.currentTarget)}(e),ie([])},color:a?"warning":"success",endIcon:r.a.createElement(je.c,null)},a&&V?ke[String(k-1)]:ke[k]||"Duration"),J?r.a.createElement(h.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},"Please Select Duration of Your Course"):r.a.createElement(r.a.Fragment,null),r.a.createElement(_.a,{open:Boolean(E),anchorEl:E,onClose:pe},ke.map((function(e,t){return r.a.createElement(T.a,{key:t,onClick:function(){return function(e){q(!1);var t=Object(ge.a)(Array(e+1)).map((function(){return{week:""}}));ie(t),S(String(e)),pe()}(t)},name:"duration"},e)}))),k||a?r.a.createElement(Ce,{courseOutlineArr:se,editCourse:a,coOutErr:B,onChange:function(e,t){ie((function(a){var n=Object(ge.a)(a);return n[t].week=e.target.value,n}))}}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{color:a?"warning":"success",variant:"contained",onClick:be.handleSubmit},a?"Save Edit":"Create"),r.a.createElement(O.a,{color:a?"warning":"success",variant:"outlined",onClick:me},"Cancel"))))}var we=a(204),Ae=function(e){var t,a=e.curUser,c=e.course,o=e.setAuth,s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)(""),v=Object(l.a)(p,2),f=v[0],g=v[1],x=c||{},C=x.courseName,j=x.courseDesc,y=x.topics,k=x.duration,S=x.courseOutline,A=Object(b.g)();return r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:a,setAuth:o}),r.a.createElement(E.a,{width:"95%",maxWidth:"1100px",marginX:"auto"},u?r.a.createElement(w,{openSnack:u,severity:f,text:u,setOpenSnack:d}):"",r.a.createElement(E.a,(t={mt:5,pb:2,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between"},Object(m.a)(t,"pb",1),Object(m.a)(t,"px",2),Object(m.a)(t,"width","100%"),t),r.a.createElement(h.a,{variant:"h4",color:"green",sx:{textTransform:"capitalize"}},"".concat(a.fname," ").concat(a.lname,"(").concat(a.roll,")")),r.a.createElement(h.a,{variant:"body1",mt:2,color:"green"},!c&&(null===a||void 0===a?void 0:a.atClass)?r.a.createElement(Se,{curUser:a,course:c,editCourse:!1,setSeverity:g,setOpenSnack:d}):(null===a||void 0===a?void 0:a.atClass)?"":r.a.createElement(O.a,{color:"success",size:"small"},"Set Your Class"))),r.a.createElement(E.a,{width:"100%",mt:3,p:3,pt:-1,color:"green"},c&&Object.entries(c).length>0?r.a.createElement(E.a,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,mt:1,sm:6,xs:12,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Course Name:"),r.a.createElement(h.a,{ml:5,variant:"body2"},C),r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Description:"),r.a.createElement(h.a,{ml:5,variant:"body2"},j),r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Topics:"),r.a.createElement(E.a,{ml:4},null===y||void 0===y?void 0:y.map((function(e,t){return r.a.createElement(he.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Duration:"),r.a.createElement(h.a,{ml:5,variant:"body2"},k," week / weeks")),r.a.createElement(K.a,{item:!0,mt:1,sm:6,xs:12,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Course Outline:"),null===S||void 0===S?void 0:S.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(h.a,{color:"black",ml:5,variant:"body2"},"week ",t+1,":"),r.a.createElement(h.a,{ml:9,variant:"body1"},e.week))})))),r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"flex-end"},r.a.createElement(Se,{curUser:a,editCourse:!0,course:c,setSeverity:g,setOpenSnack:d}),r.a.createElement(N.a,{title:"Go to This Course",arrow:!0},r.a.createElement(O.a,{size:"small",sx:{borderRadius:5},onClick:function(){return A.push("/".concat(null===c||void 0===c?void 0:c._id))}},r.a.createElement(we.a,{size:"22px",color:"green"}))))):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Course Added")))))},Ue=a(434),_e=a(451),Te=a(452),Ie=a(453),De=a(85);var Ne=function(e){var t,a=e.curElem,c=e.curUser,o=e.setOpenSnack,s=e.setSeverity,i=Object(n.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],p=Object(n.useState)(!1),b=Object(l.a)(p,2),v=b[0],g=b[1],x=c.fname,C=c.lname,j=a._id,k=a.courseDesc,S=a.courseName,w=a.courseOutline,A=a.duration,U=a.topics,_=localStorage.getItem("uid"),T=Object(P.b)(),I=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={student_name:"".concat(x," ").concat(C),courseName:S,course_id:j,student_id:_},e.next=4,f.a.post("".concat(y.severHostedUrl,"/course/applynow"),a);case 4:(n=e.sent)&&(n.data.message?(vt.emit("changeInCourse",n.data.course),g(!0),T(W(n.data.student)),o(n.data.message),s("success")):(o(n.data.errors),s("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2}},v?"":r.a.createElement(Ue.a,{expanded:"panel1"===d,onChange:(t="panel1",function(e,a){m(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(_e.a,{expandIcon:r.a.createElement(je.d,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{display:"flex",justifyContent:"flex-start",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},S[0])),r.a.createElement(h.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},S))),r.a.createElement(Te.a,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},S),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},k),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(E.a,{ml:4},null===U||void 0===U?void 0:U.map((function(e,t){return r.a.createElement(he.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(h.a,{ml:5,variant:"body2"},A," week / weeks")),r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Outline:"),null===w||void 0===w?void 0:w.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(h.a,{color:"black",ml:5,variant:"body1"},"week ",t+1,":"),r.a.createElement(h.a,{color:"green",ml:9,variant:"body2"},e.week))}))))),r.a.createElement(Ie.a,null,r.a.createElement(N.a,{title:"Enroll Now",arrow:!0},r.a.createElement(O.a,{variant:"contained",color:"success",onClick:function(e){return I(e)}},r.a.createElement(De.c,{color:"green",size:"22px"}))))))},Re=a(429),ze=a(454);function Le(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement(E.a,{width:"100%",sx:{marginX:"auto",padding:"5px"}},a===n&&r.a.createElement(r.a.Fragment,null," ",t," "))}var Pe=function(e){var t=e.tab1Label,a=e.tab2Label,c=e.tab3Label,o=e.tab4Label,s=e.panel1,i=e.panel2,u=e.panel3,d=e.panel4,m=Object(n.useState)(0),p=Object(l.a)(m,2),b=p[0],v=p[1];return r.a.createElement(E.a,null,r.a.createElement(E.a,{sx:{borderBottom:1,borderColor:"divider"}},r.a.createElement(Re.a,{value:b,onChange:function(e,t){v(t)},textColor:"inherit",scrollButtons:"auto",variant:"scrollable",TabIndicatorProps:{sx:{backgroundColor:"green",height:"5px"}}},r.a.createElement(ze.a,{label:t}),r.a.createElement(ze.a,{label:a}),c?r.a.createElement(ze.a,{label:c}):"",o?r.a.createElement(ze.a,{label:o}):"")),r.a.createElement(Le,{value:b,index:0},s),r.a.createElement(Le,{value:b,index:1},i),u?r.a.createElement(Le,{value:b,index:2},u):"",d?r.a.createElement(Le,{value:b,index:3},d):"")},We=a(72),Fe=function(e){var t,a=e.curCor,c=(e.ind,Object(n.useState)(!1)),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)({}),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),x=g[0],C=g[1],j=Object(b.g)(),k=m.courseName,S=m.courseDesc,w=m.topics,A=m.duration,U=m.courseOutline,_=function(){var e=Object(Z.a)(Q.a.mark((function e(){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=null===x||void 0===x?void 0:x.find((function(e){return e._id===a.id})))){e.next=6;break}p(t),e.next=11;break;case 6:return e.next=8,f.a.post("".concat(y.severHostedUrl,"/course/getcourse"),{id:a.id});case 8:n=e.sent,p(n.data.DBcourse),C([].concat(Object(ge.a)(x),[n.data.DBcourse]));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2,width:"100%"}},r.a.createElement(Ue.a,{width:"100%",expanded:"panel1"===s,onClick:_,onChange:(t="panel1",function(e,a){i(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(_e.a,{expandIcon:r.a.createElement(je.d,{onClick:_}),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(E.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===a||void 0===a?void 0:a.name[0])),r.a.createElement(h.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},null===a||void 0===a?void 0:a.name)),r.a.createElement(N.a,{title:"Preview"},r.a.createElement(O.a,{color:"success",onClick:function(e){return j.push("/".concat(null===a||void 0===a?void 0:a.id))}}," ",r.a.createElement(We.a,{color:"black",size:"22px"}))))),r.a.createElement(Te.a,null,r.a.createElement(K.a,{container:!0,display:"flex"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},k),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},S),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(E.a,{ml:4},null===w||void 0===w?void 0:w.map((function(e,t){return r.a.createElement(he.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(h.a,{ml:5,variant:"body2"},A," week / weeks")),r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Outline:"),null===U||void 0===U?void 0:U.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(h.a,{color:"black",ml:5,variant:"body1"},"week ",t+1,":"),r.a.createElement(h.a,{color:"green",ml:9,variant:"body2"},e.week))})))))))},Me=function(e){var t,a=e.curUser,c=e.courses,o=e.setAuth,s=Object(n.useState)(!0),i=Object(l.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),b=p[0],v=p[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),O=x[0],C=x[1],j=function(){var e=Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.filter((function(e){return!0===e.removedByTeacher})))){e.next=6;break}return e.next=5,f.a.post("".concat(y.severHostedUrl,"/course/delcoursefromstudent"),{id:null===a||void 0===a?void 0:a._id});case 5:setTimeout((function(){d(!1)}),6e4);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:a,setAuth:o}),r.a.createElement(E.a,{width:"100%"},b?r.a.createElement(w,{openSnack:b,severity:O,text:b,setOpenSnack:v}):"",r.a.createElement(E.a,{mx:"auto",mt:2,maxWidth:"800px",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(Pe,{tab1Label:"Available Courses",panel1:r.a.createElement(E.a,{width:"100%",mt:4.2},r.a.createElement(E.a,{mb:2,display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Available Courses")),(null===c||void 0===c?void 0:c.length)>0&&(null===a||void 0===a?void 0:a.atClass)?null===c||void 0===c?void 0:c.map((function(e,t){return r.a.createElement(Ne,{setOpenSnack:v,setSeverity:C,key:t,curElem:e,curUser:a})})):(null===a||void 0===a?void 0:a.atClass)?r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Course Available...")):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Please Set Your class to get Available Courses.."))),tab2Label:"Enrolled Courses",panel2:r.a.createElement(E.a,{width:"100%",mt:3},r.a.createElement(E.a,{mb:2,display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Enrolled Courses")),r.a.createElement(E.a,null,(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.length)>0?null===a||void 0===a?void 0:a.courses.map((function(e,t){return e.removedByTeacher&&u?r.a.createElement(E.a,{key:t,width:"100%",textAlign:"center",mt:1,py:2,sx:{borderRadius:1,backgroundColor:"#ff0000d1","&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(h.a,{variant:"body1",color:"white"},'You Were Removed from "',e.name,'"')):r.a.createElement(Fe,{curCor:e,key:t,ind:t})})):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently Not Enrolled In Any Course..."))))}))))},Be=function(e){var t=e.curUser,a=e.setAuth,n=Object(P.c)((function(e){return e.usersReducer.course})),c=Object(P.c)((function(e){return e.usersReducer.studentCourse}));return"teacher"===t.roll?r.a.createElement(Ae,{curUser:t,course:n,setAuth:a}):r.a.createElement(Me,{curUser:t,courses:c,setAuth:a})},Ye=function(e){var t=e.userName,a=e.autoFocus,n=e.placeholder,c=e.value,o=e.setValue,l=e.name,s=e.color,i=e.submitFunc,u=e.type;return r.a.createElement(E.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:1,marginBottom:2,justifySelf:"flex-end",padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a,{display:"flex",justifyContent:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},t)),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(x.a,{autoFocus:a,name:l,type:u,placeholder:n,value:c,onChange:function(e){return o(e.target.value)},autoComplete:"off",fullWidth:!0,multiline:!0,color:s,InputProps:{endAdornment:r.a.createElement(We.b,{onClick:function(e){return i(e)},size:"26px",color:"green",style:{margin:"auto 1 0 0"}})}})))))},He=a(205),Ge=a.n(He),Ve=function(e){var t=e.color,a=e.timeColor,n=e.nameFirestLetter,c=e.name,o=e.time,l=e.message;return r.a.createElement(E.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:3,padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a,{display:"flex",justifyContent:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:t,textTransform:"capitalize"}},n)),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{variant:"subtitle1",color:t},r.a.createElement("b",null,c)),r.a.createElement(h.a,{variant:"body2",color:a}," ",o)))),r.a.createElement(E.a,{width:"100%",mt:2,sx:{wordWrap:"break-word",paddingLeft:5}},r.a.createElement(h.a,{variant:"subtitle2"},l)))},qe=a(54),Xe=a.n(qe),Ke=function(e){var t,a=e.curUser,c=e.currentCourse,o=Object(n.useState)(""),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(l.a)(m,2),b=p[0],v=p[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),O=x[0],C=x[1],j=Object(n.useState)(""),k=Object(l.a)(j,2),S=k[0],A=k[1],U=Object(P.b)();Object(n.useEffect)((function(){if(c&&a){var e,t=null===c||void 0===c||null===(e=c.students)||void 0===e?void 0:e.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)}));(null===t||void 0===t?void 0:t.muted)?v(!0):v(!1)}}));var _=a||{},T=_._id,I=_.fname,D=_.lname,N=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,r,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=i.trim())){e.next=12;break}return n="".concat(I," ").concat(D),r=Xe()().format("hh:mm A"),o={id:T,name:n,time:r,message:a,courseID:null===c||void 0===c?void 0:c._id},e.next=8,f.a.post("".concat(y.severHostedUrl,"/course/sendmessage"),o);case 8:(l=e.sent)&&(u(""),l.data.message?(vt.emit("msgSentInStream",l.data.course),U(M(l.data.course)),C(l.data.message),A("success")):(C(l.data.error),A("error"))),e.next=14;break;case 12:C("Please write something"),A("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(E.a,{maxWidth:"1100px",display:"flex",flexDirection:"column",justifyContent:"center",sx:{marginX:"auto"}},O?r.a.createElement(w,{openSnack:O,severity:S,text:O,setOpenSnack:C}):"",r.a.createElement(E.a,{sx:{width:"100%",height:"240px",borderRadius:"10px",marginTop:3}},r.a.createElement("img",{src:Ge.a,width:"100%",height:"100%",style:{borderRadius:"10px"},alt:"BackGround Image"})),null===c||void 0===c||null===(t=c.chat)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(Ve,{color:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"green":"#ba000d",timeColor:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"#2e7d32de":"#ba000db8",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})),b?r.a.createElement(E.a,{mt:3,border:"1px solid red",borderRadius:2,width:"100%",py:3,textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"red"},"You Can't send Message Because You're Muted...")):r.a.createElement(Ye,{name:"message",autoFocus:!0,value:i,setValue:u,placeholder:"Add comment to All Students",color:"success",submitFunc:N,userName:null===a||void 0===a?void 0:a.fname[0]})):r.a.createElement(d,null)},Je=function(e){var t=e.currentCourse,a=e.curUser,c=Object(n.useState)(null),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(""),v=Object(l.a)(b,2),g=v[0],x=v[1],C=Object(n.useState)(""),j=Object(l.a)(C,2),k=j[0],S=j[1],A=Object(n.useState)(""),U=Object(l.a)(A,2),_=U[0],T=U[1],I=function(){p(!m)},D=a||{},N=D._id,R=D.fname,z=D.lname,L=function(){var e=Object(Z.a)(Q.a.mark((function e(a){var n,r,c,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=g.trim())){e.next=12;break}return r="".concat(R," ").concat(z),c=Xe()().format("hh:mm A"),o={id:N,name:r,time:c,message:n,courseID:null===t||void 0===t?void 0:t._id},e.next=8,f.a.post("".concat(y.severHostedUrl,"/course/announcement"),o);case 8:(l=e.sent)&&(x(""),I(),l.data.message?(S(l.data.message),T("success"),vt.emit("changeInCourse",l.data.course),i(l.data.course.announcement)):(S(l.data.error),T("error"))),e.next=14;break;case 12:S("Write something"),T("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(null===t||void 0===t?void 0:t.announcement)}),[t]),r.a.createElement(E.a,{maxWidth:"1100px",minHeight:"77vh",display:"flex",flexDirection:"column",sx:{marginX:"auto"}},k?r.a.createElement(w,{openSnack:k,severity:_,text:k,setOpenSnack:S}):"","teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement("div",null,m?r.a.createElement(Ye,{name:"announce",autoFocus:!0,value:g,setValue:x,type:"text",placeholder:"Write Announcement",color:"success",submitFunc:L,userName:null===a||void 0===a?void 0:a.fname[0]}):"",r.a.createElement(E.a,{onClick:I,sx:{width:"100%","&:hover":{color:"green",cursor:"pointer"},borderRadius:"12px",backgroundColor:"#00710012",padding:"1rem 1.5rem",boxShadow:4}},r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},"r")),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{color:"#0000009c",sx:{fontSize:"14px","&:hover":{color:"green",cursor:"pointer",textDecoration:"underline"}}},"Announce Something to Your Students")),r.a.createElement(E.a,null,r.a.createElement(O.a,{sx:{borderRadius:5},size:"small"},r.a.createElement(De.a,{size:"23px"}))))))):r.a.createElement(E.a,{borderBottom:"1px solid #00800059",display:"flex",justifyContent:"flex-start",pb:2,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Announcements")),null===s||void 0===s?void 0:s.map((function(e,t){return r.a.createElement(Ve,{color:"green",timeColor:"#2e7d32de",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})))},Qe=function(e){var t,a,c=e.currentCourse,o=e.curUser,s=Object(n.useState)(null===c||void 0===c?void 0:c.students),i=Object(l.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)(null),b=Object(l.a)(p,2),v=b[0],g=b[1],x=Object(n.useState)(""),C=Object(l.a)(x,2),k=C[0],S=C[1],A=Object(n.useState)(""),U=Object(l.a)(A,2),I=U[0],D=U[1],N=Object(n.useState)(""),R=Object(l.a)(N,2),z=R[0],L=R[1],P=Object(n.useState)(""),W=Object(l.a)(P,2),F=W[0],M=W[1],B=Object(n.useState)(""),Y=Object(l.a)(B,2),H=Y[0],G=Y[1],V=Boolean(v),q=o||{},K=q._id,J=q.fname,$=q.lname,ee=function(e){D(""),S(""),L(""),g(e.currentTarget)},te=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={studentID:t,courseID:null===c||void 0===c?void 0:c._id},e.next=4,f.a.post("".concat(y.severHostedUrl,"/course/delspecificstudent"),a);case 4:(n=e.sent)&&(n.data.message?(vt.emit("changeInCourse",n.data.course),d(n.data.course.students),M(n.data.message),G("success")):(M(n.data.error),G("error"))),ne(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),ne();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ne(),e.next=4,f.a.post("".concat(y.severHostedUrl,"/course/mutestudent"),{courseID:null===c||void 0===c?void 0:c._id,studentID:t});case 4:(a=e.sent)&&(vt.emit("changeInCourse",a.data.course),d(a.data.course.students),a.data.message?(M(a.data.message),G("success")):(M(a.data.error),G("error"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),ne();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){g(null)},re=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,r,c,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=k.trim())){e.next=12;break}return n="".concat(J," ").concat($),r=Xe()().format("hh:mm:ss A"),c={senderID:K,senderName:n,time:r,message:a,recieverID:I,recieverName:z},e.next=8,f.a.post("".concat(y.severHostedUrl,"/user/sendmsg"),c);case 8:(o=e.sent)&&(o.data.message?(M(o.data.message),G("success")):(M(o.data.error),G("error")),S(""),D(""),L("")),e.next=14;break;case 12:M("write something"),G("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,null,r.a.createElement(E.a,{sx:{maxWidth:"760px",margin:"0 auto"}},F?r.a.createElement(w,{openSnack:F,severity:H,text:F,setOpenSnack:M}):"",r.a.createElement(E.a,{display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Students"),r.a.createElement(h.a,{variant:"body1",mt:3,color:"green"},(null===c||void 0===c||null===(t=c.students)||void 0===t?void 0:t.length)>0?u.length:"No"," students")),(null===c||void 0===c||null===(a=c.students)||void 0===a?void 0:a.length)>0?u.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(E.a,Object(m.a)({p:"10px 20px",mt:1,width:"85%",display:"flex",justifyContent:"space-between",sx:{borderRadius:"10px","&:hover":{backgroundColor:"#009c0026",boxShadow:3,cursor:"pointer"}}},"width","100%"),r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},e.name[0])),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px"}},e.name))),r.a.createElement(O.a,{id:"basic-button",sx:{color:"black",borderRadius:5},"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":V?"true":void 0,onClick:ee,size:"small"},r.a.createElement(j.b,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(_.a,{id:"basic-menu",anchorEl:v,open:V,onClose:ne,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(T.a,{onClick:function(){D(e.id),L(e.name),ne()}},"Send Message to ",null===e||void 0===e?void 0:e.name),r.a.createElement(T.a,{onClick:function(){return te(e.id)}},"Remove"),r.a.createElement(T.a,{onClick:function(){return ae(e.id)}},e.muted?"Unmute":"Mute"))),I?r.a.createElement(Ye,{name:"message",autoFocus:!0,value:k,setValue:S,type:"text",placeholder:"Write Message for this student",color:"success",submitFunc:re,userName:null===o||void 0===o?void 0:o.fname[0]}):"")})):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Students..."))))},Ze=function(e){var t=e.currentCourse,a=e.btnTitle,c=e.tooltipTitle,o=e.curUser,s=e.btnIcon,i=e.dialogTitle,u=e.actionTitle,d=e.isTeacher,m=e.btnStartIcon,p=e.btnColor,b=e.btnVariant,v=e.currentAssignment,g=e.input2label,C=e.setOpenSnack,j=e.setSeverity,k=e.setAllAssignments,S=Object(n.useState)(!1),w=Object(l.a)(S,2),A=w[0],U=w[1],_=Object(n.useState)(null),T=Object(l.a)(_,2),I=T[0],D=T[1],R=function(){U(!1)},z=Object(P.b)(),L=Object(ne.a)({initialValues:{title:d?"":null===v||void 0===v?void 0:v.title,desc:""},validationSchema:re.b().shape({title:re.c().required("Title is Required Field...")}),onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(a){var n,r,c,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I||a.desc){e.next=6;break}C("You cannot leave both files and description blank at the same time"),j("error"),e.next=27;break;case 6:if(n=new FormData,!a.desc&&I?n.append("myFile",I):!I&&a.desc?n.append("desc",a.desc):(n.append("desc",a.desc),n.append("myFile",I)),r={headers:{"content-type":"multipart/form-data"}},!d){e.next=18;break}return n.append("title",a.title),n.append("courseID",null===t||void 0===t?void 0:t._id),e.next=14,f.a.post("".concat(y.severHostedUrl,"/assignment/add"),n,r);case 14:(c=e.sent)&&(R(),D(null),a={},c.data.message?(k(c.data.allAssignment),console.log("res.data.assignment",c.data.allAssignment),vt.emit("assignmentAdd",c.data.allAssignment),z(B(c.data.allAssignment)),C(c.data.message),j("success")):(C(c.data.error),j("error"))),e.next=27;break;case 18:return n.append("assignmentID",null===v||void 0===v?void 0:v._id),n.append("id","".concat(null===o||void 0===o?void 0:o._id)),n.append("name","".concat(null===o||void 0===o?void 0:o.fname," ").concat(null===o||void 0===o?void 0:o.lname)),n.append("time",Xe()().format("hh:mm:ss A")),R(),e.next=25,f.a.post("".concat(y.severHostedUrl,"/assignment/submit"),n,r);case 25:(l=e.sent)&&(D(null),vt.emit("changeInAssignment",l.data.assignment),l.data.message?(C(l.data.message),j("success")):(C(l.data.error),j("error")));case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0),R();case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{title:c,arrow:!0},r.a.createElement(O.a,{startIcon:m,onClick:function(){U(!0)},color:p,sx:{marginTop:d?3:0,borderRadius:5},variant:b},a||s)),r.a.createElement($.a,{open:A,onClose:R,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ee.a,null,i),r.a.createElement(te.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",variant:"filled",value:d?L.values.title:null===v||void 0===v?void 0:v.title,onChange:L.handleChange("title"),autoComplete:"off",disabled:!d,fullWidth:!0,color:"success",inputProps:{maxLength:32,required:!0}}),L.errors.title&&L.touched.title&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},L.errors.title),r.a.createElement(x.a,{margin:"dense",name:"desc",label:g,type:"text",variant:"filled",value:L.values.desc,onChange:L.handleChange("desc"),autoComplete:"off",fullWidth:!0,color:"success",multiline:!0,minRows:2,inputProps:{maxLength:500}}),r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},r.a.createElement(E.a,{border:"1px solid rgba(0, 0, 0, 0.09)",px:"14px",mt:1,py:"7px",flexGrow:1},r.a.createElement(h.a,{variant:"subtitle1"},I?I.name:"No File Selected")),r.a.createElement(N.a,{title:"Attech File",arrow:!0},r.a.createElement(O.a,{component:"label",sx:{borderRadius:5}},r.a.createElement(De.b,{size:"20px",color:"white"}),r.a.createElement("input",{type:"file",onChange:function(e){return function(e){var t=e.target.files[0];t&&(t.size/1024/1024>10?(C("file Size is too long"),j("error")):D(t))}(e)},accept:".zip,.txt,.psd,.pptx,.pptx,.png,.jpeg,.jpg,.pdf,.docx,.doc",hidden:!0})))))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{onClick:L.handleSubmit,color:"success",variant:"contained"},u),r.a.createElement(O.a,{onClick:R,color:"success",variant:"outlined"},"cancel"))))},$e=function(e){var t,a=e.curUser,c=e.isTeacher,o=e.assignment,s=e.setCurrentAssignmentID,i=e.setChecked,u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(null),v=Object(l.a)(b,2),f=v[0],g=v[1],x=Boolean(f),C=function(e){g(null)};return r.a.createElement("div",null,r.a.createElement(Ue.a,{expanded:"panel1"===m,onChange:(t="panel1",function(e,a){p(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(_e.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},r.a.createElement(je.b,{size:"20px",color:"white"}))),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px"}},null===o||void 0===o?void 0:o.title))),r.a.createElement(E.a,{display:"flex",alignItems:"center"},(null===o||void 0===o?void 0:o.file)?r.a.createElement(N.a,{arrow:!0,title:"View file"},r.a.createElement(O.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===o||void 0===o?void 0:o.file},r.a.createElement(We.a,{size:"23px",style:{margin:"auto 0px"}}))):"",c?r.a.createElement(E.a,null,r.a.createElement(O.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":x?"true":void 0,onClick:function(e){e.stopPropagation(),g(e.currentTarget)}},r.a.createElement(je.e,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(_.a,{id:"basic-menu",anchorEl:f,open:x,onClose:C,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(T.a,{onClick:function(e){e.stopPropagation(),s(null===o||void 0===o?void 0:o._id),i(!1),C()}},"Submited"),r.a.createElement(T.a,{onClick:function(e){e.stopPropagation(),s(null===o||void 0===o?void 0:o._id),i(!0),C()}},"Checked"))):r.a.createElement(Ze,{btnIcon:r.a.createElement(je.f,{size:"23px",style:{margin:"auto 0px"}}),btnVariant:"text",btnColor:"success",tooltipTitle:"Submit Assignment",input2label:"Answers",currentAssignment:o,dialogTitle:"Submit Assignment",actionTitle:"submit",curUser:a,isTeacher:c}))),r.a.createElement(Te.a,null,r.a.createElement(h.a,null," ",(null===o||void 0===o?void 0:o.description)?o.description:"This Assignment have no desccription"))))},et=a(125),tt=function(e){var t=e.submitted;return r.a.createElement(E.a,{width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===t||void 0===t?void 0:t.name[0])),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===t||void 0===t?void 0:t.name)),r.a.createElement(h.a,{mr:2,variant:"body1"},Math.round(null===t||void 0===t?void 0:t.marks)," Marks")))},at=a(206),nt=function(e){var t=e.submitted,a=e.assignmentID,c=e.checked,o=e.setOpenSnack,s=e.setSeverity,i=Object(P.c)((function(e){return e.usersReducer.curUser})),u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!1),v=Object(l.a)(b,2),g=v[0],x=v[1],C=Object(n.useState)(Number(0)),j=Object(l.a)(C,2),k=j[0],S=j[1],w=Object(n.useState)(!1),A=Object(l.a)(w,2),U=A[0],_=A[1];console.log("checkedInSubmittedAccordion",c);var T,I=function(){var e=Object(Z.a)(Q.a.mark((function e(n){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k&&k>=0&&k<=100)){e.next=13;break}return e.prev=1,e.next=4,f.a.post("".concat(y.severHostedUrl,"/assignment/givemarks"),{studentID:null===t||void 0===t?void 0:t.id,assignmentID:a,marks:k});case 4:(r=e.sent)&&(vt.emit("changeInAssignment",r.data.assignment),x(!0),r.data.message?(o(r.data.message),s("success")):(o(r.data.error),s("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=15;break;case 13:o("Failed to Giving Marks..."),s("error");case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,null,g?"":r.a.createElement(E.a,null,r.a.createElement(Ue.a,{expanded:"panel1"===U,onChange:(T="panel1",function(e,t){_(!!t&&T)}),sx:{backgroundColor:"#00800012",borderRadius:1,marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(_e.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===t||void 0===t?void 0:t.name[0])),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px"}},null===t||void 0===t?void 0:t.name))),r.a.createElement(E.a,{display:"flex",alignItems:"center"},(null===t||void 0===t?void 0:t.file)?r.a.createElement(N.a,{arrow:!0,title:"View file"},r.a.createElement(O.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===t||void 0===t?void 0:t.file},r.a.createElement(We.a,{size:"23px",style:{margin:"auto 0px"}}))):"",r.a.createElement(E.a,null,r.a.createElement(N.a,{title:"Give Marks"},r.a.createElement(O.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button",onClick:function(e){e.stopPropagation(),p(!m)}},r.a.createElement(at.a,{size:"23px",style:{margin:"auto 0px"}})))))),r.a.createElement(Te.a,null,r.a.createElement(h.a,null,null===t||void 0===t?void 0:t.desc))),r.a.createElement(E.a,{mx:1,onClick:function(e){e.stopPropagation()}},m?r.a.createElement(Ye,{name:"marks",autoFocus:!0,value:k,setValue:S,type:"number",placeholder:"Give Marks Out of 100",color:"success",submitFunc:I,userName:null===i||void 0===i?void 0:i.fname[0]}):"")))},rt=function(e){var t,a,c,o=e.currentAssignmentID,s=e.checked,i=Object(P.c)((function(e){return e.usersReducer.currentAssignment})),u=Object(n.useState)(i),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),x=g[0],C=g[1],j=Object(n.useState)(""),k=Object(l.a)(j,2),S=k[0],A=k[1],U=Object(P.b)(),_=Object(b.g)();return Object(n.useEffect)((function(){vt.on("CHANGE_IN_ASSIGNMENT",(function(e){(null===i||void 0===i?void 0:i._id)===e._id&&(p(e),U(Y(e)))}))})),Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(y.severHostedUrl,"/assignment/submitted/").concat(o));case 2:(t=e.sent)&&(U(Y(t.data.assignment)),p(t.data.assignment));case 4:case"end":return e.stop()}}),e)}))),[]),r.a.createElement(E.a,null,x?r.a.createElement(w,{openSnack:x,severity:S,text:x,setOpenSnack:C}):"",r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(N.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(O.a,{onClick:function(){return _.push("/coursedetails")},startIcon:r.a.createElement(et.a,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(E.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},s?"Checked ":"Submitted "," Students"),r.a.createElement(h.a,{variant:"body1",mt:2,color:"green"},"(",null===m||void 0===m?void 0:m.title,")")),s?null===m||void 0===m||null===(t=m.submitted)||void 0===t?void 0:t.map((function(e,t){return e.marks?r.a.createElement(tt,{key:t,submitted:e}):""})):(null===m||void 0===m||null===(a=m.submitted)||void 0===a?void 0:a.length)>0?null===m||void 0===m||null===(c=m.submitted)||void 0===c?void 0:c.map((function(e,t){return e.marks?"":r.a.createElement(nt,{checked:s,key:t,submitted:e,assignmentID:null===m||void 0===m?void 0:m._id,setOpenSnack:C,setSeverity:A})})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Student Submit this Assignment")))},ct=function(e){var t=e.currentCourseID,a=Object(P.c)((function(e){return e.usersReducer.curUser})),c=Object(n.useState)(null),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(b.g)(),d=Object(P.b)();return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(y.severHostedUrl,"/assignment/studentallchecked"),{courseID:t,studentID:null===a||void 0===a?void 0:a._id});case 3:(n=e.sent)&&(i(n.data.checked),d({type:"CHECKED_ASSIGNMENTS",payload:n.data.checked})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(N.a,{title:"Back to Course Details",arrow:!0},r.a.createElement(O.a,{onClick:function(){return u.push("/coursedetails")},startIcon:r.a.createElement(et.a,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(E.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"All Checked Assignments"),r.a.createElement(h.a,{variant:"body1",mt:2,color:"green"},"(Assignment Name)"))),(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((function(e,t){var n=e.submitted.find((function(e){return e.id===a._id})),c=null===n||void 0===n?void 0:n.marks;return r.a.createElement(E.a,{key:t,width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===e||void 0===e?void 0:e.title[0])),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===e||void 0===e?void 0:e.title)),r.a.createElement(h.a,{mr:2,variant:"body1"},c," Marks")))})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"No Assignment Checked")))},ot=function(e){var t=e.curUser,a=e.isTeacher,c=e.currentCourse,o=Object(P.c)((function(e){return e.usersReducer.allAssignments})),s=Object(n.useState)(o),i=Object(l.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),b=p[0],v=p[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),C=x[0],j=x[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),A=S[0],U=S[1],_=Object(n.useState)(""),T=Object(l.a)(_,2),I=T[0],D=T[1],R=Object(n.useState)(""),z=Object(l.a)(R,2),L=z[0],W=z[1],F=Object(P.b)();return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(y.severHostedUrl,"/assignment/allassignments"),{courseID:null===c||void 0===c?void 0:c._id});case 3:(t=e.sent)&&(F(B(t.data.allAssignments)),d(t.data.allAssignments)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[u]),r.a.createElement(E.a,{sx:{maxWidth:"760px",margin:"0 auto"}},I?r.a.createElement(w,{openSnack:I,severity:L,text:I,setOpenSnack:D}):"",b&&a?r.a.createElement(rt,{checked:A,currentAssignmentID:b}):!a&&C?r.a.createElement(ct,{currentCourseID:C}):r.a.createElement(E.a,null,r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},a?r.a.createElement(Ze,{btnTitle:"create",btnVariant:"contained",btnColor:"success",input2label:"Questions and Instructions",tooltipTitle:"Create Assignment",btnStartIcon:r.a.createElement(je.a,{size:"20px",color:"white"}),dialogTitle:"Create Assignment or Questions",actionTitle:"create",currentCourse:c,isTeacher:a,setOpenSnack:D,setSeverity:W,setAllAssignments:d}):r.a.createElement(N.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(O.a,{onClick:function(){return j(null===c||void 0===c?void 0:c._id)},color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Checked"))),r.a.createElement(E.a,{display:"flex",justifyContent:"flex-start",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},a?"":"Non Submitted ","Assignments")),(null===u||void 0===u?void 0:u.length)>0?null===u||void 0===u?void 0:u.map((function(e,n){if(!(null===e||void 0===e?void 0:e.submitted.find((function(e){return e.id===t._id}))))return r.a.createElement($e,{key:n,curUser:t,isTeacher:a,assignment:e,setCurrentAssignmentID:v,setChecked:U})})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Assignments"))))},lt=Object(ue.a)({class_materials:{width:"100vw",height:"100vh"}}),st=function(e){var t,a=e.curUser,c=e.setAuth,o=Object(P.c)((function(e){return e.usersReducer.currentCourse})),s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(n.useState)(""),v=Object(l.a)(p,2),h=v[0],g=(v[1],Object(n.useState)(null)),x=Object(l.a)(g,2),O=x[0],C=x[1],j=Object(n.useState)(!0),k=Object(l.a)(j,2),S=k[0],A=k[1],U=null===o||void 0===o||null===(t=o.students)||void 0===t?void 0:t.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)})),_=lt(),T=Object(b.h)(),I=Object(b.g)(),D=Object(P.b)();return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(y.severHostedUrl,"/course/specific"),{id:T.id});case 2:(t=e.sent).data.currentCourse?(D(M(t.data.currentCourse)),C(!0),A(!1)):(console.log(t.data.error),C(!1),A(!1));case 4:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){vt.on("CHANGE_IN_COURSE",(function(e){(null===o||void 0===o?void 0:o._id)===e._id&&D(M(e))}))})),S?r.a.createElement(d,null):r.a.createElement(E.a,{className:_.class_materials},r.a.createElement(V,{curUser:a,setAuth:c}),O&&("student"===(null===a||void 0===a?void 0:a.roll)&&U||"teacher"===(null===a||void 0===a?void 0:a.roll)&&(null===o||void 0===o?void 0:o.teacher_id)===(null===a||void 0===a?void 0:a._id))?r.a.createElement(E.a,null,u?r.a.createElement(w,{openSnack:u,severity:h,text:u,setOpenSnack:m}):"",r.a.createElement(Pe,{tab1Label:"Stream",panel1:r.a.createElement(Ke,{currentCourse:o,curUser:a}),tab2Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Class Work":"Assignments",panel2:r.a.createElement(ot,{isTeacher:"teacher"===(null===a||void 0===a?void 0:a.roll),currentCourse:o,curUser:a}),tab3Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Students":"Announcement",panel3:"teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement(Qe,{currentCourse:o,curUser:a}):r.a.createElement(Je,{currentCourse:o,curUser:a}),tab4Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Announcement":"",panel4:"teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement(Je,{currentCourse:o,curUser:a}):""})):I.push("/coursedetails"))},it=function(e){e.id;var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=(a[0],a[1],Object(b.g)());return Object(n.useEffect)((function(){}),[]),r.a.createElement(E.a,{mx:"auto",px:2,maxHeight:"85vh",sx:{overflowY:"auto"},maxWidth:"900px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},r.a.createElement(E.a,{mt:5,display:"flex",justifyContent:"flex-end",pb:1,px:2,width:"100%"},r.a.createElement(O.a,{variant:"contained",onClick:function(){return c.push("/messages")},size:"small",color:"success",sx:{borderRadius:5}},"Back")),r.a.createElement(E.a,{mt:5,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"flex-start",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h5",color:"green"},"With Teacher !1")),r.a.createElement(E.a,{width:"100%"}))},ut=function(e){var t=e.curUser,a=e.setAuth,c=Object(n.useState)(),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),x=(g[0],g[1],Object(n.useState)("")),O=Object(l.a)(x,2),C=(O[0],O[1],Object(n.useState)("")),j=Object(l.a)(C,2),k=(j[0],j[1],Object(b.g)(),t||{});k._id,k.fname,k.lname;return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(y.severHostedUrl,"/user/myallconversations/").concat(null===t||void 0===t?void 0:t._id));case 3:(a=e.sent)&&i(a.data.allConversations),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement(E.a,{className:"msgs"},r.a.createElement(V,{curUser:t,setAuth:a}),m?r.a.createElement(it,{id:m}):r.a.createElement(E.a,{mx:"auto",px:2,maxHeight:"85vh",sx:{overflowY:"auto"},maxWidth:"900px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},r.a.createElement(E.a,{mt:5,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"flex-start",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h5",color:"green"},"All Conversation")),r.a.createElement(E.a,{width:"100%"},(null===s||void 0===s?void 0:s.length)>0?s.map((function(e,a){var n=(null===t||void 0===t?void 0:t._id)===e.user1ID;return r.a.createElement(E.a,{onClick:function(){return p(e._id)},mt:2,key:a,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},n?e.user2Name[0]:e.user1Name[0])),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px",textTransform:"capitalize"}},n?e.user2Name:e.user1Name))),r.a.createElement(E.a,{mt:1},r.a.createElement(h.a,{sx:{fontSize:"12px"},color:"green"},e.chat.length," Messages")))})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently You Have No Conversation")))))},dt=a(210),mt=["children","auth","SuccessComp","FailComp"],pt=function(e){e.children;var t=e.auth,a=e.SuccessComp,n=e.FailComp,c=Object(dt.a)(e,mt);return r.a.createElement(b.b,Object.assign({},c,{render:function(){return t?a:n}}))},bt=y.severHostedUrl,vt=Object(s.a)(bt,{transports:["websocket"]}),ft=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=localStorage.getItem("uid"),s=Object(P.c)((function(e){return e.usersReducer.curUser})),i=Object(n.useState)(o||s._id),u=Object(l.a)(i,2),m=u[0],p=u[1],v=Object(n.useState)(!0),E=Object(l.a)(v,2),h=E[0],g=E[1],x=Object(P.b)();return Object(n.useEffect)((function(){var e;(a||m||g(!1),m||a)&&(g(!0),c(!0),f.a.get("".concat(y.severHostedUrl,"/user/getdata")).then((function(t){var a=t.data;(e=a.find((function(e){return e._id===o})))?(x(W(e)),"teacher"===e.roll&&f.a.post("".concat(y.severHostedUrl,"/course/mycourse"),{teacher_id:e._id}).then((function(e){var t=e.data.course;x(F(t))})).catch((function(e){return console.log(e)})),"student"===e.roll&&e.atClass&&f.a.post("".concat(y.severHostedUrl,"/course/forstudent"),{studentClass:e.atClass,studentID:o}).then((function(e){var t=e.data.courses;x(function(e){return{type:"GET_Student_COURSES",payload:e}}(t))})).catch((function(e){return console.log(e)})),p(!0),g(!1)):(g(!1),p(!1))})).catch((function(e){return console.log(e)})),vt.on("connect",(function(){})),vt.on("courseADDEDByTeacher",(function(t){var a,n;"student"===(null===(a=e)||void 0===a?void 0:a.roll)&&(null===(n=e)||void 0===n?void 0:n.atClass)==(null===t||void 0===t?void 0:t.teacherClass)&&x({type:"EDIT_AVAILABLE_COURSES",payload:t})})),vt.on("courseEditedByTeacher",(function(t){var a,n;"student"===(null===(a=e)||void 0===a?void 0:a.roll)&&(null===(n=e)||void 0===n?void 0:n.atClass)==(null===t||void 0===t?void 0:t.teacherClass)&&x({type:"UPDATE_COURSES",payload:t})})),vt.on("messageAddedStream",(function(e){x({type:"UPDATE_CURRENT_COURSE",payload:e})})),vt.on("ASSIGNMENT_ADDED",(function(e){x({type:"UPDATE_ALL_ASSIGNMENTS",payload:e})})))}),[a,bt]),h?r.a.createElement(d,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement(b.d,null,r.a.createElement(pt,{auth:a,exact:!0,path:"/",SuccessComp:r.a.createElement(b.a,{to:"/profile",curUser:s,setAuth:c}),FailComp:r.a.createElement(A,{setAuth:c})}),r.a.createElement(pt,{auth:a,path:"/profile",SuccessComp:r.a.createElement(ie,{curUser:s,setAuth:c}),FailComp:r.a.createElement(b.a,{to:"/"})}),r.a.createElement(pt,{auth:a,path:"/attendance",SuccessComp:r.a.createElement(Ee,{curUser:s,setAuth:c}),FailComp:r.a.createElement(b.a,{to:"/"})}),r.a.createElement(pt,{auth:a,path:"/coursedetails",SuccessComp:r.a.createElement(Be,{curUser:s,setAuth:c}),FailComp:r.a.createElement(b.a,{to:"/"})}),r.a.createElement(pt,{auth:a,path:"/messages",SuccessComp:r.a.createElement(ut,{curUser:s,setAuth:c}),FailComp:r.a.createElement(b.a,{to:"/"})}),r.a.createElement(pt,{auth:a,path:"/classmaterials",SuccessComp:r.a.createElement(b.a,{to:"/profile",curUser:s}),FailComp:r.a.createElement(b.a,{to:"/"})}),r.a.createElement(pt,{auth:a,path:"/:id",SuccessComp:r.a.createElement(st,{curUser:s,setAuth:c}),FailComp:r.a.createElement(b.a,{to:"/"})}),r.a.createElement(pt,{auth:a,path:"/*",SuccessComp:r.a.createElement(b.a,{to:"/profile"}),FailComp:r.a.createElement(b.a,{to:"/"})}))))},Et=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,455)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},ht=a(127),gt={users:[],curUser:{},course:{},studentCourse:[],currentCourse:null,currentAssignment:null,allAssignments:null,checkedAssignments:null},xt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USERS":return Object(p.a)(Object(p.a)({},t),{},{users:a.payload});case"CUR_USER":return Object(p.a)(Object(p.a)({},t),{},{curUser:a.payload});case"GET_COURSE":return Object(p.a)(Object(p.a)({},t),{},{course:a.payload});case"GET_Student_COURSES":return Object(p.a)(Object(p.a)({},t),{},{studentCourse:a.payload});case"EDIT_AVAILABLE_COURSES":var n=null===(e=t.studentCourse)||void 0===e?void 0:e.find((function(e){return e._id===a.payload._id}));return n?t:Object(p.a)(Object(p.a)({},t),{},{studentCourse:[].concat(Object(ge.a)(t.studentCourse),[a.payload])});case"UPDATE_COURSES":var r=t.studentCourse.find((function(e){return e._id===a.payload._id}));if(r){r=a.payload;var c=t.studentCourse.filter((function(e){return e._id!==a.payload._id})),o=[].concat(Object(ge.a)(c),[r]);return Object(p.a)(Object(p.a)({},t),{},{studentCourse:o})}return t;case"CURRENT_COURSE":return Object(p.a)(Object(p.a)({},t),{},{currentCourse:a.payload});case"UPDATE_CURRENT_COURSE":return t.currentCourse&&t.currentCourse._id===a.payload._id?Object(p.a)(Object(p.a)({},t),{},{currentCourse:a.payload}):t;case"ALL_ASSIGNMENTS":return Object(p.a)(Object(p.a)({},t),{},{allAssignments:a.payload});case"CURRENT_ASSIGNMENT":return Object(p.a)(Object(p.a)({},t),{},{currentAssignment:a.payload});case"CHECKED_ASSIGNMENTS":return Object(p.a)(Object(p.a)({},t),{},{checkedAssignments:a.payload});case"UPDATE_ALL_ASSIGNMENTS":return t.allAssignments&&t.allAssignments[0].courseID===a.payload[0].courseID?Object(p.a)(Object(p.a)({},t),{},{allAssignments:a.payload}):t;case"LOG_OUT":return gt;default:return t}},Ot=Object(ht.a)({usersReducer:xt}),Ct=Object(ht.b)(Ot,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P.a,{store:Ct},r.a.createElement(ft,null))),document.getElementById("root")),Et()}},[[229,1,2]]]);
//# sourceMappingURL=main.0319ef4b.chunk.js.map