(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{151:function(e,t){e.exports="data:image/jpeg;base64,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"},225:function(e,t,a){},239:function(e,t,a){e.exports=a.p+"static/media/stream.86eba8bd.jpg"},272:function(e,t,a){e.exports=a(412)},277:function(e,t,a){},412:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(63),l=a.n(o),c=(a(277),a(13)),s=a.n(c),i=a(19),u=a(5),d=a(242),m=a(510),p=a(518);var v=function(){return r.a.createElement("div",null,r.a.createElement(m.a,{sx:{color:"green",backgroundColor:"#fff"},open:!0},r.a.createElement(p.a,{color:"inherit"})))},b=a(17),f=a.n(b),h=a(480),E=a(494),x=a(125),g=a(512),C=a(514),O=a(499),S=a(100),y=a(40),w=a(69),A=a(101),k={severHostedUrl:"https://warm-hollows-02372.herokuapp.com"},j=a(501),N=a(497),U=function(e){var t=e.openSnack,a=e.severity,n=e.text,o=e.setOpenSnack,l=function(e,t){"clickaway"!==t&&o("")};return r.a.createElement(j.a,{anchorOrigin:{vertical:"top",horizontal:"success"===a?"center":"right"},open:Boolean(t),autoHideDuration:2500,onClose:l},r.a.createElement(N.a,{onClose:l,variant:"filled",severity:a||"success",sx:{width:"100%"}},n))},I=a(56),L=a(25),R=function(e){return{type:"CUR_USER",payload:e}},T=function(e){return{type:"GET_COURSE",payload:e}},D=function(e){return{type:"GET_Student_COURSES",payload:e}},F=function(e){return{type:"CURRENT_COURSE",payload:e}},z=function(e){return{type:"ALL_ASSIGNMENTS",payload:e}},W=function(e){return{type:"CURRENT_ASSIGNMENT",payload:e}},B=function(e){return{type:"ALL_COURSES",payload:e}},P=a(16),_=function(e){var t=e.setAuth,a=e.setCurUser,o=e.setIsAdmin,l=e.setNowLogin,c=Object(n.useState)(!1),d=Object(u.a)(c,2),m=d[0],p=d[1],v=Object(n.useState)(""),b=Object(u.a)(v,2),j=b[0],N=b[1],T=Object(n.useState)(""),D=Object(u.a)(T,2),F=D[0],z=D[1],W=Object(P.b)(),B=Object(I.a)({initialValues:{email:"",password:""},validationSchema:L.b().shape({email:L.d().email("Does not looks like an email").required("Email is Required."),password:L.d().required("Pasword is Required.").min(8,"password contains at least 8 characters..")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n){var r,c,i,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,f.a.post("".concat(k.severHostedUrl,"/login"),n);case 4:(r=e.sent)&&(c=r.data.token,i=r.data.user,a(i),p(!1),localStorage.setItem("me",JSON.stringify({id:i._id,role:i.roll,atClass:i.atClass,token:c})),i.isAdmin?(W(R(i)),t(!0),o(!0)):(W(R(i)),t(!0)),l(!0)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),p(!1),N(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.error),z("error");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(h.a,{className:"login_main",display:"flex",alignItems:"center",justifyContent:"center"},j?r.a.createElement(U,{openSnack:j,severity:F,text:j,setOpenSnack:N}):"",r.a.createElement(h.a,{textAlign:"center",mx:2},r.a.createElement(g.a,{sx:{width:"120px",height:"120px",backgroundColor:"#2e7d32",zIndex:1,"&:hover":{backgroundColor:"#2e7d32"},borderTop:"1px solid #236826",position:"relative",top:"80px"}},r.a.createElement(S.c,{color:"#fff",size:"100px"})),r.a.createElement(h.a,{sx:{border:"20px solid transparent",maxWidth:{xs:"400px"}},boxShadow:5},r.a.createElement(h.a,{sx:{backgroundColor:"#fff"},boxShadow:5,p:4},r.a.createElement("form",{method:"POST",onSubmit:B.handleSubmit,style:{textAlign:"center"}},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",name:"email",label:"Email",type:"email",variant:"standard",value:B.values.email,onChange:B.handleChange("email"),autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{mt:7},InputProps:{startAdornment:r.a.createElement(C.a,{position:"start"},r.a.createElement(w.a,{size:"20px"}))}}),B.errors.email&&B.touched.email&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",B.errors.email),r.a.createElement(E.a,{margin:"dense",name:"password",label:"Password",type:"password",variant:"standard",value:B.values.password,onChange:B.handleChange("password"),autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{mt:2},InputProps:{startAdornment:r.a.createElement(C.a,{position:"start"},r.a.createElement(A.c,{size:"20px"}))}}),B.errors.password&&B.touched.password&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",B.errors.password),r.a.createElement(O.a,{size:"large",type:"submit",mt:2,variant:"contained",color:"success",fullWidth:!0,loading:m,sx:{py:m?2.7:1,mt:4}},m?"":"Login"))))))},M=a(486),q=a(492),Y=a(505),G=a(504),H=a(520),J=a(485),V=a(521),X=a(243),Q=a(522),Z=a(523),K=a(18);function $(e){var t=e.topicChips,a=e.setTopicChips,o=e.topicErr,l=e.setTopicErr,c=e.editCourse,s=e.course;Object(n.useEffect)((function(){if(c){var e=null===s||void 0===s?void 0:s.topics.map((function(e){return e}));a(e)}}),[]);var i=Object(n.useState)(""),d=Object(u.a)(i,2),m=d[0],p=d[1],v=function(){var e=m.trim();if(e){var n={key:(new Date).getTime().toString(),label:e};a([].concat(Object(K.a)(t),[n])),p(""),l(!1)}else p("")};return r.a.createElement("div",{width:"100%",style:{display:"flex",flexDirection:"column"}},r.a.createElement(E.a,{sx:{mt:2},InputProps:{startAdornment:r.a.createElement("span",null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(Y.a,{key:e.key,sx:{backgroundColor:"#00800030",marginRight:1,marginTop:1},label:e.label.length<22?e.label:"bilal",onDelete:(n=e,function(){a((function(e){return t.filter((function(e){return e.key!==n.key}))}))})});var n})))},disabled:t.length>=10,margin:"dense",name:"topicItems",label:"Topics",type:"text",variant:"outlined",value:m,onChange:function(e){return function(e){p(e.target.value),m.length>=39&&v()}(e)},onKeyPress:function(e){return function(e){"Enter"===e.key&&v()}(e)},autoComplete:"off",color:"success",fullWidth:!0}),o?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Add at least 1 Topic"):"")}var ee=a(37),te=JSON.parse(localStorage.getItem("me")),ae=["1 Week","2 Weeks","3 Weeks","4 Weeks"];function ne(e){var t=e.curUser,a=e.editCourse,o=e.course,l=e.setSeverity,c=e.setOpenSnack,d=Object(n.useState)(!1),m=Object(u.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(null),g=Object(u.a)(b,2),C=g[0],S=g[1],y=Object(n.useState)(null),w=Object(u.a)(y,2),A=w[0],j=w[1],N=Object(n.useState)((null===o||void 0===o?void 0:o.duration)||null),U=Object(u.a)(N,2),R=(U[0],U[1],Object(n.useState)(a?o.duration:"Not Set")),D=Object(u.a)(R,2),F=D[0],z=D[1],W=Object(n.useState)([]),B=Object(u.a)(W,2),_=B[0],M=B[1],Y=Object(n.useState)(null),K=Object(u.a)(Y,2),ne=K[0],re=K[1],oe=Object(n.useState)(null),le=Object(u.a)(oe,2),ce=(le[0],le[1]),se=Object(n.useState)(!0),ie=Object(u.a)(se,2),ue=(ie[0],ie[1],Object(n.useState)(null)),de=Object(u.a)(ue,2),me=(de[0],de[1]),pe=Object(n.useState)([]),ve=Object(u.a)(pe,2),be=(ve[0],ve[1]),fe=Object(P.b)(),he=function(){v(!0)},Ee=function(){v(!1)},xe=function(){S(!1)},ge=Object(I.a)({initialValues:{teacher_id:null===t||void 0===t?void 0:t._id,teacherName:"".concat(null===t||void 0===t?void 0:t.fname," ").concat(null===t||void 0===t?void 0:t.lname),teacherClass:null===t||void 0===t?void 0:t.atClass,courseName:a?null===o||void 0===o?void 0:o.courseName:"",courseDesc:a?null===o||void 0===o?void 0:o.courseDesc:"",topics:null,duration:a?null===o||void 0===o?void 0:o.duration:"",courseOutline:a?null===o||void 0===o?void 0:o.courseOutline:""},validationSchema:L.b().shape({courseName:L.d().required("Course Name is Required Field."),courseDesc:L.d().required("Course Description is Required Field."),duration:L.d().required("Please Select Duration of Your Course"),courseOutline:L.d().required("Course Outline is Required Field.")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r,o,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==_.length){e.next=5;break}re(!0),e.next=21;break;case 5:if(t.topics=_,!a){e.next=14;break}return Ee(),e.next=10,f.a.post("".concat(k.severHostedUrl,"/course/editcourse"),t,{headers:{Authentication:"Bearer ".concat(null===te||void 0===te?void 0:te.token)}});case 10:(r=e.sent)&&(r.data.editted&&(Ia.emit("courseEditted",r.data.editted),fe(T(r.data.editted))),r.data.message&&(c(r.data.message),l("success"))),e.next=21;break;case 14:return j(!0),e.next=17,f.a.post("".concat(k.severHostedUrl,"/course/add"),t,{headers:{Authentication:"Bearer ".concat(null===te||void 0===te?void 0:te.token)}});case 17:(o=e.sent)&&(Ia.emit("newCoursesAdded",o.data.newCourse),fe(T(o.data.newCourse)),o.data.message&&(c(o.data.message),l("success")),n.resetForm()),Ee(),j(!1);case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),c(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(u=i.data)||void 0===u?void 0:u.error),l("error"),Ee();case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t,a){return e.apply(this,arguments)}}()});return Object(n.useEffect)((function(){be(a?null===o||void 0===o?void 0:o.courseOutline:[])}),[]),r.a.createElement("div",null,a?r.a.createElement(q.a,{title:"Edit Course",arrow:!0},r.a.createElement(G.a,{variant:"outlined",color:"success",onClick:he},"Edit Course")):r.a.createElement(q.a,{title:"Add Course",arrow:!0},r.a.createElement(G.a,{size:"small",variant:"contained",color:"success",onClick:he,endIcon:r.a.createElement(ee.i,{size:"20px",color:"#fff"})},"Add Course")),r.a.createElement(H.a,{open:p,onClose:Ee,fullWidth:!0,maxWidth:"sm"},r.a.createElement(J.a,{align:"center",backgroundColor:"white"},a?"Edit Course":"Create Course"),r.a.createElement(V.a,null,r.a.createElement("form",{onSubmit:ge.handleSubmit},r.a.createElement(E.a,{autoFocus:!0,sx:{mt:2},name:"courseName",label:"Course Name",type:"text",variant:"outlined",value:ge.values.courseName,onChange:ge.handleChange("courseName"),autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:64}}),ge.errors.courseName&&ge.touched.courseName&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ge.errors.courseName),r.a.createElement(E.a,{sx:{mt:2},name:"courseDesc",label:"Description",type:"text",variant:"outlined",value:ge.values.courseDesc,onChange:ge.handleChange("courseDesc"),autoComplete:"off",fullWidth:!0,multiline:!0,color:"success",inputProps:{maxLength:200}}),ge.errors.courseDesc&&ge.touched.courseDesc&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ge.errors.courseDesc),r.a.createElement($,{topicChips:_,setTopicChips:M,topicErr:ne,setTopicErr:re,editCourse:a,course:o,style:{display:"flex",background:"orange"}}),r.a.createElement(h.a,{mt:2,width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"},r.a.createElement(x.a,{variant:"subtitle1",color:"darkgreen"},"Select Duration:"),r.a.createElement(G.a,{onClick:function(e){!function(e){me(!1),ce(!1),S(e.currentTarget)}(e),be([])},variant:"outlined",sx:{ml:3},color:"success",endIcon:r.a.createElement(ee.d,null)},r.a.createElement("strong",null,F))),ge.errors.duration&&ge.touched.duration&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ge.errors.duration),r.a.createElement(X.a,{open:Boolean(C),anchorEl:C,onClose:xe},ae.map((function(e,t){return r.a.createElement(Q.a,{key:t,onClick:function(){ge.values.duration=e,z(e),xe()},name:"duration"},e)}))),r.a.createElement(E.a,{sx:{mt:2},name:"courseOutline",label:"Course Outline",type:"text",variant:"outlined",value:ge.values.courseOutline,onChange:ge.handleChange("courseOutline"),autoComplete:"off",fullWidth:!0,multiline:!0,color:"success",inputProps:{maxLength:200}}),ge.errors.courseOutline&&ge.touched.courseOutline&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ge.errors.courseOutline))),r.a.createElement(Z.a,null,r.a.createElement(O.a,{size:"small",type:"submit",color:"success",variant:"contained",onClick:ge.handleSubmit,loading:A,sx:{py:.7,px:2}},a?"Save Edit":"Create Course"),r.a.createElement(G.a,{color:"success",variant:"outlined",onClick:Ee},"Cancel"))))}var re=a(34),oe=function(e){var t=e.title,a=e.value;return r.a.createElement(h.a,{width:"100%",display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},sx:{backgroundColor:"#f6f6f6",boxShadow:1,borderRadius:1,cursor:"pointer","&:hover":{backgroundColor:"#dfdddd"}},py:1,px:3,mt:2},r.a.createElement(x.a,{color:"#000",width:{xs:"100%",sm:"30%"}},t,":"),r.a.createElement(x.a,{color:"darkgreen",width:{xs:"100%",sm:"60%"},variant:"subtitle1",sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",ml:{xs:2,sm:1}}},r.a.createElement("b",null,a)))},le=function(e){var t,a,o=e.currentUser,l=Object(P.c)((function(e){return e.usersReducer.course})),c=Object(n.useState)(""),s=Object(u.a)(c,2),i=s[0],d=s[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),v=p[0],b=p[1],f=Object(re.g)();return Object(n.useEffect)((function(){}),[o,l]),r.a.createElement(h.a,{width:"100%",minHeight:"90vh",sx:{backgroundColor:"#f6f6f6"},display:"flex",justifyContent:"center",alignItems:"flex-start"},i?r.a.createElement(U,{openSnack:i,severity:v,text:i,setOpenSnack:d}):"",Object.values(l).length?r.a.createElement(h.a,{width:{xs:"90%",sm:"600px"},mx:2,mt:4,px:3,pt:"50px",pb:2,sx:{backgroundColor:"#fff",boxShadow:2}},r.a.createElement(x.a,{color:"darkgreen",variant:"h4",mb:1},null===l||void 0===l?void 0:l.courseName),r.a.createElement(M.a,{sx:{mb:2}}),r.a.createElement(oe,{title:"Course Name",value:null===l||void 0===l?void 0:l.courseName}),r.a.createElement(oe,{title:"Course Description",value:null===l||void 0===l?void 0:l.courseDesc}),r.a.createElement(oe,{title:"Topics",value:null===l||void 0===l?void 0:l.topics.map((function(e){return r.a.createElement(q.a,{key:e.key,title:e.label,arrow:!0},r.a.createElement(Y.a,{sx:{ml:1,cursor:"pointer",mb:1,"&:hover":{backgroundColor:"#2e7d32",color:"#fff"}},color:"success",label:e.label.length<22?e.label:"".concat(e.label.substr(0,21),"..."),variant:"outlined"}))}))}),r.a.createElement(oe,{title:"Class",value:null===l||void 0===l?void 0:l.teacherClass}),r.a.createElement(oe,{title:"Duration",value:null===l||void 0===l?void 0:l.duration}),r.a.createElement(oe,{title:"Course Outline",value:null===l||void 0===l?void 0:l.courseOutline}),r.a.createElement(oe,{title:"Students",value:(null===l||void 0===l||null===(t=l.students)||void 0===t?void 0:t.length)>0?l.students.length:"0"}),r.a.createElement(oe,{title:"Assignments",value:(null===l||void 0===l||null===(a=l.assignments)||void 0===a?void 0:a.length)>0?l.assignments.length:"0"}),r.a.createElement(h.a,{width:"100%",mt:2,display:"flex",justifyContent:"flex-end"},r.a.createElement(ne,{curUser:o,editCourse:!0,course:l,setSeverity:b,setOpenSnack:d}),r.a.createElement(G.a,{onClick:function(){return f.push("/".concat(null===l||void 0===l?void 0:l._id))},sx:{ml:2},variant:"contained",color:"success"},"Go to Course"))):r.a.createElement(h.a,{width:{xs:"90%",sm:"600px"},mx:2,mt:4,px:3,pt:"50px",pb:2,sx:{backgroundColor:"#fff",boxShadow:2},display:"flex",justifyContent:{xs:"center",md:"space-between"},flexDirection:{xs:"column",md:"row"},alignItems:"center"},r.a.createElement(x.a,{variant:"h6",color:"darkgreen",textAlign:"center",sx:{mb:2}},"Currently You Have No Course."),r.a.createElement(ne,{curUser:o,editCourse:!1,course:l,setSeverity:b,setOpenSnack:d})))},ce=a(503),se=a(524),ie=a(506),ue=a(525),de=a(507),me=a(526),pe=a(102),ve=JSON.parse(localStorage.getItem("me"));var be=function(e){var t,a=e.curElem,o=e.curUser,l=e.setOpenSnack,c=e.setSeverity,d=Object(n.useState)(!1),m=Object(u.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),g=E[0],C=E[1],O=o.fname,S=o.lname,y=a._id,w=a.courseDesc,A=a.courseName,j=a.courseOutline,N=a.duration,U=a.topics,I=null===o||void 0===o?void 0:o._id,L=Object(P.b)(),T=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={student_name:"".concat(O," ").concat(S),courseName:A,course_id:y,student_id:I},e.next=4,f.a.post("".concat(k.severHostedUrl,"/course/applynow"),a,{headers:{Authentication:"Bearer ".concat(null===ve||void 0===ve?void 0:ve.token)}});case 4:(n=e.sent)&&n.data.message&&(Ia.emit("changeInCourse",n.data.course),C(!0),L(R(n.data.student)),l(n.data.message),c("success")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),l(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error),c("error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2}},g?"":r.a.createElement(ce.a,{expanded:"panel1"===p,onChange:(t="panel1",function(e,a){v(!!a&&t)}),sx:{marginTop:1,boxShadow:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(se.a,{expandIcon:r.a.createElement(ee.f,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(h.a,{display:"flex",justifyContent:"flex-start",alignItems:"center"},r.a.createElement(h.a,{minWidth:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},A[0])),r.a.createElement(x.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},A))),r.a.createElement(ue.a,null,r.a.createElement(de.a,{container:!0},r.a.createElement(de.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},A),r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},w),r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(h.a,{ml:4},null===U||void 0===U?void 0:U.map((function(e,t){return r.a.createElement(Y.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},N)),r.a.createElement(de.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Course Outline:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},j)))),r.a.createElement(me.a,null,r.a.createElement(q.a,{title:"Enroll Now",arrow:!0},r.a.createElement(G.a,{variant:"contained",color:"success",onClick:function(e){return T(e)}},r.a.createElement(pe.c,{color:"white",size:"22px"}))))))},fe=function(e){var t=e.curUser,a=Object(P.c)((function(e){return e.usersReducer.studentCourse})),o=Object(n.useState)(""),l=Object(u.a)(o,2),c=l[0],s=l[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){}),[a]),r.a.createElement(h.a,{width:"100%"},c?r.a.createElement(U,{openSnack:c,severity:m,text:c,setOpenSnack:s}):"",r.a.createElement(h.a,{maxWidth:"900px",m:"32px auto 16px"},r.a.createElement(x.a,{variant:"h4",color:"darkgreen",mb:2},"Available Courses"),r.a.createElement(M.a,null),(null===a||void 0===a?void 0:a.length)>0?null===a||void 0===a?void 0:a.map((function(e,a){return r.a.createElement(be,{setOpenSnack:s,setSeverity:p,key:a,curElem:e,curUser:t})})):r.a.createElement(h.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"green"},"Currently No Course Available..."))))},he=a(65),Ee=JSON.parse(localStorage.getItem("me")),xe=function(e){var t,a=e.curCor,o=(e.ind,Object(n.useState)(!1)),l=Object(u.a)(o,2),c=l[0],d=l[1],m=Object(n.useState)({}),p=Object(u.a)(m,2),v=p[0],b=p[1],E=Object(n.useState)([]),g=Object(u.a)(E,2),C=g[0],O=g[1],S=Object(re.g)(),y=v.courseName,w=v.courseDesc,A=v.topics,j=v.duration,N=v.courseOutline,U=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=null===C||void 0===C?void 0:C.find((function(e){return e._id===a.id})))){e.next=6;break}b(t),e.next=11;break;case 6:return e.next=8,f.a.post("".concat(k.severHostedUrl,"/course/getcourse"),{id:a.id},{headers:{Authentication:"Bearer ".concat(null===Ee||void 0===Ee?void 0:Ee.token)}});case 8:n=e.sent,b(n.data.DBcourse),O([].concat(Object(K.a)(C),[n.data.DBcourse]));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2,width:"100%"}},r.a.createElement(ce.a,{width:"100%",expanded:"panel1"===c,onClick:U,onChange:(t="panel1",function(e,a){d(!!a&&t)}),sx:{marginTop:1,boxShadow:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(se.a,{expandIcon:r.a.createElement(ee.f,{onClick:U}),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(h.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(h.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1},r.a.createElement(h.a,{minWidth:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===a||void 0===a?void 0:a.name[0])),r.a.createElement(x.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},null===a||void 0===a?void 0:a.name)),r.a.createElement(q.a,{title:"Preview"},r.a.createElement(G.a,{color:"success",onClick:function(e){return S.push("/".concat(null===a||void 0===a?void 0:a.id))}}," ",r.a.createElement(he.a,{color:"black",size:"22px"}))))),r.a.createElement(ue.a,null,r.a.createElement(de.a,{container:!0,display:"flex"},r.a.createElement(de.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},y),r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},w),r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(h.a,{ml:4},null===A||void 0===A?void 0:A.map((function(e,t){return r.a.createElement(Y.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},j)),r.a.createElement(de.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(x.a,{color:"black",variant:"subtitle2"},"Course Outline:"),r.a.createElement(x.a,{color:"green",ml:5,variant:"body2"},N))))))},ge=JSON.parse(localStorage.getItem("me")),Ce=function(e){var t,a=e.curUser,o=Object(P.c)((function(e){return e.usersReducer.studentCourse})),l=Object(n.useState)(!0),c=Object(u.a)(l,2),d=c[0],m=c[1],p=Object(n.useState)(""),v=Object(u.a)(p,2),b=v[0],E=v[1],g=Object(n.useState)(""),C=Object(u.a)(g,2),O=C[0],S=(C[1],function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.filter((function(e){return!0===e.removedByTeacher})))){e.next=6;break}return e.next=5,f.a.post("".concat(k.severHostedUrl,"/course/delcoursefromstudent"),{id:null===a||void 0===a?void 0:a._id},{headers:{Authentication:"Bearer ".concat(null===ge||void 0===ge?void 0:ge.token)}});case 5:setTimeout((function(){m(!1)}),6e4);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){S()}),[o]),r.a.createElement(h.a,{width:"100%"},b?r.a.createElement(U,{openSnack:b,severity:O,text:b,setOpenSnack:E}):"",r.a.createElement(h.a,{maxWidth:"900px",m:"32px auto 16px"},r.a.createElement(x.a,{variant:"h4",color:"darkgreen",mb:2},"Enrolled Courses"),r.a.createElement(M.a,null),(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.length)>0?null===a||void 0===a?void 0:a.courses.map((function(e,t){return e.removedByTeacher&&d?r.a.createElement(h.a,{key:t,width:"100%",textAlign:"center",mt:1,py:2,sx:{borderRadius:1,backgroundColor:"#ff0000d1","&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(x.a,{variant:"body1",color:"white"},'You Were Removed from "',e.name,'"')):r.a.createElement(xe,{curCor:e,key:t,ind:t})})):r.a.createElement(h.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"green"},"Currently Not Enrolled In Any Course..."))))},Oe=JSON.parse(localStorage.getItem("me")),Se=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),c=Object(u.a)(l,2),d=c[0],m=c[1],p=Object(n.useState)(""),v=Object(u.a)(p,2),b=v[0],g=v[1],C=Object(I.a)({initialValues:{id:null===Oe||void 0===Oe?void 0:Oe.id,oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:L.b().shape({oldPassword:L.d().required("Old Pasword is Required.").min(8,"Old password contains at least 8 characters.."),newPassword:L.d().min(8,"New password contains at least 8 characters..").when("oldPassword",(function(e,t){return e?t.required("New Pasword is Required."):t})),confirmPassword:L.d().when("newPassword",(function(e,t){return e?t.required("Confirm Pasword is Required.").oneOf([L.c("newPassword")]):t}))}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,f.a.post("".concat(k.severHostedUrl,"/user/changepassword"),t,{headers:{Authentication:"Bearer ".concat(null===Oe||void 0===Oe?void 0:Oe.token)}});case 4:(n=e.sent)&&(a.resetForm(),o(!1),m(n.data.message),g("success")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),o(!1),m(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.error),g("error");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()});return r.a.createElement(h.a,{width:"100%",minHeight:"100vh",sx:{backgroundColor:"#f6f6f6"},display:"flex",justifyContent:"center",alignItems:"flex-start"},r.a.createElement(h.a,{width:{xs:"90%",sm:"500px"},mx:2,mt:4,px:3,py:"50px",sx:{backgroundColor:"#fff",boxShadow:2}},d?r.a.createElement(U,{openSnack:d,severity:b,text:d,setOpenSnack:m}):"",r.a.createElement("form",{onSubmit:C.handleSubmit,style:{width:"100%"}},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",name:"oldPassword",label:"Old Password",type:"password",variant:"outlined",value:C.values.oldPassword,onChange:C.handleChange("oldPassword"),autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{mt:2}}),C.errors.oldPassword&&C.touched.oldPassword&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",C.errors.oldPassword),r.a.createElement(E.a,{margin:"dense",name:"newPassword",label:"New Password",type:"password",variant:"outlined",value:C.values.newPassword,onChange:C.handleChange("newPassword"),autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{mt:2}}),C.errors.newPassword&&C.touched.newPassword&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",C.errors.newPassword),r.a.createElement(E.a,{margin:"dense",name:"confirmPassword",label:"Confirm Password",type:"password",variant:"outlined",value:C.values.confirmPassword,onChange:C.handleChange("confirmPassword"),autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{mt:2}}),C.errors.confirmPassword&&C.touched.confirmPassword&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.d,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",C.errors.confirmPassword),r.a.createElement(O.a,{size:"large",type:"submit",mt:2,variant:"contained",color:"success",fullWidth:!0,loading:a,sx:{py:a?2.7:1,mt:4}},a?"":"Change Password"))))},ye=JSON.parse(localStorage.getItem("me"));var we=function(e){var t=e.curUser,a=e.setCurUser,o=Object(n.useState)(!1),l=Object(u.a)(o,2),c=l[0],d=l[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),v=p[0],b=p[1],x=Object(n.useState)(""),g=Object(u.a)(x,2),C=g[0],S=g[1],y=Object(P.b)(),w=Object(I.a)({initialValues:{id:null===t||void 0===t?void 0:t._id,fname:null===t||void 0===t?void 0:t.fname,lname:null===t||void 0===t?void 0:t.lname,fatherName:null===t||void 0===t?void 0:t.fatherName,age:null===t||void 0===t?void 0:t.age,phone:null===t||void 0===t?void 0:t.phone},validateOnChange:!0,validationSchema:L.b().shape({fname:L.d().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter First Name"),lname:L.d().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter Last Name"),fatherName:L.d().max(24,"Plese Enter a Name less then 24 Characters").required("Please Enter Your Father's Name"),age:L.a().required("It is not a good habit to hide your age.").positive("That doesn't look like a human's age.").integer("Don't use decimal point").min(10,"You are not egligible for this school, you are a baby,").max(199,"A noble human cannot live so long"),phone:L.a().typeError("That doesn't look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").min(3e9,"It doesn't looks like a phone number").max(3499999999,"It doesn't looks like a phone number").required("A phone number is required")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,f.a.post("".concat(k.severHostedUrl,"/user/edit-profile"),t,{headers:{Authentication:"Bearer ".concat(null===ye||void 0===ye?void 0:ye.token)}});case 4:(n=e.sent)&&(d(!1),a(n.data.updated),y(R(n.data.updated)),b(n.data.message),S("success")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),b(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error),S("error"),d(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(h.a,{width:"100%",minHeight:"90vh",sx:{backgroundColor:"#f6f6f6"},display:"flex",justifyContent:"center",alignItems:"flex-start"},v?r.a.createElement(U,{openSnack:v,severity:C,text:v,setOpenSnack:b}):"",r.a.createElement(h.a,{width:{xs:"90%",sm:"600px"},mx:2,mt:4,px:3,py:"50px",sx:{backgroundColor:"#fff",boxShadow:2}},r.a.createElement("form",{onSubmit:w.handleSubmit},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",name:"fname",label:"First Name",type:"text",variant:"outlined",value:w.values.fname,onChange:w.handleChange("fname"),autoComplete:"off",fullWidth:!0,color:"success"}),w.errors.fname&&w.touched.fname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},w.errors.fname),r.a.createElement(E.a,{margin:"dense",name:"lname",label:"Last Name",type:"text",variant:"outlined",value:w.values.lname,onChange:w.handleChange("lname"),autoComplete:"off",fullWidth:!0,color:"success"}),w.errors.lname&&w.touched.lname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},w.errors.lname),r.a.createElement(E.a,{margin:"dense",name:"fatherName",label:"Son of",type:"text",variant:"outlined",value:w.values.fatherName,onChange:w.handleChange("fatherName"),autoComplete:"off",fullWidth:!0,color:"success"}),w.errors.fatherName&&w.touched.fatherName&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},w.errors.fatherName),r.a.createElement(E.a,{margin:"dense",name:"age",label:"Age",type:"number",variant:"outlined",value:w.values.age,onChange:w.handleChange("age"),autoComplete:"off",fullWidth:!0,color:"success"}),w.errors.age&&w.touched.age&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},w.errors.age),r.a.createElement(q.a,{title:"Enter Phone Number Escaped 0",arrow:!0},r.a.createElement(E.a,{margin:"dense",name:"phone",label:"Contact No...",type:"number",variant:"outlined",value:w.values.phone,onChange:w.handleChange("phone"),autoComplete:"off",fullWidth:!0,color:"success"})),w.errors.phone&&w.touched.phone&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},w.errors.phone),r.a.createElement(O.a,{size:"large",type:"submit",mt:2,variant:"contained",color:"success",fullWidth:!0,loading:c,sx:{py:c?2.7:1,mt:4}},c?"":"Save Changes"))))},Ae=a(515),ke=a(489),je=a(508),Ne=a(513),Ue=a(500),Ie=a(487),Le=a(488),Re=a(516),Te=a(502),De=a(151),Fe=a.n(De),ze=a(238),We={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",borderRadius:1,boxShadow:24,px:2,py:4,minWidth:300,maxWidth:400,maxHeight:500,overflowY:"auto"};function Be(e){var t=e.curUser,a=e.setRecieverID,o=e.setRecieverName,l=e.setConversationID,c=e.allConversationsArray,s=Object(P.c)((function(e){return e.usersReducer.users})),i=Object(n.useState)(!1),d=Object(u.a)(i,2),m=d[0],p=d[1],v=Object(n.useState)([]),b=Object(u.a)(v,2),f=b[0],E=b[1],g=function(){return p(!1)};return Object(n.useEffect)((function(){var e=[];c.map((function(a){return e.push((null===t||void 0===t?void 0:t._id)===a.user1ID?a.user2ID:a.user1ID)}));var a=null===s||void 0===s?void 0:s.filter((function(t){return!e.includes(t._id)}));E(a)}),[m]),r.a.createElement("div",null,r.a.createElement(G.a,{onClick:function(){return p(!0)},fullWidth:!0,startIcon:r.a.createElement(ze.a,{color:"#fff"}),sx:{color:"#fff",backgroundColor:"darkgreen","&:hover":{backgroundColor:"#014201"},borderRadius:1,boxShadow:5,py:1.5}},"Conversation"),r.a.createElement(Te.a,{open:m,onClose:g,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},r.a.createElement(h.a,{sx:We},(null===f||void 0===f?void 0:f.length)>0?null===f||void 0===f?void 0:f.map((function(e,t){return r.a.createElement(h.a,{key:t,display:"flex",justifyContent:"space-around",alignItems:"center",py:1,mb:1,border:"3px solid #033c030d",boxShadow:4,borderRadius:1,sx:{cursor:"pointer","&:hover":{backgroundColor:"#00640021"}},onClick:function(){a(e._id),o("".concat(e.fname," ").concat(e.lname)),l(""),g()}},r.a.createElement(ie.a,{alt:e.fname,src:e.dp?e.dp:Fe.a,sx:{border:"1px solid #014201"}}),r.a.createElement(x.a,{variant:"subtitle1",color:"darkgreen"},r.a.createElement("b",null,"".concat(e.fname," ").concat(e.lname))),r.a.createElement(x.a,{variant:"subtitle1",color:"darkgreen"},e.roll))})):r.a.createElement(x.a,{variant:"h6",color:"black",sx:{m:"0 auto"}},"Currently No Users"))))}var Pe=a(4),_e=function(e){var t=e.userName,a=e.autoFocus,n=e.placeholder,o=e.value,l=e.setValue,c=e.name,s=e.color,i=e.submitFunc,u=e.type;return r.a.createElement(h.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:1,marginBottom:2,justifySelf:"flex-end",padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(h.a,{width:"100%"},r.a.createElement(h.a,{display:"flex",justifyContent:"center"},r.a.createElement(h.a,{width:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},t)),r.a.createElement(h.a,{flexGrow:1},r.a.createElement("form",{onSubmit:function(e){return i(e)}},r.a.createElement(E.a,{autoFocus:a,name:c,type:u,placeholder:n,value:o,onChange:function(e){return l(e.target.value)},autoComplete:"off",fullWidth:!0,multiline:!0,color:s,InputProps:{endAdornment:r.a.createElement(he.b,{onClick:function(e){return i(e)},size:"26px",color:"green",style:{margin:"auto 1 0 0",cursor:"pointer"}})}}))))))};var Me=function(){return r.a.createElement("div",null,r.a.createElement(h.a,{sx:{color:"green",backgroundColor:"#fff",width:"100%",height:"100%"},open:!0},r.a.createElement(p.a,{color:"inherit"})))},qe=a(45),Ye=a.n(qe),Ge=JSON.parse(localStorage.getItem("me")),He=function(e){var t=e.bgColor,a=e.textColor,n=e.position,o=e.time,l=e.message;return r.a.createElement(h.a,{mb:1,sx:{display:"flex",justifyContent:n}},r.a.createElement(h.a,null,r.a.createElement(h.a,{maxWidth:"350px",width:"fit-content",border:"1px solid darkgreen",borderRadius:.4,mb:.5,p:"8px 16px",sx:{backgroundColor:t,color:a,alignSelf:n}},l),r.a.createElement("span",{style:{fontSize:"12px"}},o)))},Je=function(e){var t=e.curUser,a=e.id,o=e.allConversationsArray,l=e.recieverID,c=e.recieverName,d=Object(P.c)((function(e){return e.usersReducer.currentConversation})),m=Object(n.useState)({}),p=Object(u.a)(m,2),v=p[0],b=p[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),C=g[0],O=g[1],S=Object(n.useState)(""),y=Object(u.a)(S,2),w=y[0],A=y[1],j=Object(n.useState)(""),N=Object(u.a)(j,2),I=N[0],L=N[1],R=Object(n.useState)(!0),T=Object(u.a)(R,2),D=T[0],F=T[1],z=Object(P.b)(),W=t||{},B=W._id,_=W.fname,M=W.lname,q=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=I.trim())){e.next=12;break}return n="".concat(_," ").concat(M),r=Ye()().format("hh:mm:ss A"),o={senderID:B,senderName:n,time:r,message:t,recieverID:l,recieverName:c,_id:a||null},e.next=8,f.a.post("".concat(k.severHostedUrl,"/user/sendmsg"),o,{headers:{Authentication:"Bearer ".concat(null===Ge||void 0===Ge?void 0:Ge.token)}});case 8:(i=e.sent)&&(i.data.message?(b(i.data.conversation),Ia.emit("changeInConversation",i.data.conversation),O(i.data.message),A("success")):(O(i.data.error),A("error")),L("")),e.next=14;break;case 12:O("write something"),A("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.find((function(e){return e._id===a}));z({type:"CURRENT_CONVERSATION",payload:e}),b(e),F(!1)}),[a]),Object(n.useEffect)((function(){b(d)}),[d,o]),r.a.createElement(h.a,Object(Pe.a)({mx:"auto",sx:{overflowY:"auto",boxShadow:3},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",mt:1},"sx",{backgroundColor:"#fff"}),C?r.a.createElement(U,{openSnack:C,severity:w,text:C,setOpenSnack:O}):"",r.a.createElement(h.a,{width:"100%",display:"flex",flexDirection:"column",minHeight:"85vh",px:1.5},r.a.createElement(h.a,{width:"100%",flexGrow:1,pt:1,display:"flex",flexDirection:"column"},D?r.a.createElement(Me,null):(null===v||void 0===v?void 0:v.chat.length)>0?null===v||void 0===v?void 0:v.chat.map((function(e,a){return r.a.createElement(He,{key:a,bgColor:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"darkgreen":"#fff",textColor:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"#fff":"darkgreen",position:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"flex-end":"flex-start",message:e.message,time:e.time})})):r.a.createElement(h.a,{pt:5,width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"subtitle1",color:"darkgreen"},"Currently No Chats"))),r.a.createElement(_e,{name:"message",autoFocus:!0,value:I,setValue:L,type:"text",placeholder:"Write ...",color:"success",submitFunc:q,userName:null===t||void 0===t?void 0:t.fname[0]})))},Ve=JSON.parse(localStorage.getItem("me"));var Xe=function(e){var t,a=Object(P.c)((function(e){return e.usersReducer.allConversations})),o=Object(re.h)().search,l=Object(n.useState)(!1),c=Object(u.a)(l,2),d=c[0],m=c[1],p=e.window,v=Object(n.useState)(a),b=Object(u.a)(v,2),E=b[0],C=b[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),w=S[0],A=S[1],j=Object(n.useState)(""),N=Object(u.a)(j,2),U=N[0],I=N[1],L=Object(n.useState)(null),R=Object(u.a)(L,2),T=R[0],D=R[1],F=Object(P.b)(),z=function(){m(!d)};Object(n.useEffect)((function(){C(a)}),[a]),Object(n.useEffect)(Object(i.a)(s.a.mark((function t(){var a,n,r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("".concat(k.severHostedUrl,"/user/myallconversations/").concat(null===(a=e.curUser)||void 0===a?void 0:a._id),{headers:{Authentication:"Bearer ".concat(null===Ve||void 0===Ve?void 0:Ve.token)}});case 3:(n=t.sent)&&(F({type:"ALL_CONVERSATIONS",payload:n.data.allConversations}),C(n.data.allConversations)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:o&&(r=o.split("?"),l=r[2].split("_"),r&&I(r[1]),l&&D("".concat(l[0]," ").concat(l[1])));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]);var W=r.a.createElement("div",{style:{padding:"8px"}},(null===(t=e.curUser)||void 0===t?void 0:t.isAdmin)?r.a.createElement(Be,{setRecieverID:I,setRecieverName:D,setConversationID:A,allConversationsArray:E,curUser:e.curUser}):"",r.a.createElement(Ne.a,{sx:{textTransform:"capitalize",py:0,mt:2}},(null===E||void 0===E?void 0:E.length)>0?E.map((function(t,a){var n,o;return r.a.createElement(Ue.a,{button:!0,key:a,sx:{mb:1,boxShadow:3,borderRadius:2,border:"3px solid #00640021","&:hover":{backgroundColor:"#0064001a"}},onClick:function(){var a,n;A(t._id),D((null===(a=e.curUser)||void 0===a?void 0:a._id)===(null===t||void 0===t?void 0:t.user1ID)?null===t||void 0===t?void 0:t.user2Name:null===t||void 0===t?void 0:t.user1Name),I((null===(n=e.curUser)||void 0===n?void 0:n._id)===(null===t||void 0===t?void 0:t.user1ID)?null===t||void 0===t?void 0:t.user2ID:null===t||void 0===t?void 0:t.user1ID)}},r.a.createElement(Ie.a,null,r.a.createElement(ie.a,{sx:{backgroundColor:"darkgreen",width:"32px",height:"32px"}},t.user1ID===(null===(n=e.curUser)||void 0===n?void 0:n._id)?t.user2Name[0]:t.user1Name[0]," ")),r.a.createElement(Le.a,{primary:t.user1ID===(null===(o=e.curUser)||void 0===o?void 0:o._id)?t.user2Name:t.user1Name}))})):r.a.createElement(Ue.a,{sx:{textAlign:"center",mt:3,color:"#014201",fontWeight:"bold"}},r.a.createElement(Le.a,{primary:"No Conversations"}))),r.a.createElement(M.a,null)),B=void 0!==p?function(){return p().document.body}:void 0;return r.a.createElement(h.a,null,r.a.createElement(ke.a,null),r.a.createElement(M.a,null),r.a.createElement(Ae.a,{color:"inherit",position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)"),md:"calc(100% - ".concat(480,"px)")},mt:{xs:"48px",sm:"64px"}}},r.a.createElement(Re.a,null,r.a.createElement(g.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:z,sx:{mr:2,display:{md:"none"}}},r.a.createElement(y.a,{size:"22px",color:"darkgreen"})),r.a.createElement(x.a,{variant:"h6",noWrap:!0,component:"div"},T?r.a.createElement("span",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(ie.a,{sx:{backgroundColor:"#014201",mr:3,textTransform:"capitalize"}},T[0]),r.a.createElement("span",{style:{color:"#014201",fontWeight:"bold",textTransform:"capitalize"}},T)):""))),r.a.createElement(h.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders"},r.a.createElement(je.a,{container:B,variant:"temporary",open:d,onClose:z,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,mt:"0px"}}},W),r.a.createElement(je.a,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,ml:"240px",mt:"64px"}},open:!0},W)),r.a.createElement(h.a,{component:"main",sx:{flexGrow:1,mt:{xs:"32px",sm:"64px"},ml:{xs:0,md:"240px"},display:"flex",justifyContent:"center",alignItems:"center",minHeight:"85vh",backgroundColor:"#00000012"}},U?r.a.createElement(Je,{id:w,allConversationsArray:E,recieverID:U,recieverName:T,curUser:e.curUser}):r.a.createElement(x.a,{variant:"h6",color:"#014201",textAlign:"center"},r.a.createElement(he.c,{color:"green",size:"72px"}),r.a.createElement("br",null),(null===E||void 0===E?void 0:E.length)>0?"Select Conversation To Start Chating":"Add Conversation And Start Chating")))},Qe=a(493),Ze=a(495),Ke=a(527);function $e(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement(h.a,{width:"100%",sx:{marginX:"auto",padding:"5px"}},a===n&&r.a.createElement(h.a,null," ",t," "))}var et=function(e){var t=e.tab1Label,a=e.tab2Label,o=e.tab3Label,l=e.tab4Label,c=e.panel1,s=e.panel2,i=e.panel3,d=e.panel4,m=Object(n.useState)(0),p=Object(u.a)(m,2),v=p[0],b=p[1];return r.a.createElement(h.a,null,r.a.createElement(h.a,{sx:{borderBottom:1,borderColor:"divider"}},r.a.createElement(Ze.a,{value:v,onChange:function(e,t){b(t)},textColor:"inherit",scrollButtons:"auto",variant:"scrollable",TabIndicatorProps:{sx:{backgroundColor:"green",height:"5px"}}},r.a.createElement(Ke.a,{label:t}),r.a.createElement(Ke.a,{label:a}),o?r.a.createElement(Ke.a,{label:o}):"",l?r.a.createElement(Ke.a,{label:l}):"")),r.a.createElement($e,{value:v,index:0},c),r.a.createElement($e,{value:v,index:1},s),i?r.a.createElement($e,{value:v,index:2},i):"",d?r.a.createElement($e,{value:v,index:3},d):"")},tt=a(239),at=a.n(tt),nt=function(e){var t=e.color,a=e.timeColor,n=e.nameFirestLetter,o=e.name,l=e.time,c=e.message;return r.a.createElement(h.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:3,padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(h.a,{width:"100%"},r.a.createElement(h.a,{display:"flex",justifyContent:"center"},r.a.createElement(h.a,{width:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:t,textTransform:"capitalize"}},n)),r.a.createElement(h.a,{flexGrow:1},r.a.createElement(x.a,{variant:"subtitle1",color:t,sx:{textTransform:"capitalize"}},r.a.createElement("b",null,o)),r.a.createElement(x.a,{variant:"body2",color:a}," ",l)))),r.a.createElement(h.a,{width:"100%",mt:2,sx:{wordWrap:"break-word",paddingLeft:5}},r.a.createElement(x.a,{variant:"subtitle2"},c)))},rt=JSON.parse(localStorage.getItem("me")),ot=function(e){var t,a=e.curUser,o=e.currentCourse,l=e.isAdmin,c=Object(n.useState)(""),d=Object(u.a)(c,2),m=d[0],p=d[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),g=E[0],C=E[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),y=S[0],w=S[1],A=Object(n.useState)(""),j=Object(u.a)(A,2),N=j[0],I=j[1],L=Object(P.b)();Object(n.useEffect)((function(){if(o&&a){var e,t=null===o||void 0===o||null===(e=o.students)||void 0===e?void 0:e.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)}));(null===t||void 0===t?void 0:t.muted)?C(!0):C(!1)}}));var R=a||{},T=R._id,D=R.fname,z=R.lname,W=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=m.trim())){e.next=12;break}return n="".concat(D," ").concat(z),r=Ye()().format("hh:mm A"),l={id:T,name:n,time:r,message:a,courseID:null===o||void 0===o?void 0:o._id},e.next=8,f.a.post("".concat(k.severHostedUrl,"/course/sendmessage"),l,{headers:{Authentication:"Bearer ".concat(null===rt||void 0===rt?void 0:rt.token)}});case 8:(c=e.sent)&&(p(""),c.data.message?(Ia.emit("msgSentInStream",c.data.course),L(F(c.data.course)),w(c.data.message),I("success")):(w(c.data.error),I("error"))),e.next=14;break;case 12:w("Please write something"),I("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(h.a,{maxWidth:"1100px",display:"flex",flexDirection:"column",justifyContent:"center",sx:{marginX:"auto"}},y?r.a.createElement(U,{openSnack:y,severity:N,text:y,setOpenSnack:w}):"",r.a.createElement(h.a,{sx:{width:"100%",height:"240px",borderRadius:"10px",marginTop:3}},r.a.createElement("img",{src:at.a,width:"100%",height:"100%",style:{borderRadius:"10px"},alt:"BackGround Image"})),null===o||void 0===o||null===(t=o.chat)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(nt,{color:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"green":"#ba000d",timeColor:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"#2e7d32de":"#ba000db8",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})),l?"":g?r.a.createElement(h.a,{mt:3,border:"1px solid red",borderRadius:2,width:"100%",py:3,textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"red"},"You Can't send Message Because You're Muted...")):r.a.createElement(_e,{name:"message",autoFocus:!0,value:m,setValue:p,placeholder:"Add comment to All Students",color:"success",submitFunc:W,userName:null===a||void 0===a?void 0:a.fname[0]})):r.a.createElement(v,null)},lt=JSON.parse(localStorage.getItem("me")),ct=function(e){var t=e.currentCourse,a=e.curUser,o=Object(n.useState)(null),l=Object(u.a)(o,2),c=l[0],d=l[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),v=p[0],b=p[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),C=g[0],O=g[1],S=Object(n.useState)(""),y=Object(u.a)(S,2),w=y[0],A=y[1],j=Object(n.useState)(""),N=Object(u.a)(j,2),I=N[0],L=N[1],R=function(){b(!v)},T=a||{},D=T._id,F=T.fname,z=T.lname,W=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r,o,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=C.trim())){e.next=12;break}return r="".concat(F," ").concat(z),o=Ye()().format("hh:mm A"),l={id:D,name:r,time:o,message:n,courseID:null===t||void 0===t?void 0:t._id},e.next=8,f.a.post("".concat(k.severHostedUrl,"/course/announcement"),l,{headers:{Authentication:"Bearer ".concat(null===lt||void 0===lt?void 0:lt.token)}});case 8:(c=e.sent)&&(O(""),R(),c.data.message?(A(c.data.message),L("success"),Ia.emit("changeInCourse",c.data.course),d(c.data.course.announcement)):(A(c.data.error),L("error"))),e.next=14;break;case 12:A("Write something"),L("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d(null===t||void 0===t?void 0:t.announcement)}),[t]),r.a.createElement(h.a,{maxWidth:"1100px",minHeight:"77vh",display:"flex",flexDirection:"column",sx:{marginX:"auto"}},w?r.a.createElement(U,{openSnack:w,severity:I,text:w,setOpenSnack:A}):"","teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement("div",null,v?r.a.createElement(_e,{name:"announce",autoFocus:!0,value:C,setValue:O,type:"text",placeholder:"Write Announcement",color:"success",submitFunc:W,userName:null===a||void 0===a?void 0:a.fname[0]}):"",r.a.createElement(h.a,{onClick:R,sx:{width:"100%","&:hover":{color:"green",cursor:"pointer"},borderRadius:"12px",backgroundColor:"#00710012",padding:"1rem 1.5rem",boxShadow:4}},r.a.createElement(h.a,{width:"100%"},r.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(h.a,{width:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},"r")),r.a.createElement(h.a,{flexGrow:1},r.a.createElement(x.a,{color:"#0000009c",sx:{fontSize:"14px","&:hover":{color:"green",cursor:"pointer",textDecoration:"underline"}}},"Announce Something to Your Students")),r.a.createElement(h.a,null,r.a.createElement(G.a,{sx:{borderRadius:5},size:"small"},r.a.createElement(pe.a,{size:"23px"}))))))):r.a.createElement(h.a,{borderBottom:"1px solid #00800059",display:"flex",justifyContent:"flex-start",pb:2,px:2,width:"100%"},r.a.createElement(x.a,{variant:"h4",color:"green"},"Announcements")),null===c||void 0===c?void 0:c.map((function(e,t){return r.a.createElement(nt,{color:"green",timeColor:"#2e7d32de",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})))},st=a(71),it=JSON.parse(localStorage.getItem("me")),ut=function(e){var t,a,o=e.currentCourse,l=(e.curUser,e.isAdmin,Object(n.useState)(null===o||void 0===o?void 0:o.students)),c=Object(u.a)(l,2),d=c[0],m=c[1],p=Object(n.useState)(null),v=Object(u.a)(p,2),b=v[0],E=v[1],g=Object(n.useState)(""),C=Object(u.a)(g,2),O=C[0],S=C[1],y=Object(n.useState)(""),w=Object(u.a)(y,2),A=w[0],j=w[1],N=Boolean(b),I=Object(re.g)(),L=function(e){E(e.currentTarget)},R=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={studentID:t,courseID:null===o||void 0===o?void 0:o._id},e.next=4,f.a.post("".concat(k.severHostedUrl,"/course/delspecificstudent"),a,{headers:{Authentication:"Bearer ".concat(null===it||void 0===it?void 0:it.token)}});case 4:(n=e.sent)&&(n.data.message?(Ia.emit("changeInCourse",n.data.course),m(n.data.course.students),S(n.data.message),j("success")):(S(n.data.error),j("error"))),D(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),D();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(),e.next=4,f.a.post("".concat(k.severHostedUrl,"/course/mutestudent"),{courseID:null===o||void 0===o?void 0:o._id,studentID:t},{headers:{Authentication:"Bearer ".concat(null===it||void 0===it?void 0:it.token)}});case 4:(a=e.sent)&&(Ia.emit("changeInCourse",a.data.course),m(a.data.course.students),a.data.message?(S(a.data.message),j("success")):(S(a.data.error),j("error"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),D();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){E(null)};return r.a.createElement(h.a,null,r.a.createElement(h.a,{sx:{maxWidth:"760px",margin:"0 auto"}},O?r.a.createElement(U,{openSnack:O,severity:A,text:O,setOpenSnack:S}):"",r.a.createElement(h.a,{display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(x.a,{variant:"h4",color:"green"},"Students"),r.a.createElement(x.a,{variant:"body1",mt:3,color:"green"},(null===o||void 0===o||null===(t=o.students)||void 0===t?void 0:t.length)>0?d.length:"No"," students")),(null===o||void 0===o||null===(a=o.students)||void 0===a?void 0:a.length)>0?d.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(h.a,Object(Pe.a)({p:"10px 20px",mt:1,width:"85%",display:"flex",justifyContent:"space-between",sx:{borderRadius:"10px","&:hover":{backgroundColor:"#009c0026",boxShadow:3,cursor:"pointer"}}},"width","100%"),r.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(h.a,{minWidth:"65px"},r.a.createElement(ie.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},e.name[0])),r.a.createElement(h.a,null,r.a.createElement(x.a,{sx:{fontSize:"16px"}},e.name))),r.a.createElement(G.a,{id:"basic-button",sx:{color:"black",borderRadius:5},"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":N?"true":void 0,onClick:L,size:"small"},r.a.createElement(st.c,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(X.a,{id:"basic-menu",anchorEl:b,open:N,onClose:D,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(Q.a,{onClick:function(){I.push("/inbox?".concat(e.id,"?").concat(e.name.split(" ")[0],"_").concat(e.name.split(" ")[1])),D()}},"Send Message to ",null===e||void 0===e?void 0:e.name),r.a.createElement(Q.a,{onClick:function(){return R(e.id)}},"Remove"),r.a.createElement(Q.a,{onClick:function(){return T(e.id)}},e.muted?"Unmute":"Mute"))))})):r.a.createElement(h.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"green"},"Currently No Students..."))))},dt=JSON.parse(localStorage.getItem("me")),mt=function(e){var t=e.currentCourse,a=e.btnTitle,o=e.tooltipTitle,l=e.curUser,c=e.btnIcon,d=e.dialogTitle,m=e.actionTitle,p=e.isTeacher,v=e.btnStartIcon,b=e.btnColor,g=e.btnVariant,C=e.currentAssignment,S=e.input2label,y=e.setOpenSnack,w=e.setSeverity,A=e.setAllAssignments,j=Object(n.useState)(!1),N=Object(u.a)(j,2),U=N[0],R=N[1],T=Object(n.useState)(null),D=Object(u.a)(T,2),F=D[0],W=D[1],B=Object(n.useState)(null),_=Object(u.a)(B,2),M=_[0],Y=_[1],X=function(){R(!1)},Q=Object(P.b)(),K=Object(I.a)({initialValues:{title:p?"":null===C||void 0===C?void 0:C.title,desc:""},validationSchema:L.b().shape({title:L.d().required("Title is Required Field...")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(a,n){var r,o,c,i,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F||a.desc){e.next=6;break}y("You cannot leave both files and description blank at the same time"),w("error"),e.next=29;break;case 6:if(r=new FormData,!a.desc&&F?r.append("myFile",F):!F&&a.desc?r.append("desc",a.desc):(r.append("desc",a.desc),r.append("myFile",F)),o={headers:{"content-type":"multipart/form-data"}},!p){e.next=19;break}return Y(!0),r.append("title",a.title),r.append("courseID",null===t||void 0===t?void 0:t._id),e.next=15,f.a.post("".concat(k.severHostedUrl,"/assignment/add"),r,{headers:{Authentication:"Bearer ".concat(null===dt||void 0===dt?void 0:dt.token)}},o);case 15:(c=e.sent)&&(X(),W(null),n.resetForm(),c.data.message&&(A(c.data.allAssignment),Ia.emit("assignmentAdd",c.data.allAssignment),Q(z(c.data.allAssignment)),y(c.data.message),w("success")),Y(!1)),e.next=29;break;case 19:return Y(!0),r.append("assignmentID",null===C||void 0===C?void 0:C._id),r.append("id","".concat(null===l||void 0===l?void 0:l._id)),r.append("name","".concat(null===l||void 0===l?void 0:l.fname," ").concat(null===l||void 0===l?void 0:l.lname)),r.append("time",Ye()().format("hh:mm:ss A")),console.log("asdf"),e.next=27,f.a.post("".concat(k.severHostedUrl,"/assignment/submit"),r,{headers:{Authentication:"Bearer ".concat(null===dt||void 0===dt?void 0:dt.token)}},o);case 27:(i=e.sent)&&(X(),W(null),n.resetForm(),Ia.emit("changeInAssignment",i.data.assignment),y(i.data.message),w("success"),Y(!1));case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),y(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.error),w("error"),X();case 36:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(t,a){return e.apply(this,arguments)}}()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{title:o,arrow:!0},r.a.createElement(G.a,{startIcon:v,onClick:function(){R(!0)},color:b,sx:{marginTop:p?3:0,borderRadius:5},variant:g},a||c)),r.a.createElement(H.a,{open:U,onClose:X,fullWidth:!0,maxWidth:"sm",onClick:function(e){return e.stopPropagation()}},r.a.createElement(J.a,null,d),r.a.createElement(V.a,null,r.a.createElement("form",{method:"POST",onSubmit:K.handleSubmit},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",variant:"filled",value:p?K.values.title:null===C||void 0===C?void 0:C.title,onChange:K.handleChange("title"),autoComplete:"off",disabled:!p,fullWidth:!0,color:"success",inputProps:{maxLength:32,required:!0}}),K.errors.title&&K.touched.title&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},K.errors.title),r.a.createElement(E.a,{margin:"dense",name:"desc",label:S,type:"text",variant:"filled",value:K.values.desc,onChange:K.handleChange("desc"),autoComplete:"off",fullWidth:!0,color:"success",multiline:!0,minRows:2,inputProps:{maxLength:500}}),r.a.createElement(h.a,{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},r.a.createElement(h.a,{border:"1px solid rgba(0, 0, 0, 0.09)",px:"14px",mt:1,py:"7px",flexGrow:1},r.a.createElement(x.a,{variant:"subtitle1"},F?F.name:"No File Selected")),r.a.createElement(q.a,{title:"Attech File",arrow:!0},r.a.createElement(G.a,{component:"label",sx:{borderRadius:5}},r.a.createElement(pe.b,{size:"20px",color:"white"}),r.a.createElement("input",{type:"file",onChange:function(e){return function(e){var t=e.target.files[0];t&&(t.size/1024/1024>10?(y("file Size is too long"),w("error")):W(t))}(e)},accept:".zip,.txt,.psd,.pptx,.pptx,.png,.jpeg,.jpg,.pdf,.docx,.doc",hidden:!0})))))),r.a.createElement(Z.a,null,r.a.createElement(O.a,{onClick:function(e){e.stopPropagation(),K.handleSubmit()},variant:"contained",color:"success",loading:M},m),r.a.createElement(G.a,{onClick:X,color:"success",variant:"outlined"},"cancel"))))},pt=function(e){var t,a=e.curUser,o=e.isTeacher,l=e.isAdmin,c=e.assignment,s=e.setCurrentAssignmentID,i=e.setChecked,d=e.setOpenSnack,m=e.setSeverity,p=Object(n.useState)(!1),v=Object(u.a)(p,2),b=v[0],f=v[1],E=Object(n.useState)(null),g=Object(u.a)(E,2),C=g[0],O=g[1],S=Boolean(C),y=function(e){O(null)};return r.a.createElement("div",null,r.a.createElement(ce.a,{expanded:"panel1"===b,onChange:(t="panel1",function(e,a){f(!!a&&t)}),sx:{marginTop:1,boxShadow:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(se.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(h.a,{minWidth:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},r.a.createElement(ee.b,{size:"20px",color:"white"}))),r.a.createElement(h.a,null,r.a.createElement(x.a,{sx:{fontSize:"16px"}},null===c||void 0===c?void 0:c.title))),r.a.createElement(h.a,{display:"flex",alignItems:"center"},(null===c||void 0===c?void 0:c.file)?r.a.createElement(q.a,{arrow:!0,title:"View file"},r.a.createElement(G.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===c||void 0===c?void 0:c.file},r.a.createElement(he.a,{size:"23px",style:{margin:"auto 0px"}}))):"",o||l?r.a.createElement(h.a,null,r.a.createElement(G.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:function(e){e.stopPropagation(),O(e.currentTarget)}},r.a.createElement(ee.g,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(X.a,{id:"basic-menu",anchorEl:C,open:S,onClose:y,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(Q.a,{onClick:function(e){e.stopPropagation(),s(null===c||void 0===c?void 0:c._id),i(!1),y()}},"Non-checked Students"),r.a.createElement(Q.a,{onClick:function(e){e.stopPropagation(),s(null===c||void 0===c?void 0:c._id),i(!0),y()}},"Submitted & Checked Students"))):r.a.createElement(mt,{btnIcon:r.a.createElement(ee.i,{size:"23px",style:{margin:"auto 0px"}}),btnVariant:"text",btnColor:"success",tooltipTitle:"Submit Assignment",input2label:"Answers",currentAssignment:c,dialogTitle:"Submit Assignment",actionTitle:"submit",curUser:a,isTeacher:o,setOpenSnack:d,setSeverity:m}))),r.a.createElement(ue.a,null,r.a.createElement(x.a,null," ",(null===c||void 0===c?void 0:c.description)?c.description:"This Assignment have no desccription"))))},vt=function(e){var t=e.submitted;return r.a.createElement(h.a,{width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(h.a,{width:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===t||void 0===t?void 0:t.name[0])),r.a.createElement(h.a,{flexGrow:1},r.a.createElement(x.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===t||void 0===t?void 0:t.name)),r.a.createElement(x.a,{mr:2,variant:"body1"},Math.round(null===t||void 0===t?void 0:t.marks)," Marks")))},bt=a(61),ft=JSON.parse(localStorage.getItem("me")),ht=function(e){var t,a=e.submitted,o=e.assignmentID,l=(e.checked,e.setOpenSnack),c=e.setSeverity,d=e.isAdmin,m=Object(P.c)((function(e){return e.usersReducer.curUser})),p=Object(n.useState)(!1),v=Object(u.a)(p,2),b=v[0],E=v[1],g=Object(n.useState)(!1),C=Object(u.a)(g,2),O=C[0],S=C[1],y=Object(n.useState)(Number(0)),w=Object(u.a)(y,2),A=w[0],j=w[1],N=Object(n.useState)(!1),U=Object(u.a)(N,2),I=U[0],L=U[1],R=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A&&A>=0&&A<=100)){e.next=13;break}return e.prev=1,e.next=4,f.a.post("".concat(k.severHostedUrl,"/assignment/givemarks"),{studentID:null===a||void 0===a?void 0:a.id,assignmentID:o,marks:A},{headers:{Authentication:"Bearer ".concat(null===ft||void 0===ft?void 0:ft.token)}});case 4:(n=e.sent)&&(Ia.emit("changeInAssignment",n.data.assignment),S(!0),n.data.message?(l(n.data.message),c("success")):(l(n.data.error),c("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=15;break;case 13:l("Failed to Giving Marks..."),c("error");case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.a,null,O?"":r.a.createElement(h.a,null,r.a.createElement(ce.a,{expanded:"panel1"===I,onChange:(t="panel1",function(e,a){L(!!a&&t)}),sx:{backgroundColor:"#00800012",borderRadius:1,marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(se.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(h.a,{minWidth:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===a||void 0===a?void 0:a.name[0])),r.a.createElement(h.a,null,r.a.createElement(x.a,{sx:{fontSize:"16px"}},null===a||void 0===a?void 0:a.name))),r.a.createElement(h.a,{display:"flex",alignItems:"center"},(null===a||void 0===a?void 0:a.file)?r.a.createElement(q.a,{arrow:!0,title:"View file"},r.a.createElement(G.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===a||void 0===a?void 0:a.file},r.a.createElement(he.a,{size:"23px",style:{margin:"auto 0px"}}))):"",d?"":r.a.createElement(h.a,null,r.a.createElement(q.a,{title:"Give Marks"},r.a.createElement(G.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button",onClick:function(e){e.stopPropagation(),E(!b)}},r.a.createElement(bt.c,{size:"23px",style:{margin:"auto 0px"}})))))),r.a.createElement(ue.a,null,r.a.createElement(x.a,null,null===a||void 0===a?void 0:a.desc))),r.a.createElement(h.a,{mx:1,onClick:function(e){e.stopPropagation()}},b?r.a.createElement(_e,{name:"marks",autoFocus:!0,value:A,setValue:j,type:"number",placeholder:"Give Marks Out of 100",color:"success",submitFunc:R,userName:null===m||void 0===m?void 0:m.fname[0]}):"")))},Et=JSON.parse(localStorage.getItem("me")),xt=function(e){var t,a,o,l=e.currentAssignmentID,c=e.checked,d=e.isAdmin,m=Object(P.c)((function(e){return e.usersReducer.currentAssignment})),p=Object(n.useState)(m),v=Object(u.a)(p,2),b=v[0],E=v[1],g=Object(n.useState)(""),C=Object(u.a)(g,2),O=C[0],y=C[1],w=Object(n.useState)(""),A=Object(u.a)(w,2),j=A[0],N=A[1],I=Object(P.b)(),L=Object(re.g)();return Object(n.useEffect)((function(){Ia.on("CHANGE_IN_ASSIGNMENT",(function(e){(null===m||void 0===m?void 0:m._id)===e._id&&(E(e),I(W(e)))}))})),Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(k.severHostedUrl,"/assignment/submitted/").concat(l),{headers:{Authentication:"Bearer ".concat(null===Et||void 0===Et?void 0:Et.token)}});case 2:(t=e.sent)&&(I(W(t.data.assignment)),E(t.data.assignment));case 4:case"end":return e.stop()}}),e)}))),[]),r.a.createElement(h.a,null,O?r.a.createElement(U,{openSnack:O,severity:j,text:O,setOpenSnack:y}):"",r.a.createElement(h.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(q.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(G.a,{onClick:function(){return L.push("/coursedetails")},startIcon:r.a.createElement(S.b,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(h.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(x.a,{variant:"h4",color:"green"},c?"Checked ":"Submitted "," Students"),r.a.createElement(x.a,{variant:"body1",mt:2,color:"green"},"(",null===b||void 0===b?void 0:b.title,")")),c?null===b||void 0===b||null===(t=b.submitted)||void 0===t?void 0:t.map((function(e,t){return e.marks?r.a.createElement(vt,{key:t,submitted:e}):""})):(null===b||void 0===b||null===(a=b.submitted)||void 0===a?void 0:a.length)>0?null===b||void 0===b||null===(o=b.submitted)||void 0===o?void 0:o.map((function(e,t){return e.marks?"":r.a.createElement(ht,{checked:c,isAdmin:d,key:t,submitted:e,assignmentID:null===b||void 0===b?void 0:b._id,setOpenSnack:y,setSeverity:N})})):r.a.createElement(h.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"green"},"Currently No Student Submit this Assignment")))},gt=JSON.parse(localStorage.getItem("me")),Ct=function(e){var t=e.currentCourseID,a=Object(P.c)((function(e){return e.usersReducer.curUser})),o=Object(n.useState)(null),l=Object(u.a)(o,2),c=l[0],d=l[1],m=Object(P.b)();return Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(k.severHostedUrl,"/assignment/studentallchecked"),{courseID:t,studentID:null===a||void 0===a?void 0:a._id},{headers:{Authentication:"Bearer ".concat(null===gt||void 0===gt?void 0:gt.token)}});case 3:(n=e.sent)&&(d(n.data.checked),m({type:"CHECKED_ASSIGNMENTS",payload:n.data.checked})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(h.a,{Box:!0,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(x.a,{variant:"h4",color:"green"},"All Checked Assignments"),r.a.createElement(x.a,{variant:"body1",mt:2,color:"green"},"(Assignment Name)"))),(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.map((function(e,t){var n=e.submitted.find((function(e){return e.id===a._id})),o=null===n||void 0===n?void 0:n.marks;return r.a.createElement(h.a,{key:t,width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(h.a,{width:"65px"},r.a.createElement(ie.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===e||void 0===e?void 0:e.title[0])),r.a.createElement(h.a,{flexGrow:1},r.a.createElement(x.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===e||void 0===e?void 0:e.title)),r.a.createElement(x.a,{mr:2,variant:"body1"},o,"Marks")))})):r.a.createElement(h.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"green"},"No Assignment Checked")))},Ot=JSON.parse(localStorage.getItem("me")),St=function(e){var t=e.curUser,a=e.isTeacher,o=e.currentCourse,l=e.isAdmin,c=Object(P.c)((function(e){return e.usersReducer.allAssignments})),d=Object(n.useState)(c),m=Object(u.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(""),E=Object(u.a)(b,2),g=E[0],C=E[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),y=S[0],w=S[1],A=Object(n.useState)(null),j=Object(u.a)(A,2),N=j[0],I=j[1],L=Object(n.useState)(""),R=Object(u.a)(L,2),T=R[0],D=R[1],F=Object(n.useState)(""),W=Object(u.a)(F,2),B=W[0],_=W[1],M=Object(P.b)();return Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(k.severHostedUrl,"/assignment/allassignments"),{courseID:null===o||void 0===o?void 0:o._id},{headers:{Authentication:"Bearer ".concat(null===Ot||void 0===Ot?void 0:Ot.token)}});case 3:(t=e.sent)&&(M(z(t.data.allAssignments)),v(t.data.allAssignments)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement(h.a,{sx:{maxWidth:"760px",margin:"0 auto"}},T?r.a.createElement(U,{openSnack:T,severity:B,text:T,setOpenSnack:D}):"",g&&a||g&&l?r.a.createElement(xt,{checked:N,isAdmin:l,currentAssignmentID:g}):a||l||!y?r.a.createElement(h.a,null,r.a.createElement(h.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},a?r.a.createElement(mt,{btnTitle:"create",btnVariant:"contained",btnColor:"success",input2label:"Questions and Instructions",tooltipTitle:"Create Assignment",btnStartIcon:r.a.createElement(ee.a,{size:"20px",color:"white"}),dialogTitle:"Create Assignment or Questions",actionTitle:"create",currentCourse:o,isTeacher:a,setOpenSnack:D,setSeverity:_,setAllAssignments:v}):l?"":r.a.createElement(q.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(G.a,{onClick:function(){return w(null===o||void 0===o?void 0:o._id)},color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Checked"))),r.a.createElement(h.a,{display:"flex",justifyContent:"flex-start",mb:2,pb:3,px:2,width:"100%",borderBottom:"1px solid #009c0052"},r.a.createElement(x.a,{variant:"h4",color:"green"},a||l?"":"Non Submitted ","Assignments")),(null===p||void 0===p?void 0:p.length)>0?null===p||void 0===p?void 0:p.map((function(e,n){if(!(null===e||void 0===e?void 0:e.submitted.find((function(e){return e.id===t._id}))))return r.a.createElement(pt,{key:n,curUser:t,isTeacher:a,isAdmin:l,assignment:e,setCurrentAssignmentID:C,setChecked:I,setOpenSnack:D,setSeverity:_})})):r.a.createElement(h.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(x.a,{variant:"h6",color:"green"},"Currently No Assignments"))):r.a.createElement(Ct,{currentCourseID:y}))},yt=JSON.parse(localStorage.getItem("me")),wt=Object(Qe.a)({class_materials:{width:"100%",height:"100%"}}),At=function(e){var t,a=e.curUser,o=Object(P.c)((function(e){return e.usersReducer.currentCourse})),l=Object(n.useState)(""),c=Object(u.a)(l,2),d=c[0],m=c[1],p=Object(n.useState)(""),b=Object(u.a)(p,2),E=b[0],x=(b[1],Object(n.useState)(null)),g=Object(u.a)(x,2),C=g[0],O=g[1],S=Object(n.useState)(!0),y=Object(u.a)(S,2),w=y[0],A=y[1],j=Object(n.useState)(!!(null===a||void 0===a?void 0:a.isAdmin)),N=Object(u.a)(j,2),I=N[0],L=(N[1],null===o||void 0===o||null===(t=o.students)||void 0===t?void 0:t.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)}))),R=wt(),T=Object(re.i)(),D=Object(re.g)(),z=Object(P.b)();return Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(k.severHostedUrl,"/course/specific"),{id:T.id},{headers:{Authentication:"Bearer ".concat(null===yt||void 0===yt?void 0:yt.token)}});case 3:(t=e.sent).data.currentCourse?(z(F(t.data.currentCourse)),O(!0),A(!1)):(O(!1),A(!1),D.push("/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(n.useEffect)((function(){Ia.on("CHANGE_IN_COURSE",(function(e){(null===o||void 0===o?void 0:o._id)===e._id&&z(F(e))}))}),[]),w?r.a.createElement(v,null):r.a.createElement(h.a,{className:R.class_materials},C&&("student"===(null===a||void 0===a?void 0:a.roll)&&L||"teacher"===(null===a||void 0===a?void 0:a.roll)&&(null===o||void 0===o?void 0:o.teacher_id)===(null===a||void 0===a?void 0:a._id)||(null===a||void 0===a?void 0:a.isAdmin))?r.a.createElement(h.a,null,d?r.a.createElement(U,{openSnack:d,severity:E,text:d,setOpenSnack:m}):"",r.a.createElement(et,{tab1Label:"Stream",panel1:r.a.createElement(ot,{currentCourse:o,curUser:a,isAdmin:I}),tab2Label:"teacher"===(null===a||void 0===a?void 0:a.roll)||I?"Class Work":"Assignments",panel2:r.a.createElement(St,{isTeacher:"teacher"===(null===a||void 0===a?void 0:a.roll),isAdmin:I,currentCourse:o,curUser:a}),tab3Label:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?"Students":"Announcement",panel3:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?r.a.createElement(ut,{currentCourse:o,isAdmin:I,curUser:a}):r.a.createElement(ct,{currentCourse:o,curUser:a}),tab4Label:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?"Announcement":"",panel4:"teacher"===(null===a||void 0===a?void 0:a.roll)||(null===a||void 0===a?void 0:a.isAdmin)?r.a.createElement(ct,{currentCourse:o,curUser:a}):""})):D.push("/coursedetails"))},kt=a(32),jt=(a(225),a(244)),Nt=["children","auth","SuccessComp","FailComp","isAdmin","AdminComp"],Ut=function(e){e.children;var t=e.auth,a=e.SuccessComp,n=e.FailComp,o=e.isAdmin,l=e.AdminComp,c=Object(jt.a)(e,Nt);return r.a.createElement(re.b,Object.assign({},c,{render:function(){return t&&o?l:t&&!o?a:n}}))},It=a(121),Lt=a(240),Rt=[{label:"dashboard",icon:r.a.createElement(ee.e,{color:"#fff",size:"24px"})},{label:"users",icon:r.a.createElement(w.c,{color:"#fff",size:"24px"})},{label:"classes",icon:r.a.createElement(It.a,{color:"#fff",size:"24px"})},{label:"courses",icon:r.a.createElement(bt.b,{color:"#fff",size:"24px"})}],Tt=[{label:"dashboard",icon:r.a.createElement(ee.e,{color:"#fff",size:"24px"})},{label:"courses",icon:r.a.createElement(bt.b,{color:"#fff",size:"24px"})}],Dt=[{label:"dashboard",icon:r.a.createElement(ee.e,{color:"#fff",size:"24px"})},{label:"courses",icon:r.a.createElement(It.a,{color:"#fff",size:"24px"}),disabled:!0},{label:"availables",icon:r.a.createElement(bt.b,{color:"#fff",size:"24px"})},{label:"enrolled",icon:r.a.createElement(ee.c,{color:"#fff",size:"24px"})}],Ft=[{label:"inbox",icon:r.a.createElement(st.a,{color:"#fff",size:"24px"})},{label:"blocked",icon:r.a.createElement(bt.a,{color:"#fff",size:"24px"})}],zt=[{label:"inbox",icon:r.a.createElement(st.a,{color:"#fff",size:"24px"})}],Wt=[{label:"inbox",icon:r.a.createElement(st.a,{color:"#fff",size:"24px"})}],Bt=[{label:"change password",url:"changepassword",icon:r.a.createElement(ee.h,{color:"#fff",size:"24px"})}],Pt=[{label:"edit profile",url:"editprofile",icon:r.a.createElement(w.b,{color:"#fff",size:"24px"})},{label:"change password",url:"changepassword",icon:r.a.createElement(ee.h,{color:"#fff",size:"24px"})}];var _t=function(e){var t,a,o,l,c,s,i,d,m,p,v,b,f,E=e.window,C=Object(n.useState)(!1),O=Object(u.a)(C,2),S=O[0],y=O[1],w=Object(n.useState)(null===(t=e.Component)||void 0===t?void 0:t.key),A=Object(u.a)(w,2),k=A[0],j=A[1],N=Object(n.useState)((null===(a=e.curUser)||void 0===a?void 0:a.isAdmin)?Rt:"teacher"===(null===(o=e.curUser)||void 0===o?void 0:o.roll)?Tt:"student"===(null===(l=e.curUser)||void 0===l?void 0:l.roll)?Dt:[]),U=Object(u.a)(N,2),I=U[0],L=(U[1],Object(n.useState)((null===(c=e.curUser)||void 0===c?void 0:c.isAdmin)?Ft:"teacher"===(null===(s=e.curUser)||void 0===s?void 0:s.roll)?zt:"student"===(null===(i=e.curUser)||void 0===i?void 0:i.roll)?Wt:[])),R=Object(u.a)(L,2),T=R[0],D=(R[1],Object(n.useState)((null===(d=e.curUser)||void 0===d?void 0:d.isAdmin)?Bt:"teacher"===(null===(m=e.curUser)||void 0===m?void 0:m.roll)||"student"===(null===(p=e.curUser)||void 0===p?void 0:p.roll)?Pt:[])),F=Object(u.a)(D,2),z=F[0],W=(F[1],Object(P.b)()),B=function(){y(!S)},_=Object(re.g)();Object(n.useEffect)((function(){var t;j(null===(t=e.Component)||void 0===t?void 0:t.key)}));var q=r.a.createElement("div",null,r.a.createElement(Re.a,{sx:{textAlign:"center"}},r.a.createElement(x.a,{variant:"h6",color:"#fff",sx:{cursor:"pointer"}},"School App")),r.a.createElement(Ne.a,{sx:{color:"#fff",textTransform:"capitalize",py:0,px:1}},I.map((function(e,t){return r.a.createElement(Ue.a,{button:!0,key:t,disabled:!!e.disabled&&e.disabled,component:kt.b,to:"".concat(e.label),onClick:function(){return y(!1)},sx:{borderRadius:1.5,mb:1,backgroundColor:e.label===k?"darkgreen":"",boxShadow:e.label===k?5:0,"&:hover":{backgroundColor:"darkgreen"}}},r.a.createElement(Ie.a,null,e.icon),r.a.createElement(Le.a,{primary:e.label}))}))),r.a.createElement(Ne.a,{sx:{color:"#fff",textTransform:"capitalize",p:1}},T.map((function(e,t){return r.a.createElement(Ue.a,{button:!0,key:t,component:kt.b,to:"".concat(e.label),onClick:function(){j(e.label),y(!1)},sx:{borderRadius:1.5,mb:1,backgroundColor:e.label===k?"darkgreen":"",boxShadow:e.label===k?5:0,"&:hover":{backgroundColor:"darkgreen"}}},r.a.createElement(Ie.a,null,e.icon),r.a.createElement(Le.a,{primary:e.label}))}))),r.a.createElement(M.a,{sx:{backgroundColor:"white"}}),r.a.createElement(Ne.a,{sx:{color:"#fff",textTransform:"capitalize",p:1}},r.a.createElement(Ue.a,{button:!0,disabled:!0,sx:{borderRadius:1.5,mb:1}},r.a.createElement(Ie.a,null,r.a.createElement(st.e,{color:"#fff",size:"24px"})),r.a.createElement(Le.a,{primary:"Settings"})),z.map((function(e,t){return r.a.createElement(Ue.a,{button:!0,key:t,component:kt.b,to:"".concat(e.url),onClick:function(){j(e.label),y(!1)},sx:{borderRadius:1.5,mb:1,backgroundColor:e.label===k?"darkgreen":"",boxShadow:e.label===k?5:0,"&:hover":{backgroundColor:"darkgreen"}}},r.a.createElement(Ie.a,null,e.icon),r.a.createElement(Le.a,{primary:e.label}))})))),Y=void 0!==E?function(){return E().document.body}:void 0;return r.a.createElement(h.a,{sx:{display:"flex"}},r.a.createElement(ke.a,null),r.a.createElement(Ae.a,{color:"success",position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")}}},r.a.createElement(Re.a,null,r.a.createElement(g.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:B,sx:{mr:2,display:{sm:"none"}}},r.a.createElement(st.b,{size:"22px",color:"white"})),r.a.createElement(x.a,{variant:"h6",flexGrow:1,noWrap:!0,component:"div"},r.a.createElement("strong",null,(null===(v=e.curUser)||void 0===v?void 0:v.isAdmin)?"Admin ":"teacher"===(null===(b=e.curUser)||void 0===b?void 0:b.roll)?"Teacher ":"student"===(null===(f=e.curUser)||void 0===f?void 0:f.roll)?"Student ":"","Dashboard")),r.a.createElement(g.a,{color:"inherit",onClick:function(){localStorage.clear();W({type:"LOG_OUT"}),e.setNowLogin(!1),e.setIsAdmin(!1),e.setAuth(!1),_.push("/")}},r.a.createElement(Lt.a,{size:"24px",color:"white"})))),r.a.createElement(h.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders"},r.a.createElement(je.a,{container:Y,variant:"temporary",color:"success",open:S,onClose:B,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,backgroundColor:"#2e7d32"}}},q),r.a.createElement(je.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,backgroundColor:"#2e7d32"}},open:!0},q)),r.a.createElement(h.a,{component:"main",sx:{flexGrow:1,mt:"40px",width:{sm:"calc(100% - ".concat(240,"px)")}}},e.Component))},Mt=function(e){var t,a=e.currentUser,o=Object(P.c)((function(e){return e.usersReducer.allCourses})),l=Object(P.c)((function(e){return e.usersReducer.users})),c=null===l||void 0===l?void 0:l.filter((function(e){return!0===e.blocked}));return Object(n.useEffect)((function(){}),[o,l]),r.a.createElement(h.a,{minWidth:"400px",minHeight:"100vh",px:2,sx:{backgroundColor:"#185c1817"}},r.a.createElement(h.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap"},r.a.createElement(h.a,{component:kt.b,to:"/users",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(w.c,{size:"72px",color:"darkgreen"}),r.a.createElement(x.a,{variant:"h5",mt:1.5,color:"darkgreen"},"Users (",(null===l||void 0===l?void 0:l.length)>0?l.length:"0",")")),r.a.createElement(h.a,{component:kt.b,to:"/classes",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(It.a,{size:"72px",color:"darkgreen"}),r.a.createElement(x.a,{variant:"h5",mt:1.5,color:"darkgreen"},"Classes (",(null===a||void 0===a||null===(t=a.classes)||void 0===t?void 0:t.length)?a.classes.length:"0",")"))),r.a.createElement(h.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap"},r.a.createElement(h.a,{component:kt.b,to:"/courses",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(bt.b,{size:"72px",color:"darkgreen"}),r.a.createElement(x.a,{variant:"h5",mt:1.5,color:"darkgreen"},"Courses (",(null===o||void 0===o?void 0:o.length)>0?o.length:0,")")),r.a.createElement(h.a,{component:kt.b,to:"/blocked",width:"400px",mt:"70px",p:3,textAlign:"center",sx:{boxShadow:3,borderRadius:"2px",textDecoration:"none","&:hover":{cursor:"pointer",boxShadow:2}}},r.a.createElement(w.d,{size:"72px",color:"red"}),r.a.createElement(x.a,{variant:"h5",mt:1.5,color:"red"},"Blocked (",(null===c||void 0===c?void 0:c.length)>0?c.length:0,")"))))},qt=a(7),Yt=a(530),Gt=a(532),Ht=a(490),Jt=a(182),Vt=a(529),Xt=a(531),Qt=a(528),Zt=a(519),Kt=a(491),$t=JSON.parse(localStorage.getItem("me")),ea=Object(qt.a)(Ht.a)((function(e){var t,a=e.theme;return t={},Object(Pe.a)(t,"&.".concat(Jt.a.head),{backgroundColor:"#014201",color:a.palette.common.white}),Object(Pe.a)(t,"&.".concat(Jt.a.body),{fontSize:14}),t})),ta=Object(qt.a)(Qt.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function aa(e){var t=e.tableBody,a=(e.curUser,Object(n.useState)("")),o=Object(u.a)(a,2),l=o[0],c=o[1],d=Object(n.useState)(""),m=Object(u.a)(d,2),p=m[0],v=m[1],b=function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(k.severHostedUrl,"/user/block/").concat(a),{headers:{Authentication:"Bearer ".concat(null===$t||void 0===$t?void 0:$t.token)}});case 3:(n=e.sent)&&(Ia.emit("changeInUser",n.data.user),c(n.data.message),v("success")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),c(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error),v("error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(Kt.a,null,r.a.createElement(Vt.a,{component:Zt.a},l?r.a.createElement(U,{openSnack:l,severity:p,text:l,setOpenSnack:c}):"",r.a.createElement(Yt.a,{size:"small",sx:{maxWidth:{sm:"calc(100% - ".concat(272,"px)"),xs:"100%"},position:"absolute",cursor:"pointer",overflowX:"scroll",border:"1px solid #014201"},"aria-label":"customized table"},r.a.createElement(Xt.a,null,r.a.createElement(Qt.a,null,r.a.createElement(ea,{sx:{width:"5%"}},"Sr. No."),r.a.createElement(ea,{sx:{width:"15%"}},"Full Name"),r.a.createElement(ea,{align:"left",sx:{width:"5%"}},"Age"),r.a.createElement(ea,{align:"left",sx:{width:"15%"}},"Son of"),r.a.createElement(ea,{align:"left",sx:{width:"10%"}},"Class"),r.a.createElement(ea,{align:"center",colSpan:3,sx:{width:"50%"}},"Actions"))),r.a.createElement(Gt.a,null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(ta,{key:t},r.a.createElement(ea,null,t+1,"."),r.a.createElement(ea,null,"".concat(e.fname," ").concat(e.lname)),r.a.createElement(ea,{align:"left"},e.age?e.age:"-"),r.a.createElement(ea,{align:"left"},e.fatherName?e.fatherName:"-"),r.a.createElement(ea,{align:"left"},e.atClass),r.a.createElement(ea,{align:"center"},r.a.createElement(q.a,{title:"View ".concat(e.fname," ").concat(e.lname),arrow:!0},r.a.createElement(g.a,{component:kt.b,to:"/user?".concat(e._id)},r.a.createElement(A.b,{color:"#014201",size:"22px"})))),r.a.createElement(ea,{align:"center"},r.a.createElement(q.a,{title:"Message to ".concat(e.fname," ").concat(e.lname),arrow:!0},r.a.createElement(g.a,{component:kt.b,to:"/inbox?".concat(null===e||void 0===e?void 0:e._id,"?").concat(null===e||void 0===e?void 0:e.fname,"_").concat(null===e||void 0===e?void 0:e.lname)},r.a.createElement(y.c,{color:"#014201",size:"18px"})))),r.a.createElement(ea,{align:"center"},r.a.createElement(q.a,{title:e.blocked?"Unblock ".concat(e.fname," ").concat(e.lname):"Block ".concat(e.fname," ").concat(e.lname),arrow:!0},r.a.createElement(g.a,{onClick:function(t){return b(t,e._id)}},r.a.createElement(bt.a,{size:"18px",color:e.blocked?"red":""})))))}))))))}var na=a(509),ra=a(517),oa=a(533),la=a(481),ca=a(511),sa=a(496),ia=JSON.parse(localStorage.getItem("me"));var ua=function(e){var t=e.title,a=e.classesArray,o=Object(n.useState)(!1),l=Object(u.a)(o,2),c=l[0],d=l[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),v=p[0],b=p[1],g=Object(n.useState)(""),C=Object(u.a)(g,2),O=C[0],S=C[1],w=Object(n.useState)(""),j=Object(u.a)(w,2),N=j[0],R=j[1],T=Object(n.useState)(null),D=Object(u.a)(T,2),F=D[0],z=D[1],W=Boolean(F),B=function(){z(null)},P=function(){d(!0)},_=function(){d(!1)},M=Object(I.a)({initialValues:{fname:"",lname:"",email:"",password:"",roll:"",atClass:t||""},validationSchema:L.b().shape({fname:L.d().required("First Name is Required."),lname:L.d().required("Last Name is Required."),email:L.d().email("Does not looks like an email").required("Email is Required."),password:L.d().required("Pasword is Required.").min(8,"password contains at least 8 characters.."),roll:L.d().required("Role is Required."),atClass:L.d().required("Class is Required.")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={fname:t.fname.toLowerCase(),lname:t.lname.toLowerCase(),email:t.email.toLowerCase(),roll:t.roll,atClass:t.atClass,password:t.password},e.next=4,f.a.post("".concat(k.severHostedUrl,"/user/register"),a,{headers:{Authentication:"Bearer ".concat(null===ia||void 0===ia?void 0:ia.token)}});case 4:(n=e.sent)&&(Ia.emit("newUserAdded",n.data.user),n.data.message?(b(n.data.message),S("success"),_()):(b(n.data.error),S("error"),_())),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),_();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement("div",null,v?r.a.createElement(U,{openSnack:v,severity:O,text:v,setOpenSnack:b}):"",t?r.a.createElement(Q.a,{onClick:P},"Add User"):r.a.createElement(G.a,{onClick:P,variant:"contained",sx:{boxShadow:5,"&:hover":{backgroundColor:"#014201"},backgroundColor:"#014201",color:"#fff"},endIcon:r.a.createElement(st.d,{color:"white"})},"Add User"),r.a.createElement(H.a,{open:c,onClose:_,fullWidth:!0,maxWidth:"xs"},r.a.createElement(J.a,null,r.a.createElement("strong",null,"Add User",t?' in "'.concat(t,'"'):"")),r.a.createElement(V.a,null,r.a.createElement(h.a,{component:"form",width:"100%",p:2,autoComplete:"off",onSubmit:M.handleSubmit},r.a.createElement(E.a,{autoFocus:!0,sx:{mt:2},type:"text",color:"success",label:"First Name",variant:"outlined",value:M.values.fname,onChange:M.handleChange("fname"),inputProps:{maxLength:16},fullWidth:!0}),M.errors.fname&&M.touched.fname&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",M.errors.fname),r.a.createElement(E.a,{sx:{mt:2},type:"text",color:"success",label:"Last Name",variant:"outlined",value:M.values.lname,onChange:M.handleChange("lname"),inputProps:{maxLength:16},fullWidth:!0}),M.errors.lname&&M.touched.lname&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",M.errors.lname),r.a.createElement(la.a,{component:"legend",sx:{mt:2}},"Role:"),r.a.createElement(ca.a,{row:!0},r.a.createElement(oa.a,{onChange:function(e){return M.values.roll=String(e.target.value)},value:"teacher",control:r.a.createElement(sa.a,{color:"success"}),label:"Teacher"}),r.a.createElement(oa.a,{onChange:function(e){return M.values.roll=String(e.target.value)},value:"student",control:r.a.createElement(sa.a,{color:"success"}),label:"Student"})),M.errors.roll&&M.touched.roll&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",M.errors.roll),r.a.createElement(G.a,{"aria-expanded":W?"true":void 0,sx:{mt:2},color:"success",variant:"outlined",onClick:function(e){return z(e.currentTarget)},disabled:!!t,endIcon:r.a.createElement(A.a,{color:"inherit"})},t||(N||"Select Class")),r.a.createElement(X.a,{anchorEl:F,open:W,onClose:B},null===a||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(Q.a,{key:t,onClick:function(){B(),R(e),M.values.atClass=e}},e)}))),M.errors.atClass&&M.touched.atClass&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",M.errors.atClass),r.a.createElement(E.a,{sx:{mt:2},type:"email",color:"success",label:"email",variant:"outlined",value:M.values.email,onChange:M.handleChange("email"),inputProps:{maxLength:32},fullWidth:!0}),M.errors.email&&M.touched.email&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",M.errors.email),r.a.createElement(E.a,{sx:{mt:2},type:"password",color:"success",label:"Password",variant:"outlined",value:M.values.password,onChange:M.handleChange("password"),fullWidth:!0}),M.errors.password&&M.touched.password&&r.a.createElement(x.a,{variant:"body2",sx:{color:"red",marginLeft:"5px",display:"flex",alignItems:"center"}},r.a.createElement(y.e,{color:"red",size:"16px",style:{marginRight:"8px"}})," ",M.errors.password))),r.a.createElement(Z.a,null,r.a.createElement(G.a,{variant:"contained",color:"success",onClick:M.handleSubmit},"Register"),r.a.createElement(G.a,{variant:"outlined",color:"success",onClick:_,autoFocus:!0},"cancel"))))},da=function(e){var t=e.currentUser,a=Object(n.useState)(null),o=Object(u.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)("all"),i=Object(u.a)(s,2),d=i[0],m=i[1],p=Object(P.c)((function(e){return e.usersReducer.users})),v=null===p||void 0===p?void 0:p.filter((function(e){return"teacher"===e.roll})),b=null===p||void 0===p?void 0:p.filter((function(e){return"student"===e.roll}));return Object(n.useEffect)((function(){c(p)}),[p]),r.a.createElement(h.a,{width:"100%",p:2},r.a.createElement(h.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},r.a.createElement(na.a,{value:l,exclusive:!0,onChange:function(e,t){c("teachers"===t?v:"students"===t?b:p)}},r.a.createElement(ra.a,{size:"small",sx:{"&:hover":{backgroundColor:"#014201",color:"#fff"},backgroundColor:"all"===d?"#014201":"white",color:"all"===d?"#fff":"#014201"},value:"all",onClick:function(){return m("all")}},"All Users"),r.a.createElement(ra.a,{size:"small",sx:{"&:hover":{backgroundColor:"#014201",color:"#fff"},backgroundColor:"teachers"===d?"#014201":"white",color:"teachers"===d?"#fff":"#014201"},value:"teachers",onClick:function(){return m("teachers")}},"Teachers"),r.a.createElement(ra.a,{size:"small",sx:{"&:hover":{backgroundColor:"#014201",color:"#fff"},backgroundColor:"students"===d?"#014201":"white",color:"students"===d?"#fff":"#014201"},value:"students",onClick:function(){return m("students")}},"Students")),r.a.createElement(ua,{classesArray:null===t||void 0===t?void 0:t.classes})),r.a.createElement(aa,{tableBody:l,curUser:t}))},ma=a(154),pa=JSON.parse(localStorage.getItem("me")),va=function(e){var t=e.setCurUser,a=Object(n.useState)(!1),o=Object(u.a)(a,2),l=o[0],c=o[1],d=Object(n.useState)(""),m=Object(u.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(""),x=Object(u.a)(b,2),g=x[0],C=x[1],O=Object(n.useState)(""),y=Object(u.a)(O,2),w=y[0],A=y[1],j=Object(P.b)(),N=function(){c(!l)},I=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=p.trim().toLowerCase()){e.next=7;break}C("Please write something"),A("error"),e.next=20;break;case 7:return e.prev=7,e.next=10,f.a.post("".concat(k.severHostedUrl,"/user/addclass"),{adminID:null===pa||void 0===pa?void 0:pa.id,title:n},{headers:{Authentication:"Bearer ".concat(null===pa||void 0===pa?void 0:pa.token)}});case 10:(r=e.sent)&&r.data.message&&(j(R(r.data.user)),t(r.data.user),C(r.data.message),A("success"),v(""),N()),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(7),C(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.error),A("error"),v(""),N();case 20:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.a,null,g?r.a.createElement(U,{openSnack:g,severity:w,text:g,setOpenSnack:C}):"",r.a.createElement(h.a,{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",onClick:N,sx:{backgroundColor:"#f6f6f6",cursor:"pointer",boxShadow:1,"&:hover":{backgroundColor:"#efefef"}}},r.a.createElement(ma.b,{size:"80px",color:"#014201",style:{margin:"32px 0px"}}),r.a.createElement(M.a,null)),l?r.a.createElement("form",{onSubmit:function(e){return I(e)}},r.a.createElement(E.a,{fullWidth:!0,autoFocus:!0,placeholder:"Add Class Name",value:p,variant:"standard",color:"success",onChangeCapture:function(e){return v(e.target.value)},sx:{mt:"18px"},InputProps:{maxLength:16,endAdornment:r.a.createElement(S.a,{onClick:function(e){return I(e)},size:"26px",color:"green",style:{cursor:"pointer"}})}})):r.a.createElement(G.a,{onClick:N,variant:"contained",sx:{py:"12px",backgroundColor:"#014201","&:hover":{backgroundColor:"#021002"}},fullWidth:!0},"Add Class"))},ba=function(e){var t=e.title,a=e.currentUser,o=Object(P.c)((function(e){return e.usersReducer.users})),l=Object(n.useState)(null),c=Object(u.a)(l,2),s=c[0],i=c[1],d=Boolean(s),m=Object(n.useState)(null),p=Object(u.a)(m,2),v=p[0],b=p[1],f=Object(n.useState)(null),E=Object(u.a)(f,2),C=E[0],O=E[1];return Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.filter((function(e){return e.atClass===t})),a=null===e||void 0===e?void 0:e.filter((function(e){return"teacher"===e.roll})),n=null===e||void 0===e?void 0:e.filter((function(e){return"student"===e.roll}));b(a),O(n)}),[t]),r.a.createElement(h.a,{width:"100%",textAlign:"center",sx:{backgroundColor:"#f6f6f6",cursor:"pointer",borderRadius:1,boxShadow:1,"&:hover":{backgroundColor:"#efefef"}}},r.a.createElement(h.a,{p:"28px 40px 10px"},r.a.createElement(h.a,{display:"flex",justifyContent:"space-between",mb:1},r.a.createElement(x.a,{variant:"subtitle1",color:"#021002"},r.a.createElement("strong",null,"Class Name:")),r.a.createElement(x.a,{variant:"subtitle1",color:"#021002"},t)),r.a.createElement(h.a,{display:"flex",justifyContent:"space-between",mb:1},r.a.createElement(x.a,{variant:"subtitle1",color:"#021002"},r.a.createElement("strong",null,"Teachers:")),r.a.createElement(x.a,{variant:"subtitle1",color:"#021002"},(null===v||void 0===v?void 0:v.length)>0?v.length:0)),r.a.createElement(h.a,{display:"flex",justifyContent:"space-between",mb:1},r.a.createElement(x.a,{variant:"subtitle1",color:"#021002"},r.a.createElement("strong",null,"Students:")),r.a.createElement(x.a,{variant:"subtitle1",color:"#021002"},(null===C||void 0===C?void 0:C.length)>0?C.length:0))),r.a.createElement(h.a,{display:"flex",justifyContent:"flex-end",p:"8px 35px"},r.a.createElement(q.a,{title:"Actions",arrow:!0},r.a.createElement(g.a,{"aria-expanded":d?"true":void 0,onClick:function(e){return i(e.currentTarget)}},r.a.createElement(ma.a,{size:"18px",color:"black"}))),r.a.createElement(X.a,{id:"basic-menu",anchorEl:s,open:d,onClose:function(){i(null)},MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(ua,{title:t,classesArray:null===a||void 0===a?void 0:a.classes}))))},fa=function(e){var t=e.currentUser,a=e.setCurUser,o=Object(n.useState)(null),l=Object(u.a)(o,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){s(null===t||void 0===t?void 0:t.classes)}),[t]),r.a.createElement(h.a,{width:"100%",minHeight:"100vh",p:2,sx:{backgroundColor:"#f6f6f6"}},r.a.createElement(de.a,{container:!0,width:"100%",m:"0px",direction:"row",spacing:2,sx:{backgroundColor:"#fff",boxShadow:2},pr:2,pb:2},r.a.createElement(de.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(va,{setCurUser:a})),(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.map((function(e,a){return r.a.createElement(de.a,{key:a,item:!0,xs:12,md:6,lg:4},r.a.createElement(ba,{title:e,currentUser:t}))})):""))},ha=function(e){var t=e.course||{},a=t.courseName,n=t.duration,o=t.teacherName,l=t.students,c=t._id,s=Object(re.g)();return r.a.createElement(h.a,{width:"100%",onClick:function(){return s.push("/".concat(c))},sx:{boxShadow:2,backgroundColor:"#00000009",borderRadius:2,cursor:"pointer","&:hover":{backgroundColor:"#0cff0017"}}},r.a.createElement(h.a,{p:2},r.a.createElement(h.a,{mb:1,display:"flex",justifyContent:"space-between"},r.a.createElement(x.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Teacher:")),r.a.createElement(x.a,{variant:"subtitle1"},o)),r.a.createElement(h.a,{mb:1,display:"flex",justifyContent:"space-between"},r.a.createElement(x.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Course Name:")),r.a.createElement(x.a,{variant:"subtitle1"},a)),r.a.createElement(h.a,{mb:1,display:"flex",justifyContent:"space-between"},r.a.createElement(x.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Duration:")),r.a.createElement(x.a,{variant:"subtitle1"},n," Weeks")),r.a.createElement(h.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(x.a,{variant:"subtitle1",color:"#014201"},r.a.createElement("strong",null,"Students:")),r.a.createElement(x.a,{variant:"subtitle1"},l.length>0?l.length:"0"))),r.a.createElement(G.a,{variant:"contained",sx:{backgroundColor:"#014201",py:1.5,"&:hover":{backgroundColor:"#021002"}},fullWidth:!0},"View Course"))},Ea=function(){var e=Object(P.c)((function(e){return e.usersReducer.allCourses}));return r.a.createElement(h.a,{width:"100%",minHeight:"100vh",p:2,sx:{backgroundColor:"#f6f6f6"}},r.a.createElement(de.a,{container:!0,width:"100%",m:"0px",direction:"row",spacing:2,sx:{backgroundColor:"#fff",boxShadow:2},pr:2,pb:2},(null===e||void 0===e?void 0:e.length)>0?e.map((function(e,t){return r.a.createElement(de.a,{key:t,item:!0,xs:12,md:6,lg:4},r.a.createElement(ha,{course:e}))})):r.a.createElement(h.a,{width:"100%",pt:14,textAlign:"center"},r.a.createElement(x.a,{variant:"h5",color:"#014201"},"Currently No Course Available"))))},xa=function(){var e=Object(P.c)((function(e){return e.usersReducer.users})),t=null===e||void 0===e?void 0:e.filter((function(e){return!0===e.blocked}));return r.a.createElement(h.a,{width:"100%",p:2},(null===t||void 0===t?void 0:t.length)>0?r.a.createElement(aa,{tableBody:t}):r.a.createElement(h.a,{width:"100%",pt:14,textAlign:"center"},r.a.createElement(x.a,{variant:"h5",color:"#014201"},"Currently No User Blocked")))},ga=JSON.parse(localStorage.getItem("me")),Ca=function(e){var t,a=e.curUser,o=e.setCurUser,l=e.setOpenSnack,c=e.setSeverity,d=Object(n.useState)(!0),m=Object(u.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(null),E=Object(u.a)(b,2),g=E[0],C=E[1],O=Object(n.useState)(!1),S=Object(u.a)(O,2),y=S[0],w=S[1],A=Object(P.b)(),j=function(){var e=null===a||void 0===a?void 0:a.attendance,t=e[(null===e||void 0===e?void 0:e.length)-1];if(t){var n,r=null===t||void 0===t||null===(n=t.days)||void 0===n?void 0:n.find((function(e){return e.todayDate===Ye()().date()}));r||1!==Ye()().date()||(N(),v(!0));var o=0===Ye()().day()||6===Ye()().day();r?v(!0):o?C(!0):v(!1)}else v(!1)},N=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r,i,u,d,m,p,v,b,h,E;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),t=null===a||void 0===a?void 0:a._id,n=new Date,r=n.getFullYear(),i=String(n.getMonth()),u=n.getDate(),d=n.getHours(),m=n.getMinutes(),p="".concat(d,":").concat(m),v={_id:t,year:r,month:i,date:u,time:p},e.next=13,f.a.post("".concat(k.severHostedUrl,"/user/attendance"),v,{headers:{Authentication:"Bearer ".concat(null===ga||void 0===ga?void 0:ga.token)}});case 13:(b=e.sent)&&(A(R(b.data.updated)),o(b.data.updated),l(b.data.message),c("success")),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),l(null===e.t0||void 0===e.t0||null===(h=e.t0.response)||void 0===h||null===(E=h.data)||void 0===E?void 0:E.error),c("error");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j();case 1:case"end":return e.stop()}}),e)}))),[a,y]),r.a.createElement(h.a,null,g?r.a.createElement(h.a,(t={py:2,textAlign:"center",mb:2},Object(Pe.a)(t,"py",2),Object(Pe.a)(t,"maxWidth","727px"),Object(Pe.a)(t,"sx",{backgroundColor:"#fff",borderRadius:1,boxShadow:1}),t),r.a.createElement(x.a,{color:"green",variant:"h4"},"Today is Holiday")):r.a.createElement(h.a,{textAlign:"center",mb:2,py:2,maxWidth:"727px",sx:{backgroundColor:"#fff",borderRadius:1,boxShadow:1}},r.a.createElement(x.a,{color:"green",mb:2,variant:"h4",display:"inline-block"},"Mark Today's Attendance"),r.a.createElement(h.a,null,r.a.createElement(G.a,{size:"small",variant:"contained",color:"success",onClick:function(e){return N(e)},disabled:p||y},p?"Marked":"Mark"))))},Oa=a(241),Sa=a.n(Oa),ya=function(e){var t=e.attendance,a=Object(n.useState)([]),o=Object(u.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)(),i=Object(u.a)(s,2),d=i[0],m=i[1],p=[{name:"Present Days",data:d}],v={annotations:{points:[{label:{borderColor:"#013220",offsetY:0,style:{color:"#013220",background:"#013220"}}}]},chart:{width:"100%",type:"bar"},plotOptions:{bar:{borderRadius:10,columnWidth:"50%"}},dataLabels:{enabled:!1},stroke:{colors:["#228B22"],width:2},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{labels:{rotate:-45},tickPlacement:"on",categories:l},yaxis:{title:{text:"Attendance Chart"},max:31,min:0},fill:{type:"gradient",colors:["#028A0F"],gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[50,0,100]}}};return Object(n.useEffect)((function(){if(t)if(t.length){var e=[],a=[],n=t[(null===t||void 0===t?void 0:t.length)-1];null===t||void 0===t||t.map((function(t){e.push(String(t.monthName)),a.push(String(t.days.length)),t.monthName===n.monthName&&(m(a),c(e))}))}else{var r=Ye()().month();m(["0"]),c(["".concat(0===r?"jan":1===r?"feb":2===r?"mar":3===r?"apr":4===r?"may":5===r?"jun":6===r?"jul":7===r?"aug":8===r?"sep":9===r?"oct":10===r?"nov":"dec","_").concat(Ye()().year())])}}),[t]),r.a.createElement(h.a,{maxWidth:"727px",py:2,sx:{backgroundColor:"#fff",borderRadius:2,boxShadow:1}},d&&l&&r.a.createElement(Sa.a,{options:v,series:p,type:"bar"}))},wa=function(e){var t=e.allCourses,a=e.user,o=Object(n.useState)(null),l=Object(u.a)(o,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){var e=[];if("teacher"===(null===a||void 0===a?void 0:a.roll)){null===t||void 0===t||t.map((function(t){t.teacher_id===(null===a||void 0===a?void 0:a._id)&&e.push(t)}));s(e)}if("student"===(null===a||void 0===a?void 0:a.roll))null===t||void 0===t||t.map((function(t){if(t.students.length){t.students.filter((function(n){n.id===(null===a||void 0===a?void 0:a._id)&&e.push(t)}));s(e)}}))}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{sx:{width:"97%",mx:"auto",mt:1}}),r.a.createElement(h.a,{maxWidth:"1024px"},r.a.createElement(h.a,{sx:{backgroundColor:"#fff",borderRadius:1,boxShadow:1},mt:2,width:"100%",p:2,display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:"12px"},(null===c||void 0===c?void 0:c.length)>0?r.a.createElement(h.a,null,r.a.createElement(x.a,{variant:"h5",color:"#014201",mb:2},"teacher"===(null===a||void 0===a?void 0:a.roll)?"".concat(null===a||void 0===a?void 0:a.fname,"'s Creation Courses..."):"student"===(null===a||void 0===a?void 0:a.roll)?"".concat(null===a||void 0===a?void 0:a.fname,"'s enrolled courses..."):""),r.a.createElement(M.a,{sx:{mb:1}}),c.map((function(e,t){return r.a.createElement(ha,{course:e,key:t})}))):r.a.createElement(h.a,{width:"100%",pt:3,textAlign:"center"},r.a.createElement(x.a,{variant:"h5",color:"#014201"},"teacher"===(null===a||void 0===a?void 0:a.roll)?"No Course Added By ".concat(null===a||void 0===a?void 0:a.fname,"..."):"student"===(null===a||void 0===a?void 0:a.roll)?"".concat(null===a||void 0===a?void 0:a.fname," currently not enrolled in any course..."):"")))))},Aa=JSON.parse(localStorage.getItem("me"));function ka(e){var t=e.curUser,a=e.setImgURL,o=e.setSeverity,l=e.setOpenSnack,c=Object(n.useState)(!1),d=Object(u.a)(c,2),m=d[0],p=d[1],v=Object(n.useState)(null),b=Object(u.a)(v,2),E=b[0],x=b[1],g=Object(n.useState)(null),C=Object(u.a)(g,2),S=C[0],A=C[1],j=function(){p(!1)},N=function(){var e=Object(i.a)(s.a.mark((function e(n){var r,c,i,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!E){e.next=15;break}return A(!0),(r=new FormData).append("_id",null===t||void 0===t?void 0:t._id),r.append("myImg",E),c={headers:{"content-type":"multipart/form-data",Authentication:"Bearer ".concat(null===Aa||void 0===Aa?void 0:Aa.token)}},e.next=10,f.a.post("".concat(k.severHostedUrl,"/user/editprofileimg"),r,c);case 10:(i=e.sent)&&(a(i.data.pPic),l(i.data.message),o("success"),A(!1)),j(),e.next=17;break;case 15:l("Please Select an Image"),o("error");case 17:e.next=25;break;case 19:e.prev=19,e.t0=e.catch(1),A(!1),l(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.error),o("error"),j();case 25:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(q.a,{title:"Edit Profile Picture",arrow:!0},r.a.createElement(h.a,null,r.a.createElement(y.b,{style:{cursor:"pointer"},onClick:function(){p(!0)},size:"20px",color:"green",height:"100%"}))),r.a.createElement(H.a,{open:m,onClose:j,fullWidth:!0,maxWidth:"xs"},r.a.createElement(J.a,{align:"center",backgroundColor:"white"},"Edit Picture"),r.a.createElement(V.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(h.a,{display:"flex"},r.a.createElement(h.a,{flexGrow:1,pt:1,px:1,border:"1px solid green",borderRadius:1},(null===E||void 0===E?void 0:E.name)?null===E||void 0===E?void 0:E.name:"Currently No Image"),r.a.createElement(G.a,{component:"label"},r.a.createElement(w.b,{color:"green",size:"22px"}),r.a.createElement("input",{hidden:!0,name:"myImg",type:"file",accept:"image/png, image/jpeg",onChange:function(e){return function(e){var t=null===e||void 0===e?void 0:e.size,a=null===e||void 0===e?void 0:e.type;e?Boolean("image/png"===a)||Boolean("image/jpeg"===a)||Boolean("image/jpg"===a)?x(e):t>5e6?(l("please Select an image of size less then 5 mbs."),o("error")):(l("you can select only image..."),o("error")):(l("please Select an image"),o("error"))}(e.target.files[0])}}))))),r.a.createElement(Z.a,null,r.a.createElement(O.a,{onClick:N,variant:"contained",color:"success",loading:S},"Set as Profile"),r.a.createElement(G.a,{color:"success",onClick:j},"Cancel"))))}var ja=function(e){var t=e.text,a=e.title;return r.a.createElement(x.a,{variant:"subtitle1",sx:{width:"80%",py:1,px:2,boxShadow:1,display:"flex",justifyContent:a?"space-between":"center",textAlign:"center",borderRadius:1,cursor:"pointer",backgroundColor:"#00000009",mb:1}},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("b",null,a)),r.a.createElement("span",{style:{color:"#2e7d32"}},r.a.createElement("b",null,t))):r.a.createElement("span",{style:{color:"#2e7d32"}},r.a.createElement("b",null,t)))},Na=function(e){var t=e.curUser,a=e.setCurUser,o=Object(re.h)().search,l=Object(P.c)((function(e){return e.usersReducer.users})),c=Object(P.c)((function(e){return e.usersReducer.allCourses})),s=Object(n.useState)(""),i=Object(u.a)(s,2),d=i[0],m=i[1],p=Object(n.useState)(""),v=Object(u.a)(p,2),b=v[0],f=v[1],E=Object(n.useState)({}),x=Object(u.a)(E,2),g=x[0],C=x[1],O=Object(n.useState)(),S=Object(u.a)(O,2),y=S[0],w=S[1];return Object(n.useEffect)((function(){var e;if(o){var a,n=o.split("?")[1];if(e=null===l||void 0===l?void 0:l.find((function(e){return e._id===n})))C(e),w(null===(a=e)||void 0===a?void 0:a.dp)}(null===t||void 0===t?void 0:t.isAdmin)||(C(t),w(null===t||void 0===t?void 0:t.dp))}),[t]),r.a.createElement(h.a,{sx:{backgroundColor:"#00000009"},width:"100%",p:4},d?r.a.createElement(U,{openSnack:d,severity:b,text:d,setOpenSnack:m}):"",r.a.createElement(de.a,{container:!0,spacing:{md:2}},r.a.createElement(de.a,{item:!0,xs:12,md:5,sx:{backgroundColor:"#fff",borderRadius:1,boxShadow:1,pl:"0!important"},display:"flex",flexDirection:"column",alignItems:"center",my:2},r.a.createElement(ie.a,{src:y||Fe.a,alt:null===g||void 0===g?void 0:g.fname,sx:{width:"200px",height:"200px",border:"1px solid green",mb:2}}),(null===t||void 0===t?void 0:t.isAdmin)?"":r.a.createElement(h.a,{display:"flex",justifyContent:"center",position:"relative",bottom:"27px",zIndex:1},r.a.createElement(ka,{curUser:t,setImgURL:w,setSeverity:f,setOpenSnack:m})),r.a.createElement(ja,{text:null===g||void 0===g?void 0:g.email}),r.a.createElement(ja,{title:"Name:",text:"".concat(null===g||void 0===g?void 0:g.fname," ").concat((null===g||void 0===g?void 0:g.lname)||"-")}),r.a.createElement(ja,{title:"Age:",text:(null===g||void 0===g?void 0:g.age)||"-"}),r.a.createElement(ja,{title:"Class:",text:(null===g||void 0===g?void 0:g.atClass)||"-"}),r.a.createElement(ja,{title:"Son Of:",text:(null===g||void 0===g?void 0:g.fatherName)||"-"}),r.a.createElement(ja,{title:"Phone",text:(null===g||void 0===g?void 0:g.phone)||"-"}),r.a.createElement(ja,{title:"Role:",text:(null===g||void 0===g?void 0:g.roll)||"-"})),r.a.createElement(de.a,{item:!0,xs:12,md:7},(null===t||void 0===t?void 0:t.isAdmin)?"":r.a.createElement(h.a,{width:"100%"},r.a.createElement(Ca,{curUser:t,setCurUser:a,setSeverity:f,setOpenSnack:m})),r.a.createElement(h.a,{width:"100%"},r.a.createElement(ya,{attendance:null===g||void 0===g?void 0:g.attendance})))),(null===t||void 0===t?void 0:t.isAdmin)?r.a.createElement(wa,{user:g,allCourses:c}):"")},Ua=k.severHostedUrl,Ia=Object(d.a)(Ua,{transports:["websocket"]}),La=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(u.a)(l,2),d=c[0],m=c[1],p=Object(n.useState)(!1),b=Object(u.a)(p,2),h=b[0],E=b[1],x=Object(n.useState)({}),g=Object(u.a)(x,2),C=g[0],O=g[1],S=Object(n.useState)(!0),y=Object(u.a)(S,2),w=y[0],A=y[1],j=Object(P.b)(),N=Object(re.g)();return Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){var t,a,n,r,l,c,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem("me"));case 3:return t=e.sent,e.next=6,f.a.get("".concat(k.severHostedUrl,"/user/currentuser/").concat(null===t||void 0===t?void 0:t.id),{headers:{Authentication:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}});case 6:if(!(a=e.sent)){e.next=39;break}if(!(n=a.data.user).isAdmin){e.next=23;break}return o(!0),e.next=13,f.a.get("".concat(k.severHostedUrl,"/user/getdata"),{headers:{Authentication:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}});case 13:if(!(r=e.sent)){e.next=21;break}return l=r.data.users.filter((function(e){return e._id!==(null===n||void 0===n?void 0:n._id)})),j({type:"GET_USERS",payload:l}),e.next=19,f.a.get("".concat(k.severHostedUrl,"/course/getall"),{headers:{Authentication:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}});case 19:(c=e.sent)&&j(B(c.data.allCourses));case 21:e.next=35;break;case 23:if("teacher"!==n.roll){e.next=30;break}return e.next=26,f.a.post("".concat(k.severHostedUrl,"/course/mycourse"),{teacher_id:null===n||void 0===n?void 0:n._id},{headers:{Authentication:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}});case 26:(i=e.sent).data.course&&j(T(i.data.course)),e.next=35;break;case 30:if("student"!==n.roll){e.next=35;break}return e.next=33,f.a.post("".concat(k.severHostedUrl,"/course/forstudent"),{id:null===t||void 0===t?void 0:t.id,atClass:null===t||void 0===t?void 0:t.atClass},{headers:{Authentication:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}});case 33:(u=e.sent)&&j(D(u.data.courses));case 35:j(R(n)),O(n),E(!0),A(!1);case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(0),E(!1),A(!1);case 45:case"end":return e.stop()}}),e,null,[[0,41]])}))),[d]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("me"));Ia.on("connect",(function(){console.log("Backend Connected..!!")})),Ia.on("courseADDEDByTeacher",(function(t){"student"===(null===e||void 0===e?void 0:e.role)&&(null===e||void 0===e?void 0:e.atClass)==(null===t||void 0===t?void 0:t.teacherClass)?j({type:"EDIT_AVAILABLE_COURSES",payload:t}):(null===e||void 0===e?void 0:e.isAdmin)&&j({type:"ADD_NEW_COURSE_FOR_ADMIN",payload:t})})),Ia.on("courseEditedByTeacher",(function(t){"student"===(null===e||void 0===e?void 0:e.role)&&(null===e||void 0===e?void 0:e.atClass)==(null===t||void 0===t?void 0:t.teacherClass)&&j({type:"UPDATE_COURSES",payload:t})})),Ia.on("messageAddedStream",(function(e){j({type:"UPDATE_CURRENT_COURSE",payload:e})})),Ia.on("CHANGE_IN_CONVERSATION",(function(t){((null===e||void 0===e?void 0:e._id)===t.user1ID||t.user2ID)&&j({type:"UPDATE_CURRENT_CONVERSATION",payload:t})})),Ia.on("ASSIGNMENT_ADDED",(function(e){j({type:"UPDATE_ALL_ASSIGNMENTS",payload:e})})),Ia.on("NEW_USER_ADDED",(function(t){"admin"===(null===e||void 0===e?void 0:e.role)&&j(function(e){return{type:"USER_ADDED",payload:e}}(t))})),Ia.on("CHANGE_IN_USER",(function(t){if(t._id===(null===e||void 0===e?void 0:e.id))if(t.blocked){localStorage.clear();j({type:"LOG_OUT"}),m(!1),o(!1),E(!1),N.push("/")}else j(R(t));"admin"===(null===e||void 0===e?void 0:e.role)&&j(function(e){return{type:"UPDATE_SINGLE_USER",payload:e}}(t))}))}),[]),w?r.a.createElement(v,null):r.a.createElement(kt.a,null,r.a.createElement(re.d,null,r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/dashboard",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Mt,{currentUser:C,key:"dashboard"})}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Na,{key:"dashboard",curUser:C,setCurUser:O})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/users",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(da,{currentUser:C,key:"users"})}),SuccessComp:r.a.createElement(re.a,{to:"/dashboard"}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/classes",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(fa,{currentUser:C,setCurUser:O,key:"classes"})}),SuccessComp:r.a.createElement(re.a,{to:"/dashboard"}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/courses",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Ea,{currentUser:C,key:"courses"})}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(le,{currentUser:C,key:"courses"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/inbox",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Xe,{curUser:C,key:"inbox"})}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Xe,{curUser:C,key:"inbox"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/blocked",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(xa,{currentUser:C,key:"blocked"})}),SuccessComp:r.a.createElement(re.a,{to:"/dashboard"}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/availables",AdminComp:r.a.createElement(re.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(fe,{curUser:C,key:"availables"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/enrolled",AdminComp:r.a.createElement(re.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Ce,{curUser:C,key:"enrolled"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/editprofile",AdminComp:r.a.createElement(re.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(we,{curUser:C,setCurUser:O,key:"edit profile"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/changepassword",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Se,{currentUser:C,key:"change password"})}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Se,{currentUser:C,key:"change password"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,exact:!0,path:"/",AdminComp:r.a.createElement(re.a,{to:"/dashboard",curUser:C,setAuth:E}),SuccessComp:r.a.createElement(re.a,{to:"/dashboard",curUser:C,setAuth:E}),FailComp:r.a.createElement(_,{setAuth:E,setCurUser:O,setIsAdmin:o,setNowLogin:m})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/user",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Na,{key:"users",curUser:C})}),SuccessComp:r.a.createElement(re.a,{to:"/dashboard"}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/inbox/:id",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Xe,{curUser:C,key:"inbox"})}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(Xe,{curUser:C,key:"inbox"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/:id",AdminComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(At,{curUser:C,key:"courses"})}),SuccessComp:r.a.createElement(_t,{setAuth:E,curUser:C,setNowLogin:m,setIsAdmin:o,Component:r.a.createElement(At,{curUser:C,key:"teacher"===(null===C||void 0===C?void 0:C.roll)?"courses":"enrolled"})}),FailComp:r.a.createElement(re.a,{to:"/"})}),r.a.createElement(Ut,{auth:h,isAdmin:a,path:"/*",AdminComp:r.a.createElement(re.a,{to:"/dashboard"}),SuccessComp:r.a.createElement(re.a,{to:"/dashboard"}),FailComp:r.a.createElement(re.a,{to:"/"})})))},Ra=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,534)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),o(e),l(e)}))},Ta=a(156),Da=a(22),Fa={users:[],curUser:{},course:{},studentCourse:[],currentCourse:null,currentAssignment:null,allAssignments:null,checkedAssignments:null,allConversations:[],currentConversation:null,allCourses:[]},za=function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"GET_USERS":return Object(Da.a)(Object(Da.a)({},r),{},{users:o.payload});case"CUR_USER":return Object(Da.a)(Object(Da.a)({},r),{},{curUser:o.payload});case"GET_COURSE":return Object(Da.a)(Object(Da.a)({},r),{},{course:o.payload});case"GET_Student_COURSES":return Object(Da.a)(Object(Da.a)({},r),{},{studentCourse:o.payload});case"EDIT_AVAILABLE_COURSES":var l=null===(e=r.studentCourse)||void 0===e?void 0:e.find((function(e){return e._id===o.payload._id}));return l?r:Object(Da.a)(Object(Da.a)({},r),{},{studentCourse:[].concat(Object(K.a)(r.studentCourse),[o.payload])});case"UPDATE_COURSES":var c=r.studentCourse.find((function(e){return e._id===o.payload._id}));if(c){c=o.payload;var s=r.studentCourse.filter((function(e){return e._id!==o.payload._id})),i=[].concat(Object(K.a)(s),[c]);return Object(Da.a)(Object(Da.a)({},r),{},{studentCourse:i})}return r;case"CURRENT_COURSE":return Object(Da.a)(Object(Da.a)({},r),{},{currentCourse:o.payload});case"UPDATE_CURRENT_COURSE":return r.currentCourse&&r.currentCourse._id===o.payload._id?Object(Da.a)(Object(Da.a)({},r),{},{currentCourse:o.payload}):r;case"ALL_ASSIGNMENTS":return Object(Da.a)(Object(Da.a)({},r),{},{allAssignments:o.payload});case"CURRENT_ASSIGNMENT":return Object(Da.a)(Object(Da.a)({},r),{},{currentAssignment:o.payload});case"CHECKED_ASSIGNMENTS":return Object(Da.a)(Object(Da.a)({},r),{},{checkedAssignments:o.payload});case"UPDATE_ALL_ASSIGNMENTS":return r.allAssignments&&r.allAssignments[0].courseID===o.payload[0].courseID?Object(Da.a)(Object(Da.a)({},r),{},{allAssignments:o.payload}):r;case"ALL_CONVERSATIONS":return Object(Da.a)(Object(Da.a)({},r),{},{allConversations:o.payload});case"CURRENT_CONVERSATION":return Object(Da.a)(Object(Da.a)({},r),{},{currentConversation:o.payload});case"UPDATE_CURRENT_CONVERSATION":var u=null===(t=r.allConversations)||void 0===t?void 0:t.filter((function(e){return e._id!==o.payload._id}));return(null===(a=r.currentConversation)||void 0===a?void 0:a._id)===o.payload._id?Object(Da.a)(Object(Da.a)({},r),{},{allConversations:[].concat(Object(K.a)(u),[o.payload]),currentConversation:o.payload}):Object(Da.a)(Object(Da.a)({},r),{},{allConversations:[].concat(Object(K.a)(u),[o.payload])});case"ALL_COURSES":return Object(Da.a)(Object(Da.a)({},r),{},{allCourses:o.payload});case"ADD_NEW_COURSE_FOR_ADMIN":var d=r.allCourses.find((function(e){return e._id===o.payload._id}));return d||r.allCourses.push(o.payload),r;case"USER_ADDED":var m=null===(n=r.users)||void 0===n?void 0:n.find((function(e){return e._id===o.payload}));if(m)return r;var p=[].concat(Object(K.a)(r.users),[o.payload]);return Object(Da.a)(Object(Da.a)({},r),{},{users:p});case"UPDATE_SINGLE_USER":var v=[];r.users.filter((function(e){e._id===o.payload._id?v.push(o.payload):v.push(e)}));return Object(Da.a)(Object(Da.a)({},r),{},{users:v});case"LOG_OUT":return{users:[],curUser:{},course:{},studentCourse:[],currentCourse:null,currentAssignment:null,allAssignments:null,checkedAssignments:null,allConversations:[],currentConversation:null,allCourses:[]};default:return r}},Wa=Object(Ta.a)({usersReducer:za}),Ba=Object(Ta.b)(Wa,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P.a,{store:Ba},r.a.createElement(La,null))),document.getElementById("root")),Ra()}},[[272,1,2]]]);
//# sourceMappingURL=main.86d00845.chunk.js.map