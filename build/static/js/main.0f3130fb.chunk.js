(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{144:function(e,t,a){},205:function(e,t,a){e.exports=a.p+"static/media/stream.86eba8bd.jpg"},229:function(e,t,a){e.exports=a(366)},234:function(e,t,a){},262:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(59),c=a.n(o),l=(a(234),a(5)),s=a(207),i=a(436),u=a(441);var d=function(){return r.a.createElement("div",null,r.a.createElement(i.a,{sx:{color:"green",backgroundColor:"#fff"},open:!0},r.a.createElement(u.a,{color:"inherit"})))},m=a(4),p=a(21),v=a(32),b=a(17),f=a.n(b),E=a(444),h=a(371),g=a(419),x=a(427),O=a(437),C=a(83),j=a(119),y=(a(262),{severHostedUrl:"https://warm-hollows-02372.herokuapp.com"}),k=a(433),S=a(430),w=function(e){var t=e.openSnack,a=e.severity,n=e.text,o=e.setOpenSnack,c=function(e,t){"clickaway"!==t&&o("")};return r.a.createElement(k.a,{anchorOrigin:{vertical:"top",horizontal:"success"===a?"center":"right"},open:Boolean(t),autoHideDuration:2500,onClose:c},r.a.createElement(S.a,{onClose:c,variant:"filled",severity:a||"success",sx:{width:"100%"}},n))},A=function(e){var t,a,o=e.setAuth,c=Object(n.useState)({email:"",password:""}),s=Object(l.a)(c,2),i=s[0],u=s[1],b=Object(n.useState)(!1),k=Object(l.a)(b,2),S=k[0],A=k[1],_=Object(n.useState)(""),I=Object(l.a)(_,2),N=I[0],T=I[1],D=Object(n.useState)(""),U=Object(l.a)(D,2),R=U[0],z=U[1],L=Object(v.g)(),P=function(e){t=e.target.name,a=e.target.value,u(Object(p.a)(Object(p.a)({},i),{},Object(m.a)({},t,a)))};return S?r.a.createElement(d,null):r.a.createElement(E.a,{className:"_main",display:"flex",alignItems:"center"},N?r.a.createElement(w,{openSnack:N,severity:R,text:N,setOpenSnack:T}):"",r.a.createElement(E.a,{sx:{backgroundColor:"#fff"},maxWidth:"400px",borderRadius:1,boxShadow:3,mx:"auto",p:4,pt:2,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement("form",{method:"POST",onSubmit:function(e){return function(e){e.preventDefault(),A(!0);var t=i.email,a=i.password;t?!a||a.length<8?(T("Password! contains at least 8 characters !"),z("error"),A(!1)):f.a.post("".concat(y.severHostedUrl,"/user/login"),i).then((function(e){localStorage.setItem("uid",e.data.curUser._id),A(!1),o(!0),L.push("/profile")})).catch((function(e){A(!1),T("Invalid Credentials"),z("error")})):(A(!1),T("Please write Valid Email!"),z("error"))}(e)},style:{textAlign:"center"}},r.a.createElement(h.a,{variant:"h6",textAlign:"center"}," CY School App",r.a.createElement(g.a,{sx:{marginBottom:2}})),r.a.createElement(C.a,{className:"large-icon",color:"green",size:"50%"}),r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"email",label:"Your Email",type:"email",variant:"outlined",value:i.email,onChange:function(e){return P(e)},autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32}}),r.a.createElement(x.a,{margin:"dense",name:"password",label:"Your Password",type:"password",variant:"outlined",value:i.password,onChange:function(e){return P(e)},autoComplete:"off",fullWidth:!0,color:"success",inputProps:{maxLength:32},sx:{marginBottom:2}}),r.a.createElement(O.a,{size:"large",type:"submit",mt:2,variant:"contained",color:"success",startIcon:r.a.createElement(j.a,{size:"22px",color:"#fff"}),fullWidth:!0},"LOGIN"))))},_=a(7),I=a(209),N=a(435),T=a(445),D=a(446),U=a(426),R=a(443),z=a(149),L=a(30),P=a(20),W=function(e){return{type:"CUR_USER",payload:e}},F=function(e){return{type:"GET_COURSE",payload:e}},M=function(e){return{type:"CURRENT_COURSE",payload:e}},B=function(e){return{type:"ALL_ASSIGNMENTS",payload:e}},Y=function(e){return{type:"CURRENT_ASSIGNMENT",payload:e}},H=Object(_.a)("div")((function(e){var t=e.theme;return Object(m.a)({padding:t.spacing(1),display:"none"},t.breakpoints.up("md"),{display:"flex"})})),G=Object(_.a)("div")((function(e){var t=e.theme;return Object(m.a)({display:"none"},t.breakpoints.down("md"),{display:"flex"})})),V=function(e){var t=e.setAuth,a=Object(n.useState)(null),o=Object(l.a)(a,2),c=o[0],s=o[1],i=Boolean(c),u=Object(v.g)(),d=Object(P.b)(),m=function(){s(null)},p=function(){d({type:"LOG_OUT"}),localStorage.removeItem("uid"),t(!1),window.location.reload(!1),u.push("/")},b=r.a.createElement(I.a,{anchorEl:c,id:"mob_menu",keepMounted:!0,open:i,onClose:m},r.a.createElement(N.a,{component:L.b,onClick:m,to:"/profile",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Profile"),r.a.createElement(N.a,{component:L.b,onClick:m,to:"/attendance",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Attendance"),r.a.createElement(N.a,{component:L.b,onClick:m,to:"/coursedetails",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Course Details"),r.a.createElement(N.a,{component:L.b,onClick:m,to:"/messages",sx:{backgroundColor:"#fff",color:"green",width:"100%",paddingBottom:2}},"Messages"),r.a.createElement(N.a,{component:O.a,onClick:p,sx:{backgroundColor:"#fff",color:"red",width:"100%",paddingBottom:2}},"Log Out"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{color:"success",position:"static"},r.a.createElement(D.a,null,r.a.createElement(h.a,{component:L.b,color:"inherit",to:"/profile",variant:"h5",sx:{flexGrow:1,textDecoration:"none"}},"School App"),r.a.createElement(H,null,r.a.createElement(O.a,{component:L.b,to:"/profile",size:"small",color:"inherit"},"Profile"),r.a.createElement(O.a,{component:L.b,to:"/attendance",size:"small",color:"inherit",sx:{marginLeft:3}},"Attendance"),r.a.createElement(O.a,{component:L.b,to:"/coursedetails",size:"small",color:"inherit",sx:{marginLeft:3}},"Course Details"),r.a.createElement(O.a,{component:L.b,to:"/messages",size:"small",color:"inherit",sx:{marginLeft:3}},"Messages"),r.a.createElement(U.a,{title:"Log Out",arrow:!0},r.a.createElement(O.a,{component:L.b,to:"/logout",sx:{marginLeft:3},onClick:p},r.a.createElement(z.a,{color:"#fff",size:"25px"})))),r.a.createElement(G,null,r.a.createElement(R.a,{color:"inherit",onClick:function(e){s(e.currentTarget)}},r.a.createElement(z.b,null))))),b)},q=a(442),X=a(438),K=a(439),J=a(15),Q=a.n(J),Z=a(22),$=a(447),ee=a(424),te=a(448),ae=a(449),ne=a(87),re=a(42);function oe(e){var t=e.curUser,a=e.setOpenSnack,o=e.setSeverity,c=e.setCurrentUser,s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],d=i[1],m=localStorage.getItem("uid"),p=Object(P.b)(),v=function(){d(!1)},b=Object(ne.a)({initialValues:{id:m,fname:null===t||void 0===t?void 0:t.fname,lname:null===t||void 0===t?void 0:t.lname,fatherName:null===t||void 0===t?void 0:t.fatherName,atClass:null===t||void 0===t?void 0:t.atClass,age:null===t||void 0===t?void 0:t.age,phone:null===t||void 0===t?void 0:t.phone},validateOnChange:!0,validationSchema:re.b().shape({fname:re.c().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter First Name"),lname:re.c().max(12,"Plese Enter a Name less then 12 Characters").required("Please Enter Last Name"),fatherName:re.c().max(16,"Plese Enter a Name less then 16 Characters").required("Please Enter Your Father's Name"),atClass:re.a().required().positive().integer().min(6).max(10),age:re.a().required("It is not a good habit to hide your age.").positive("That doesn't look like a human's age.").integer("Don't use decimal point").min(10,"You are not egligible for this school, you are a baby,").max(199,"A noble human cannot live so long"),phone:re.a().typeError("That doesn't look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").min(3e9,"It doesn't looks like a phone number").max(3499999999,"It doesn't looks like a phone number").required("A phone number is required")}),onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(),e.next=4,f.a.post("".concat(y.severHostedUrl,"/user/edit-profile"),t);case 4:(n=e.sent)?(c(n.data.updated),p(W(n.data.updated)),a(n.data.message),o("success")):(a("User not update!"),o("error"),v()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),v();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(E.a,null,r.a.createElement(U.a,{title:"Edit Profile",arrow:!0},r.a.createElement(O.a,{color:"success",variant:"contained",size:"small",onClick:function(){d(!0)}},r.a.createElement(C.b,{color:"inherit",size:"16px"}))),r.a.createElement($.a,{Dialog:!0,open:u,onClose:v,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ee.a,{align:"center",backgroundColor:"white"},"Edit Profile"),r.a.createElement(te.a,null,r.a.createElement("form",{onSubmit:b.handleSubmit},r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"fname",label:"First Name",type:"text",variant:"outlined",value:b.values.fname,onChange:b.handleChange("fname"),autoComplete:"off",fullWidth:!0,color:"success"}),b.errors.fname&&b.touched.fname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},b.errors.fname),r.a.createElement(x.a,{margin:"dense",name:"lname",label:"Last Name",type:"text",variant:"outlined",value:b.values.lname,onChange:b.handleChange("lname"),autoComplete:"off",fullWidth:!0,color:"success"}),b.errors.lname&&b.touched.lname&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},b.errors.lname),r.a.createElement(x.a,{margin:"dense",name:"fatherName",label:"Son of",type:"text",variant:"outlined",value:b.values.fatherName,onChange:b.handleChange("fatherName"),autoComplete:"off",fullWidth:!0,color:"success"}),b.errors.fatherName&&b.touched.fatherName&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},b.errors.fatherName),r.a.createElement(x.a,{margin:"dense",name:"atClass",label:"In Class",type:"number",variant:"outlined",value:b.values.atClass,onChange:b.handleChange("atClass"),autoComplete:"off",fullWidth:!0,color:"success"}),b.errors.atClass&&b.touched.atClass&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},b.errors.atClass),r.a.createElement(x.a,{margin:"dense",name:"age",label:"Age",type:"number",variant:"outlined",value:b.values.age,onChange:b.handleChange("age"),autoComplete:"off",fullWidth:!0,color:"success"}),b.errors.age&&b.touched.age&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},b.errors.age),r.a.createElement(U.a,{title:"Enter Phone Number Escaped 0",arrow:!0},r.a.createElement(x.a,{margin:"dense",name:"phone",label:"Contact No...",type:"number",variant:"outlined",value:b.values.phone,onChange:b.handleChange("phone"),autoComplete:"off",fullWidth:!0,color:"success"})),b.errors.phone&&b.touched.phone&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},b.errors.phone))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{color:"success",variant:"contained",onClick:b.handleSubmit},"Save Edit"),r.a.createElement(O.a,{color:"success",onClick:v},"Cancel"))))}a(144);var ce=a(201);function le(e){e.curUser;var t=e.setImgURL,a=e.setSeverity,o=e.setOpenSnack,c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),p=m[0],v=m[1],b=localStorage.getItem("uid"),h=function(){u(!1)},g=function(){var e=Object(Z.a)(Q.a.mark((function e(n){var r,c,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!p){e.next=14;break}return(r=new FormData).append("_id",b),r.append("myImg",p),c={headers:{"content-type":"multipart/form-data"}},h(),e.next=10,f.a.post("".concat(y.severHostedUrl,"/user/editprofileimg"),r,c);case 10:(l=e.sent)&&(console.log("pPic",l.data.pPic),t(l.data.pPic),o(l.data.message),a("success")),e.next=16;break;case 14:o("Please Select an Image"),a("error");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),h();case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(U.a,{title:"Edit Profile Picture",arrow:!0},r.a.createElement(E.a,null,r.a.createElement(ce.a,{style:{cursor:"pointer"},onClick:function(){u(!0)},size:"20px",color:"green",height:"100%"}))),r.a.createElement($.a,{open:i,onClose:h,fullWidth:!0,maxWidth:"xs"},r.a.createElement(ee.a,{align:"center",backgroundColor:"white"},"Edit Picture"),r.a.createElement(te.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(E.a,{display:"flex"},r.a.createElement(E.a,{flexGrow:1,pt:1,px:1,border:"1px solid green",borderRadius:1},(null===p||void 0===p?void 0:p.name)?null===p||void 0===p?void 0:p.name:"Currently No Image"),r.a.createElement(O.a,{component:"label"},r.a.createElement(C.b,{color:"green",size:"22px"}),r.a.createElement("input",{hidden:!0,name:"myImg",type:"file",accept:"image/png, image/jpeg",onChange:function(e){return function(e){var t=null===e||void 0===e?void 0:e.size,n=null===e||void 0===e?void 0:e.type;e?Boolean("image/png"===n)||Boolean("image/jpeg"===n)||Boolean("image/jpg"===n)?v(e):t>5e6?(o("please Select an image of size less then 5 mb"),a("error")):(o("you can select only image..."),a("error")):(o("please Select an image"),a("error"))}(e.target.files[0])}}))))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{color:"success",variant:"contained",onClick:g},"save image"),r.a.createElement(O.a,{color:"success",onClick:h},"Cancel"))))}var se=Object(_.a)(q.a)((function(e){var t=e.theme;return Object(p.a)(Object(p.a)({},t.typography.body1),{},{padding:t.spacing(1.5),display:"flex",justifyContent:"space-between",color:"green"})})),ie=function(e){var t=e.curUser,a=e.setAuth,o=Object(n.useState)(null===t||void 0===t?void 0:t.dp),c=Object(l.a)(o,2),s=c[0],i=c[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(""),b=Object(l.a)(v,2),f=b[0],g=b[1],x=Object(n.useState)(t),O=Object(l.a)(x,2),C=O[0],j=O[1],y=C.age,k=C.atClass,S=C.email,A=C.fatherName,_=C.fname,I=C.lname,N=C.phone,T=C.roll;return r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:t,setAuth:a}),r.a.createElement(E.a,{mt:1,width:"99%",display:"flex",justifyContent:"flex-end"},r.a.createElement(oe,{curUser:t,setSeverity:g,setOpenSnack:p,setCurrentUser:j})),r.a.createElement(E.a,{width:"100%",my:"auto"},m?r.a.createElement(w,{openSnack:m,severity:f,text:m,setOpenSnack:p}):"",r.a.createElement(E.a,{width:"70%",mx:"auto",display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(X.a,{alt:"".concat(_," ").concat(I),src:s,sx:{width:"180px",height:"180px",border:"1px dashed green"},mx:"auto"})),r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"center",position:"relative",bottom:"13px",zIndex:1},r.a.createElement(le,{curUser:t,setImgURL:i,setSeverity:g,setOpenSnack:p})),r.a.createElement(E.a,{maxWidth:"900px",mx:"auto",mt:3,px:5,position:"relative",bottom:"30px"},r.a.createElement(K.a,{container:!0,spacing:2,justifyContent:"center"},r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Name:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},"".concat(_," ").concat(I)))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Email:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},S))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Class:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},k||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Age:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},y||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Son of:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},A||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Contact:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},N||r.a.createElement(h.a,{variant:"body1",color:"success"},"not Provided")))),r.a.createElement(K.a,{item:!0,xs:12,md:6,mb:2},r.a.createElement(se,null,r.a.createElement(E.a,{width:"30%",color:"black",textAlign:"right"},"Role:"),r.a.createElement(E.a,{width:"66%",textAlign:"center"},T)))))))},ue=a(428),de=a(425),me=a(202),pe=a(24),ve=a.n(pe),be=Object(_.a)(de.a)((function(e){var t,a=e.theme;return t={height:10,borderRadius:5},Object(m.a)(t,"&.".concat(me.a.colorPrimary),{backgroundColor:a.palette.grey["light"===a.palette.mode?200:800]}),Object(m.a)(t,"& .".concat(me.a.bar),{borderRadius:5,backgroundColor:"light"===a.palette.mode?"green":"#30e833"}),t})),fe=Object(ue.a)((function(){return{attendance_top:{textAlign:"center"}}})),Ee=function(e){var t=e.curUser,a=e.setAuth,o=fe(),c=Object(n.useState)(!0),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),x=g[0],C=g[1],j=Object(n.useState)(),k=Object(l.a)(j,2),S=k[0],A=k[1],_=Object(n.useState)(),I=Object(l.a)(_,2),N=I[0],T=I[1],D=Object(n.useState)(),U=Object(l.a)(D,2),R=U[0],z=U[1],L=Object(n.useState)(0),F=Object(l.a)(L,2),M=F[0],B=F[1],Y=Object(n.useState)(0),H=Object(l.a)(Y,2),G=H[0],q=H[1],X=Object(n.useState)(""),K=Object(l.a)(X,2),J=K[0],$=K[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=localStorage.getItem("uid"),oe=Object(P.b)(),ce=function(){if(t.attendance&&t.attendance.length>0)if(ve()(t.dateOfAddmission).date()===ve()().date()&&ve()(t.dateOfAddmission).month()===ve()().month()&&ve()(t.dateOfAddmission).year()===ve()().year())q(100);else if(ve()(t.dateOfAddmission).month()===ve()().month()&&ve()(t.dateOfAddmission).year()===ve()().year()){A(ve()(t.dateOfAddmission).date()),T(ve()(t.dateOfAddmission).month()+1),z(ve()(t.dateOfAddmission).year());var e="".concat(N,"-").concat(S,"-").concat(R),a=ve()(e,"MM-DD-YYYY").businessDiff(ve()(ve()(),"MM-DD-YYYY")),n=t.attendance,r=n[(null===n||void 0===n?void 0:n.length)-1].days.length;q(r/a*100)}else if(1===ve()().date())q(100);else{var o;T(ve()().month()+1),z(ve()().year());var c="".concat(N,"-01-").concat(R),l=ve()(c,"MM-DD-YYYY").businessDiff(ve()(ve()(),"MM-DD-YYYY")),s=null===t||void 0===t?void 0:t.attendance,i=null===(o=s[(null===s||void 0===s?void 0:s.length)-1].days)||void 0===o?void 0:o.length;q(i/l*100)}},le=function(){if(t.attendance&&t.attendance.length>0)if(ve()(t.dateOfAddmission).month()===ve()().month()&&ve()(t.dateOfAddmission).year()===ve()().year())B(G);else{var e=ve()(t.dateOfAddmission),a=e.month()+1,n=e.date(),r=e.year(),o="".concat(a,"-").concat(n,"-").concat(r),c=ve()(o,"MM-DD-YYYY").businessDiff(ve()(ve()(),"MM-DD-YYYY")),l=t.attendance.map((function(e){return e.days.length})),s=null===l||void 0===l?void 0:l.reduce((function(e,t){return e+t}));B(s/c*100)}},se=function(){var e=Object(Z.a)(Q.a.mark((function e(){var t,a,n,r,o,c,l,s,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),t=new Date,a=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=t.getHours(),c=t.getMinutes(),l="".concat(o,":").concat(c),s={_id:re,year:a,month:n,date:r,time:l},e.next=12,f.a.post("".concat(y.severHostedUrl,"/user/attendance"),s);case 12:(i=e.sent)&&(oe(W(i.data.updated)),$(i.data.message),ne("success")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),$("Your Attendance not marked"),ne("error");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){var e,a=t.attendance,n=a[(null===a||void 0===a?void 0:a.length)-1],r=null===n||void 0===n||null===(e=n.days)||void 0===e?void 0:e.find((function(e){return e.todayDate===ve()().date()}));r||1!==ve()().date()||(se(),u(!0));var o=0===ve()().day()||6===ve()().day();r?u(!0):o?v(!0):u(!1),ce(),le()}(),ce(),le()})),r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:t,setAuth:a}),r.a.createElement(E.a,null,J?r.a.createElement(w,{openSnack:J,severity:ae,text:J,setOpenSnack:$}):"",r.a.createElement(E.a,{className:o.attendance_top},p?r.a.createElement(E.a,{mt:8,maxWidth:"80%",mx:"auto",py:2,textAlign:"center"},r.a.createElement(h.a,{color:"green",variant:"h4"},"Today is Holiday")):r.a.createElement(E.a,null,r.a.createElement(h.a,{mt:8,mb:2,variant:"h4",display:"inline-block"},"Mark Today's Attendance"),r.a.createElement(E.a,null,r.a.createElement(O.a,{size:"small",variant:"contained",color:"success",onClick:function(e){return se(e)},disabled:i||x},i?"Marked":"Mark")))),r.a.createElement(E.a,{my:5,mx:"auto",sx:{width:"80%"},display:"block"},r.a.createElement(h.a,{variant:"h6"},"This Month Attendance"),r.a.createElement(be,{thickness:2,color:"success",variant:"determinate",value:Math.round(G)}),r.a.createElement(h.a,{variant:"h6"},Math.round(G),"%"))," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{mx:"auto",sx:{width:"80%"}},r.a.createElement(h.a,{variant:"h6"},"Overall Attendance"),r.a.createElement(be,{color:"success",variant:"determinate",value:Math.round(M)}),r.a.createElement(h.a,{variant:"h6"},Math.round(M),"%"))))},he=a(440),ge=a(16),xe=a(450);function Oe(e){var t=e.topicChips,a=e.setTopicChips,o=e.topicErr,c=e.setTopicErr,s=e.editCourse,i=e.course;Object(n.useEffect)((function(){if(s){var e=null===i||void 0===i?void 0:i.topics.map((function(e){return e}));a(e)}}),[]);var u=Object(n.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],v=function(){var e=m.trim();if(e){var n={key:(new Date).getTime().toString(),label:e};a([].concat(Object(ge.a)(t),[n])),p(""),c(!1)}else p("")};return r.a.createElement("div",{width:"100%",style:{display:"flex",flexDirection:"column"}},r.a.createElement(x.a,{InputProps:{startAdornment:r.a.createElement("span",null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(he.a,{sx:{backgroundColor:s?"orange":"#00800030",marginRight:1,marginTop:1},key:e.key,label:e.label,onDelete:(n=e,function(){a((function(e){return t.filter((function(e){return e.key!==n.key}))}))})});var n})))},disabled:t.length>=10,margin:"dense",name:"topicItems",label:"Topics",type:"text",variant:"outlined",value:m,onChange:function(e){return function(e){p(e.target.value),m.length>=10&&v()}(e)},onKeyPress:function(e){return function(e){" "!==e.key&&"Enter"!==e.key||v()}(e)},autoComplete:"off",color:s?"warning":"success",fullWidth:!0}),o?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Add at least 1 Topic"):"")}var Ce=function(e){var t=e.courseOutlineArr,a=e.coOutErr,n=e.editCourse,o=e.onChange;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(x.a,{margin:"dense",id:"".concat(t),sx:{marginTop:1},name:Object.keys(e)[0],label:"week ".concat(t+1),type:"text",variant:"outlined",value:null===e||void 0===e?void 0:e.week,onChange:function(e){return o(e,t)},autoComplete:"off",color:n?"warning":"success",fullWidth:!0,maxLength:12,inputProps:{maxLength:80}}))})),a?r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},"Please Define Outline Of All Weeks."):"")},je=a(43),ye=a(203),ke=["1 Week","2 Weeks","3 Weeks","4 Weeks"];function Se(e){var t=e.curUser,a=e.editCourse,o=e.course,c=e.setSeverity,s=e.setOpenSnack,i=localStorage.getItem("uid"),u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(null),b=Object(l.a)(v,2),E=b[0],g=b[1],C=Object(n.useState)((null===o||void 0===o?void 0:o.duration)||null),j=Object(l.a)(C,2),k=j[0],S=j[1],w=Object(n.useState)([]),A=Object(l.a)(w,2),_=A[0],T=A[1],D=Object(n.useState)(null),R=Object(l.a)(D,2),z=R[0],L=R[1],W=Object(n.useState)(null),M=Object(l.a)(W,2),B=M[0],Y=M[1],H=Object(n.useState)(!0),G=Object(l.a)(H,2),V=G[0],q=G[1],X=Object(n.useState)(null),K=Object(l.a)(X,2),J=K[0],oe=K[1],ce=Object(n.useState)([]),le=Object(l.a)(ce,2),se=le[0],ie=le[1],ue=Object(P.b)(),de=function(){p(!0)},me=function(){p(!1)},pe=function(){g(!1)},ve=Object(ne.a)({initialValues:{teacher_id:i,teacherEmail:null===t||void 0===t?void 0:t.email,teacherClass:null===t||void 0===t?void 0:t.atClass,courseName:a?null===o||void 0===o?void 0:o.courseName:"",courseDesc:a?null===o||void 0===o?void 0:o.courseDesc:"",topics:null,duration:null,courseOutline:null},validationSchema:re.b().shape({courseName:re.c().required("Course Name is Required Field."),courseDesc:re.c().required("Course Description is Required Field.")}),onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Y(!1),0!==_.length){e.next=6;break}L(!0),e.next=32;break;case 6:if(k){e.next=10;break}oe(!0),e.next=32;break;case 10:if(se.filter((function(e){return""!==e.week})).length===se.length){e.next=15;break}Y(!0),e.next=32;break;case 15:if(t.topics=_,t.duration=se.length,t.courseOutline=se,!a){e.next=26;break}return me(),e.next=22,f.a.post("".concat(y.severHostedUrl,"/course/editcourse"),t);case 22:(n=e.sent)&&(n.data.editted&&(ft.emit("courseEditted",n.data.editted),ue(F(n.data.editted))),n.data.message?(s(n.data.message),c("success")):(s(n.data.error),c("error"))),e.next=32;break;case 26:return me(),console.log("Added",t),e.next=30,f.a.post("".concat(y.severHostedUrl,"/course/add"),t);case 30:(r=e.sent)&&(ft.emit("newCoursesAdded",r.data.newCourse),ue(F(r.data.newCourse)),r.data.message?(s(r.data.message),c("success")):(s(r.data.error),c("error")));case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0),me();case 38:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}()});return Object(n.useEffect)((function(){ie(a?null===o||void 0===o?void 0:o.courseOutline:[])}),[]),r.a.createElement("div",null,a?r.a.createElement(U.a,{title:"Edit Course",arrow:!0},r.a.createElement(O.a,{size:"small",onClick:de,sx:{borderRadius:5}},r.a.createElement(ye.a,{size:"22px",color:"orange"}))):r.a.createElement(U.a,{title:"Add Course",arrow:!0},r.a.createElement(xe.a,{size:"small",sx:{backgroundColor:"green","&:hover":{backgroundColor:"green"}},onClick:de},r.a.createElement(je.f,{size:"20px",color:"#fff"}))),r.a.createElement($.a,{open:m,onClose:me,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ee.a,{align:"center",backgroundColor:"white"},a?"Edit Course":"Create Course"),r.a.createElement(te.a,null,r.a.createElement("form",{onSubmit:ve.handleSubmit},r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"courseName",label:"Course Name",type:"text",variant:"outlined",value:ve.values.courseName,onChange:ve.handleChange("courseName"),autoComplete:"off",fullWidth:!0,color:a?"warning":"success",inputProps:{maxLength:12}}),ve.errors.courseName&&ve.touched.courseName&&r.a.createElement(h.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ve.errors.courseName),r.a.createElement(x.a,{margin:"dense",name:"courseDesc",label:"Description",type:"text",variant:"outlined",value:ve.values.courseDesc,onChange:ve.handleChange("courseDesc"),autoComplete:"off",fullWidth:!0,multiline:!0,color:a?"warning":"success",inputProps:{maxLength:100}}),ve.errors.courseDesc&&ve.touched.courseDesc&&r.a.createElement(h.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},ve.errors.courseDesc),r.a.createElement(Oe,{topicChips:_,setTopicChips:T,topicErr:z,setTopicErr:L,editCourse:a,course:o,style:{display:"flex",background:"orange"}}),r.a.createElement(O.a,{onClick:function(e){!function(e){oe(!1),Y(!1),g(e.currentTarget)}(e),ie([])},color:a?"warning":"success",endIcon:r.a.createElement(je.c,null)},a&&V?ke[String(k-1)]:ke[k]||"Duration"),J?r.a.createElement(h.a,{variant:"body2",sx:{color:"red",marginLeft:"5px"}},"Please Select Duration of Your Course"):r.a.createElement(r.a.Fragment,null),r.a.createElement(I.a,{open:Boolean(E),anchorEl:E,onClose:pe},ke.map((function(e,t){return r.a.createElement(N.a,{key:t,onClick:function(){return function(e){q(!1);var t=Object(ge.a)(Array(e+1)).map((function(){return{week:""}}));ie(t),S(String(e)),pe()}(t)},name:"duration"},e)}))),k||a?r.a.createElement(Ce,{courseOutlineArr:se,editCourse:a,coOutErr:B,onChange:function(e,t){ie((function(a){var n=Object(ge.a)(a);return n[t].week=e.target.value,n}))}}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{color:a?"warning":"success",variant:"contained",onClick:ve.handleSubmit},a?"Save Edit":"Create"),r.a.createElement(O.a,{color:a?"warning":"success",variant:"outlined",onClick:me},"Cancel"))))}var we=a(204),Ae=function(e){var t,a=e.curUser,o=e.course,c=e.setAuth,s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)(""),b=Object(l.a)(p,2),f=b[0],g=b[1],x=o||{},C=x.courseName,j=x.courseDesc,y=x.topics,k=x.duration,S=x.courseOutline,A=Object(v.g)();return r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:a,setAuth:c}),r.a.createElement(E.a,{width:"95%",maxWidth:"1100px",marginX:"auto"},u?r.a.createElement(w,{openSnack:u,severity:f,text:u,setOpenSnack:d}):"",r.a.createElement(E.a,(t={mt:5,pb:2,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between"},Object(m.a)(t,"pb",1),Object(m.a)(t,"px",2),Object(m.a)(t,"width","100%"),t),r.a.createElement(h.a,{variant:"h4",color:"green",sx:{textTransform:"capitalize"}},"".concat(a.fname," ").concat(a.lname,"(").concat(a.roll,")")),r.a.createElement(h.a,{variant:"body1",mt:2,color:"green"},!o&&(null===a||void 0===a?void 0:a.atClass)?r.a.createElement(Se,{curUser:a,course:o,editCourse:!1,setSeverity:g,setOpenSnack:d}):(null===a||void 0===a?void 0:a.atClass)?"":r.a.createElement(O.a,{color:"success",size:"small"},"Set Your Class"))),r.a.createElement(E.a,{width:"100%",mt:3,p:3,pt:-1,color:"green"},o&&Object.entries(o).length>0?r.a.createElement(E.a,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,mt:1,sm:6,xs:12,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Course Name:"),r.a.createElement(h.a,{ml:5,variant:"body2"},C),r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Description:"),r.a.createElement(h.a,{ml:5,variant:"body2"},j),r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Topics:"),r.a.createElement(E.a,{ml:4},null===y||void 0===y?void 0:y.map((function(e,t){return r.a.createElement(he.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Duration:"),r.a.createElement(h.a,{ml:5,variant:"body2"},k," week / weeks")),r.a.createElement(K.a,{item:!0,mt:1,sm:6,xs:12,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle1"},"Course Outline:"),null===S||void 0===S?void 0:S.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(h.a,{color:"black",ml:5,variant:"body2"},"week ",t+1,":"),r.a.createElement(h.a,{ml:9,variant:"body1"},e.week))})))),r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"flex-end"},r.a.createElement(Se,{curUser:a,editCourse:!0,course:o,setSeverity:g,setOpenSnack:d}),r.a.createElement(U.a,{title:"Go to This Course",arrow:!0},r.a.createElement(O.a,{size:"small",sx:{borderRadius:5},onClick:function(){return A.push("/".concat(null===o||void 0===o?void 0:o._id))}},r.a.createElement(we.a,{size:"22px",color:"green"}))))):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Course Added")))))},_e=a(434),Ie=a(451),Ne=a(452),Te=a(453),De=a(85);var Ue=function(e){var t,a=e.curElem,o=e.curUser,c=e.setOpenSnack,s=e.setSeverity,i=Object(n.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),b=v[0],g=v[1],x=o.fname,C=o.lname,j=a._id,k=a.courseDesc,S=a.courseName,w=a.courseOutline,A=a.duration,_=a.topics,I=localStorage.getItem("uid"),N=Object(P.b)(),T=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={student_name:"".concat(x," ").concat(C),courseName:S,course_id:j,student_id:I},e.next=4,f.a.post("".concat(y.severHostedUrl,"/course/applynow"),a);case 4:(n=e.sent)&&(n.data.message?(ft.emit("changeInCourse",n.data.course),g(!0),N(W(n.data.student)),c(n.data.message),s("success")):(c(n.data.errors),s("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2}},b?"":r.a.createElement(_e.a,{expanded:"panel1"===d,onChange:(t="panel1",function(e,a){m(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Ie.a,{expandIcon:r.a.createElement(je.d,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{display:"flex",justifyContent:"flex-start",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},S[0])),r.a.createElement(h.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},S))),r.a.createElement(Ne.a,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},S),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},k),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(E.a,{ml:4},null===_||void 0===_?void 0:_.map((function(e,t){return r.a.createElement(he.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(h.a,{ml:5,variant:"body2"},A," week / weeks")),r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Outline:"),null===w||void 0===w?void 0:w.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(h.a,{color:"black",ml:5,variant:"body1"},"week ",t+1,":"),r.a.createElement(h.a,{color:"green",ml:9,variant:"body2"},e.week))}))))),r.a.createElement(Te.a,null,r.a.createElement(U.a,{title:"Enroll Now",arrow:!0},r.a.createElement(O.a,{variant:"contained",color:"success",onClick:function(e){return T(e)}},r.a.createElement(De.c,{color:"green",size:"22px"}))))))},Re=a(429),ze=a(454);function Le(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement(E.a,{width:"100%",sx:{marginX:"auto",padding:"5px"}},a===n&&r.a.createElement(r.a.Fragment,null," ",t," "))}var Pe=function(e){var t=e.tab1Label,a=e.tab2Label,o=e.tab3Label,c=e.tab4Label,s=e.panel1,i=e.panel2,u=e.panel3,d=e.panel4,m=Object(n.useState)(0),p=Object(l.a)(m,2),v=p[0],b=p[1];return r.a.createElement(E.a,null,r.a.createElement(E.a,{sx:{borderBottom:1,borderColor:"divider"}},r.a.createElement(Re.a,{value:v,onChange:function(e,t){b(t)},textColor:"inherit",scrollButtons:"auto",variant:"scrollable",TabIndicatorProps:{sx:{backgroundColor:"green",height:"5px"}}},r.a.createElement(ze.a,{label:t}),r.a.createElement(ze.a,{label:a}),o?r.a.createElement(ze.a,{label:o}):"",c?r.a.createElement(ze.a,{label:c}):"")),r.a.createElement(Le,{value:v,index:0},s),r.a.createElement(Le,{value:v,index:1},i),u?r.a.createElement(Le,{value:v,index:2},u):"",d?r.a.createElement(Le,{value:v,index:3},d):"")},We=a(72),Fe=function(e){var t,a=e.curCor,o=(e.ind,Object(n.useState)(!1)),c=Object(l.a)(o,2),s=c[0],i=c[1],u=Object(n.useState)({}),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)([]),g=Object(l.a)(b,2),x=g[0],C=g[1],j=Object(v.g)(),k=m.courseName,S=m.courseDesc,w=m.topics,A=m.duration,_=m.courseOutline,I=function(){var e=Object(Z.a)(Q.a.mark((function e(){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=null===x||void 0===x?void 0:x.find((function(e){return e._id===a.id})))){e.next=6;break}p(t),e.next=11;break;case 6:return e.next=8,f.a.post("".concat(y.severHostedUrl,"/course/getcourse"),{id:a.id});case 8:n=e.sent,p(n.data.DBcourse),C([].concat(Object(ge.a)(x),[n.data.DBcourse]));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginBottom:2,width:"100%"}},r.a.createElement(_e.a,{width:"100%",expanded:"panel1"===s,onClick:I,onChange:(t="panel1",function(e,a){i(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Ie.a,{expandIcon:r.a.createElement(je.d,{onClick:I}),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(E.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===a||void 0===a?void 0:a.name[0])),r.a.createElement(h.a,{ml:3,variant:"body1",color:"green",sx:{wordWrap:"break-word",paddingX:.5}},null===a||void 0===a?void 0:a.name)),r.a.createElement(U.a,{title:"Preview"},r.a.createElement(O.a,{color:"success",onClick:function(e){return j.push("/".concat(null===a||void 0===a?void 0:a.id))}}," ",r.a.createElement(We.a,{color:"black",size:"22px"}))))),r.a.createElement(Ne.a,null,r.a.createElement(K.a,{container:!0,display:"flex"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Name:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},k),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Description:"),r.a.createElement(h.a,{color:"green",ml:5,variant:"body2"},S),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Topics:"),r.a.createElement(E.a,{ml:4},null===w||void 0===w?void 0:w.map((function(e,t){return r.a.createElement(he.a,{key:t,sx:{marginLeft:1,marginBottom:1},color:"success",size:"small",label:e.label,variant:"outlined"})}))),r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Duration:"),r.a.createElement(h.a,{ml:5,variant:"body2"},A," week / weeks")),r.a.createElement(K.a,{item:!0,xs:12,sm:6,sx:{wordWrap:"break-word"}},r.a.createElement(h.a,{color:"black",variant:"subtitle2"},"Course Outline:"),null===_||void 0===_?void 0:_.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(h.a,{color:"black",ml:5,variant:"body1"},"week ",t+1,":"),r.a.createElement(h.a,{color:"green",ml:9,variant:"body2"},e.week))})))))))},Me=function(e){var t,a=e.curUser,o=e.courses,c=e.setAuth,s=Object(n.useState)(!0),i=Object(l.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),v=p[0],b=p[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),O=x[0],C=x[1],j=function(){var e=Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.filter((function(e){return!0===e.removedByTeacher})))){e.next=6;break}return e.next=5,f.a.post("".concat(y.severHostedUrl,"/course/delcoursefromstudent"),{id:null===a||void 0===a?void 0:a._id});case 5:setTimeout((function(){d(!1)}),6e4);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),r.a.createElement(E.a,{className:"_main"},r.a.createElement(V,{curUser:a,setAuth:c}),r.a.createElement(E.a,{width:"100%"},v?r.a.createElement(w,{openSnack:v,severity:O,text:v,setOpenSnack:b}):"",r.a.createElement(E.a,{mx:"auto",mt:2,maxWidth:"800px",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(Pe,{tab1Label:"Available Courses",panel1:r.a.createElement(E.a,{width:"100%",mt:4.2},r.a.createElement(E.a,{mb:2,display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Available Courses")),(null===o||void 0===o?void 0:o.length)>0&&(null===a||void 0===a?void 0:a.atClass)?null===o||void 0===o?void 0:o.map((function(e,t){return r.a.createElement(Ue,{setOpenSnack:b,setSeverity:C,key:t,curElem:e,curUser:a})})):(null===a||void 0===a?void 0:a.atClass)?r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Course Available...")):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Please Set Your class to get Available Courses.."))),tab2Label:"Enrolled Courses",panel2:r.a.createElement(E.a,{width:"100%",mt:3},r.a.createElement(E.a,{mb:2,display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Enrolled Courses")),r.a.createElement(E.a,null,(null===a||void 0===a||null===(t=a.courses)||void 0===t?void 0:t.length)>0?null===a||void 0===a?void 0:a.courses.map((function(e,t){return e.removedByTeacher&&u?r.a.createElement(E.a,{key:t,width:"100%",textAlign:"center",mt:1,py:2,sx:{borderRadius:1,backgroundColor:"#ff0000d1","&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(h.a,{variant:"body1",color:"white"},'You Were Removed from "',e.name,'"')):r.a.createElement(Fe,{curCor:e,key:t,ind:t})})):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently Not Enrolled In Any Course..."))))}))))},Be=function(e){var t=e.curUser,a=e.setAuth,n=Object(P.c)((function(e){return e.usersReducer.course})),o=Object(P.c)((function(e){return e.usersReducer.studentCourse}));return"teacher"===t.roll?r.a.createElement(Ae,{curUser:t,course:n,setAuth:a}):r.a.createElement(Me,{curUser:t,courses:o,setAuth:a})},Ye=function(e){var t=e.userName,a=e.autoFocus,n=e.placeholder,o=e.value,c=e.setValue,l=e.name,s=e.color,i=e.submitFunc,u=e.type;return r.a.createElement(E.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:1,marginBottom:2,justifySelf:"flex-end",padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a,{display:"flex",justifyContent:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},t)),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(x.a,{autoFocus:a,name:l,type:u,placeholder:n,value:o,onChange:function(e){return c(e.target.value)},autoComplete:"off",fullWidth:!0,multiline:!0,color:s,InputProps:{endAdornment:r.a.createElement(We.b,{onClick:function(e){return i(e)},size:"26px",color:"green",style:{margin:"auto 1 0 0",cursor:"pointer"}})}})))))},He=a(205),Ge=a.n(He),Ve=function(e){var t=e.color,a=e.timeColor,n=e.nameFirestLetter,o=e.name,c=e.time,l=e.message;return r.a.createElement(E.a,{sx:{width:"100%",borderRadius:"7.5px",marginTop:3,padding:"1rem 1.5rem",border:"1.8px solid #00000033"}},r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a,{display:"flex",justifyContent:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:t,textTransform:"capitalize"}},n)),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{variant:"subtitle1",color:t,sx:{textTransform:"capitalize"}},r.a.createElement("b",null,o)),r.a.createElement(h.a,{variant:"body2",color:a}," ",c)))),r.a.createElement(E.a,{width:"100%",mt:2,sx:{wordWrap:"break-word",paddingLeft:5}},r.a.createElement(h.a,{variant:"subtitle2"},l)))},qe=a(54),Xe=a.n(qe),Ke=function(e){var t,a=e.curUser,o=e.currentCourse,c=Object(n.useState)(""),s=Object(l.a)(c,2),i=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(l.a)(m,2),v=p[0],b=p[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),O=x[0],C=x[1],j=Object(n.useState)(""),k=Object(l.a)(j,2),S=k[0],A=k[1],_=Object(P.b)();Object(n.useEffect)((function(){if(o&&a){var e,t=null===o||void 0===o||null===(e=o.students)||void 0===e?void 0:e.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)}));(null===t||void 0===t?void 0:t.muted)?b(!0):b(!1)}}));var I=a||{},N=I._id,T=I.fname,D=I.lname,U=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,r,c,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=i.trim())){e.next=12;break}return n="".concat(T," ").concat(D),r=Xe()().format("hh:mm A"),c={id:N,name:n,time:r,message:a,courseID:null===o||void 0===o?void 0:o._id},e.next=8,f.a.post("".concat(y.severHostedUrl,"/course/sendmessage"),c);case 8:(l=e.sent)&&(u(""),l.data.message?(ft.emit("msgSentInStream",l.data.course),_(M(l.data.course)),C(l.data.message),A("success")):(C(l.data.error),A("error"))),e.next=14;break;case 12:C("Please write something"),A("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(E.a,{maxWidth:"1100px",display:"flex",flexDirection:"column",justifyContent:"center",sx:{marginX:"auto"}},O?r.a.createElement(w,{openSnack:O,severity:S,text:O,setOpenSnack:C}):"",r.a.createElement(E.a,{sx:{width:"100%",height:"240px",borderRadius:"10px",marginTop:3}},r.a.createElement("img",{src:Ge.a,width:"100%",height:"100%",style:{borderRadius:"10px"},alt:"BackGround Image"})),null===o||void 0===o||null===(t=o.chat)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(Ve,{color:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"green":"#ba000d",timeColor:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"#2e7d32de":"#ba000db8",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})),v?r.a.createElement(E.a,{mt:3,border:"1px solid red",borderRadius:2,width:"100%",py:3,textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"red"},"You Can't send Message Because You're Muted...")):r.a.createElement(Ye,{name:"message",autoFocus:!0,value:i,setValue:u,placeholder:"Add comment to All Students",color:"success",submitFunc:U,userName:null===a||void 0===a?void 0:a.fname[0]})):r.a.createElement(d,null)},Je=function(e){var t=e.currentCourse,a=e.curUser,o=Object(n.useState)(null),c=Object(l.a)(o,2),s=c[0],i=c[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(""),b=Object(l.a)(v,2),g=b[0],x=b[1],C=Object(n.useState)(""),j=Object(l.a)(C,2),k=j[0],S=j[1],A=Object(n.useState)(""),_=Object(l.a)(A,2),I=_[0],N=_[1],T=function(){p(!m)},D=a||{},U=D._id,R=D.fname,z=D.lname,L=function(){var e=Object(Z.a)(Q.a.mark((function e(a){var n,r,o,c,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=g.trim())){e.next=12;break}return r="".concat(R," ").concat(z),o=Xe()().format("hh:mm A"),c={id:U,name:r,time:o,message:n,courseID:null===t||void 0===t?void 0:t._id},e.next=8,f.a.post("".concat(y.severHostedUrl,"/course/announcement"),c);case 8:(l=e.sent)&&(x(""),T(),l.data.message?(S(l.data.message),N("success"),ft.emit("changeInCourse",l.data.course),i(l.data.course.announcement)):(S(l.data.error),N("error"))),e.next=14;break;case 12:S("Write something"),N("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(null===t||void 0===t?void 0:t.announcement)}),[t]),r.a.createElement(E.a,{maxWidth:"1100px",minHeight:"77vh",display:"flex",flexDirection:"column",sx:{marginX:"auto"}},k?r.a.createElement(w,{openSnack:k,severity:I,text:k,setOpenSnack:S}):"","teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement("div",null,m?r.a.createElement(Ye,{name:"announce",autoFocus:!0,value:g,setValue:x,type:"text",placeholder:"Write Announcement",color:"success",submitFunc:L,userName:null===a||void 0===a?void 0:a.fname[0]}):"",r.a.createElement(E.a,{onClick:T,sx:{width:"100%","&:hover":{color:"green",cursor:"pointer"},borderRadius:"12px",backgroundColor:"#00710012",padding:"1rem 1.5rem",boxShadow:4}},r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},"r")),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{color:"#0000009c",sx:{fontSize:"14px","&:hover":{color:"green",cursor:"pointer",textDecoration:"underline"}}},"Announce Something to Your Students")),r.a.createElement(E.a,null,r.a.createElement(O.a,{sx:{borderRadius:5},size:"small"},r.a.createElement(De.a,{size:"23px"}))))))):r.a.createElement(E.a,{borderBottom:"1px solid #00800059",display:"flex",justifyContent:"flex-start",pb:2,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Announcements")),null===s||void 0===s?void 0:s.map((function(e,t){return r.a.createElement(Ve,{color:"green",timeColor:"#2e7d32de",curUser:a,key:t,nameFirestLetter:e.name[0],name:(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e.id)?"Me":e.name,time:e.time,message:e.message})})))},Qe=function(e){var t,a,o=e.currentCourse,c=e.curUser,s=Object(n.useState)(null===o||void 0===o?void 0:o.students),i=Object(l.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)(null),v=Object(l.a)(p,2),b=v[0],g=v[1],x=Object(n.useState)(""),C=Object(l.a)(x,2),k=C[0],S=C[1],A=Object(n.useState)(""),_=Object(l.a)(A,2),T=_[0],D=_[1],U=Object(n.useState)(""),R=Object(l.a)(U,2),z=R[0],L=R[1],P=Object(n.useState)(""),W=Object(l.a)(P,2),F=W[0],M=W[1],B=Object(n.useState)(""),Y=Object(l.a)(B,2),H=Y[0],G=Y[1],V=Boolean(b),q=c||{},K=q._id,J=q.fname,$=q.lname,ee=function(e){D(""),S(""),L(""),g(e.currentTarget)},te=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={studentID:t,courseID:null===o||void 0===o?void 0:o._id},e.next=4,f.a.post("".concat(y.severHostedUrl,"/course/delspecificstudent"),a);case 4:(n=e.sent)&&(n.data.message?(ft.emit("changeInCourse",n.data.course),d(n.data.course.students),M(n.data.message),G("success")):(M(n.data.error),G("error"))),ne(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),ne();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ne(),e.next=4,f.a.post("".concat(y.severHostedUrl,"/course/mutestudent"),{courseID:null===o||void 0===o?void 0:o._id,studentID:t});case 4:(a=e.sent)&&(ft.emit("changeInCourse",a.data.course),d(a.data.course.students),a.data.message?(M(a.data.message),G("success")):(M(a.data.error),G("error"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),ne();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){g(null)},re=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,r,o,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=k.trim())){e.next=12;break}return n="".concat(J," ").concat($),r=Xe()().format("hh:mm:ss A"),o={senderID:K,senderName:n,time:r,message:a,recieverID:T,recieverName:z},e.next=8,f.a.post("".concat(y.severHostedUrl,"/user/sendmsg"),o);case 8:(c=e.sent)&&(c.data.message?(ft.emit("changeInConversation",c.data.conversation),M(c.data.message),G("success")):(M(c.data.error),G("error")),S(""),D(""),L("")),e.next=14;break;case 12:M("write something"),G("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,null,r.a.createElement(E.a,{sx:{maxWidth:"760px",margin:"0 auto"}},F?r.a.createElement(w,{openSnack:F,severity:H,text:F,setOpenSnack:M}):"",r.a.createElement(E.a,{display:"flex",justifyContent:"space-between",pb:1,px:2,borderBottom:"1.5px solid #009c0052",width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"Students"),r.a.createElement(h.a,{variant:"body1",mt:3,color:"green"},(null===o||void 0===o||null===(t=o.students)||void 0===t?void 0:t.length)>0?u.length:"No"," students")),(null===o||void 0===o||null===(a=o.students)||void 0===a?void 0:a.length)>0?u.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(E.a,Object(m.a)({p:"10px 20px",mt:1,width:"85%",display:"flex",justifyContent:"space-between",sx:{borderRadius:"10px","&:hover":{backgroundColor:"#009c0026",boxShadow:3,cursor:"pointer"}}},"width","100%"),r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},e.name[0])),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px"}},e.name))),r.a.createElement(O.a,{id:"basic-button",sx:{color:"black",borderRadius:5},"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":V?"true":void 0,onClick:ee,size:"small"},r.a.createElement(j.b,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(I.a,{id:"basic-menu",anchorEl:b,open:V,onClose:ne,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(N.a,{onClick:function(){D(e.id),L(e.name),ne()}},"Send Message to ",null===e||void 0===e?void 0:e.name),r.a.createElement(N.a,{onClick:function(){return te(e.id)}},"Remove"),r.a.createElement(N.a,{onClick:function(){return ae(e.id)}},e.muted?"Unmute":"Mute"))),T?r.a.createElement(Ye,{name:"message",autoFocus:!0,value:k,setValue:S,type:"text",placeholder:"Write Message for this student",color:"success",submitFunc:re,userName:null===c||void 0===c?void 0:c.fname[0]}):"")})):r.a.createElement(E.a,{pt:9,width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Students..."))))},Ze=function(e){var t=e.currentCourse,a=e.btnTitle,o=e.tooltipTitle,c=e.curUser,s=e.btnIcon,i=e.dialogTitle,u=e.actionTitle,d=e.isTeacher,m=e.btnStartIcon,p=e.btnColor,v=e.btnVariant,b=e.currentAssignment,g=e.input2label,C=e.setOpenSnack,j=e.setSeverity,k=e.setAllAssignments,S=Object(n.useState)(!1),w=Object(l.a)(S,2),A=w[0],_=w[1],I=Object(n.useState)(null),N=Object(l.a)(I,2),T=N[0],D=N[1],R=function(){_(!1)},z=Object(P.b)(),L=Object(ne.a)({initialValues:{title:d?"":null===b||void 0===b?void 0:b.title,desc:""},validationSchema:re.b().shape({title:re.c().required("Title is Required Field...")}),onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(a){var n,r,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,T||a.desc){e.next=6;break}C("You cannot leave both files and description blank at the same time"),j("error"),e.next=27;break;case 6:if(n=new FormData,!a.desc&&T?n.append("myFile",T):!T&&a.desc?n.append("desc",a.desc):(n.append("desc",a.desc),n.append("myFile",T)),r={headers:{"content-type":"multipart/form-data"}},!d){e.next=18;break}return n.append("title",a.title),n.append("courseID",null===t||void 0===t?void 0:t._id),e.next=14,f.a.post("".concat(y.severHostedUrl,"/assignment/add"),n,r);case 14:(o=e.sent)&&(R(),D(null),a={},o.data.message?(k(o.data.allAssignment),console.log("res.data.assignment",o.data.allAssignment),ft.emit("assignmentAdd",o.data.allAssignment),z(B(o.data.allAssignment)),C(o.data.message),j("success")):(C(o.data.error),j("error"))),e.next=27;break;case 18:return n.append("assignmentID",null===b||void 0===b?void 0:b._id),n.append("id","".concat(null===c||void 0===c?void 0:c._id)),n.append("name","".concat(null===c||void 0===c?void 0:c.fname," ").concat(null===c||void 0===c?void 0:c.lname)),n.append("time",Xe()().format("hh:mm:ss A")),R(),e.next=25,f.a.post("".concat(y.severHostedUrl,"/assignment/submit"),n,r);case 25:(l=e.sent)&&(D(null),ft.emit("changeInAssignment",l.data.assignment),l.data.message?(C(l.data.message),j("success")):(C(l.data.error),j("error")));case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0),R();case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{title:o,arrow:!0},r.a.createElement(O.a,{startIcon:m,onClick:function(){_(!0)},color:p,sx:{marginTop:d?3:0,borderRadius:5},variant:v},a||s)),r.a.createElement($.a,{open:A,onClose:R,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ee.a,null,i),r.a.createElement(te.a,null,r.a.createElement("form",{method:"POST"},r.a.createElement(x.a,{autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",variant:"filled",value:d?L.values.title:null===b||void 0===b?void 0:b.title,onChange:L.handleChange("title"),autoComplete:"off",disabled:!d,fullWidth:!0,color:"success",inputProps:{maxLength:32,required:!0}}),L.errors.title&&L.touched.title&&r.a.createElement("p",{style:{color:"red",marginLeft:"5px"}},L.errors.title),r.a.createElement(x.a,{margin:"dense",name:"desc",label:g,type:"text",variant:"filled",value:L.values.desc,onChange:L.handleChange("desc"),autoComplete:"off",fullWidth:!0,color:"success",multiline:!0,minRows:2,inputProps:{maxLength:500}}),r.a.createElement(E.a,{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},r.a.createElement(E.a,{border:"1px solid rgba(0, 0, 0, 0.09)",px:"14px",mt:1,py:"7px",flexGrow:1},r.a.createElement(h.a,{variant:"subtitle1"},T?T.name:"No File Selected")),r.a.createElement(U.a,{title:"Attech File",arrow:!0},r.a.createElement(O.a,{component:"label",sx:{borderRadius:5}},r.a.createElement(De.b,{size:"20px",color:"white"}),r.a.createElement("input",{type:"file",onChange:function(e){return function(e){var t=e.target.files[0];t&&(t.size/1024/1024>10?(C("file Size is too long"),j("error")):D(t))}(e)},accept:".zip,.txt,.psd,.pptx,.pptx,.png,.jpeg,.jpg,.pdf,.docx,.doc",hidden:!0})))))),r.a.createElement(ae.a,null,r.a.createElement(O.a,{onClick:L.handleSubmit,color:"success",variant:"contained"},u),r.a.createElement(O.a,{onClick:R,color:"success",variant:"outlined"},"cancel"))))},$e=function(e){var t,a=e.curUser,o=e.isTeacher,c=e.assignment,s=e.setCurrentAssignmentID,i=e.setChecked,u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(null),b=Object(l.a)(v,2),f=b[0],g=b[1],x=Boolean(f),C=function(e){g(null)};return r.a.createElement("div",null,r.a.createElement(_e.a,{expanded:"panel1"===m,onChange:(t="panel1",function(e,a){p(!!a&&t)}),sx:{marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Ie.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},r.a.createElement(je.b,{size:"20px",color:"white"}))),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px"}},null===c||void 0===c?void 0:c.title))),r.a.createElement(E.a,{display:"flex",alignItems:"center"},(null===c||void 0===c?void 0:c.file)?r.a.createElement(U.a,{arrow:!0,title:"View file"},r.a.createElement(O.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===c||void 0===c?void 0:c.file},r.a.createElement(We.a,{size:"23px",style:{margin:"auto 0px"}}))):"",o?r.a.createElement(E.a,null,r.a.createElement(O.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":x?"true":void 0,onClick:function(e){e.stopPropagation(),g(e.currentTarget)}},r.a.createElement(je.e,{size:"23px",style:{margin:"auto 0px"}})),r.a.createElement(I.a,{id:"basic-menu",anchorEl:f,open:x,onClose:C,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(N.a,{onClick:function(e){e.stopPropagation(),s(null===c||void 0===c?void 0:c._id),i(!1),C()}},"Submited"),r.a.createElement(N.a,{onClick:function(e){e.stopPropagation(),s(null===c||void 0===c?void 0:c._id),i(!0),C()}},"Checked"))):r.a.createElement(Ze,{btnIcon:r.a.createElement(je.f,{size:"23px",style:{margin:"auto 0px"}}),btnVariant:"text",btnColor:"success",tooltipTitle:"Submit Assignment",input2label:"Answers",currentAssignment:c,dialogTitle:"Submit Assignment",actionTitle:"submit",curUser:a,isTeacher:o}))),r.a.createElement(Ne.a,null,r.a.createElement(h.a,null," ",(null===c||void 0===c?void 0:c.description)?c.description:"This Assignment have no desccription"))))},et=a(86),tt=function(e){var t=e.submitted;return r.a.createElement(E.a,{width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===t||void 0===t?void 0:t.name[0])),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===t||void 0===t?void 0:t.name)),r.a.createElement(h.a,{mr:2,variant:"body1"},Math.round(null===t||void 0===t?void 0:t.marks)," Marks")))},at=a(206),nt=function(e){var t=e.submitted,a=e.assignmentID,o=e.checked,c=e.setOpenSnack,s=e.setSeverity,i=Object(P.c)((function(e){return e.usersReducer.curUser})),u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(!1),b=Object(l.a)(v,2),g=b[0],x=b[1],C=Object(n.useState)(Number(0)),j=Object(l.a)(C,2),k=j[0],S=j[1],w=Object(n.useState)(!1),A=Object(l.a)(w,2),_=A[0],I=A[1];console.log("checkedInSubmittedAccordion",o);var N,T=function(){var e=Object(Z.a)(Q.a.mark((function e(n){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k&&k>=0&&k<=100)){e.next=13;break}return e.prev=1,e.next=4,f.a.post("".concat(y.severHostedUrl,"/assignment/givemarks"),{studentID:null===t||void 0===t?void 0:t.id,assignmentID:a,marks:k});case 4:(r=e.sent)&&(ft.emit("changeInAssignment",r.data.assignment),x(!0),r.data.message?(c(r.data.message),s("success")):(c(r.data.error),s("error"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=15;break;case 13:c("Failed to Giving Marks..."),s("error");case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,null,g?"":r.a.createElement(E.a,null,r.a.createElement(_e.a,{expanded:"panel1"===_,onChange:(N="panel1",function(e,t){I(!!t&&N)}),sx:{backgroundColor:"#00800012",borderRadius:1,marginTop:1,"&:hover":{boxShadow:3,cursor:"pointer"}}},r.a.createElement(Ie.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===t||void 0===t?void 0:t.name[0])),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px"}},null===t||void 0===t?void 0:t.name))),r.a.createElement(E.a,{display:"flex",alignItems:"center"},(null===t||void 0===t?void 0:t.file)?r.a.createElement(U.a,{arrow:!0,title:"View file"},r.a.createElement(O.a,{sx:{color:"black",borderRadius:5},size:"small",onClick:function(e){return function(e){e.stopPropagation()}(e)},target:"_blanck",href:null===t||void 0===t?void 0:t.file},r.a.createElement(We.a,{size:"23px",style:{margin:"auto 0px"}}))):"",r.a.createElement(E.a,null,r.a.createElement(U.a,{title:"Give Marks"},r.a.createElement(O.a,{sx:{color:"green",borderRadius:5},size:"small",id:"basic-button",onClick:function(e){e.stopPropagation(),p(!m)}},r.a.createElement(at.a,{size:"23px",style:{margin:"auto 0px"}})))))),r.a.createElement(Ne.a,null,r.a.createElement(h.a,null,null===t||void 0===t?void 0:t.desc))),r.a.createElement(E.a,{mx:1,onClick:function(e){e.stopPropagation()}},m?r.a.createElement(Ye,{name:"marks",autoFocus:!0,value:k,setValue:S,type:"number",placeholder:"Give Marks Out of 100",color:"success",submitFunc:T,userName:null===i||void 0===i?void 0:i.fname[0]}):"")))},rt=function(e){var t,a,o,c=e.currentAssignmentID,s=e.checked,i=Object(P.c)((function(e){return e.usersReducer.currentAssignment})),u=Object(n.useState)(i),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),x=g[0],C=g[1],j=Object(n.useState)(""),k=Object(l.a)(j,2),S=k[0],A=k[1],_=Object(P.b)(),I=Object(v.g)();return Object(n.useEffect)((function(){ft.on("CHANGE_IN_ASSIGNMENT",(function(e){(null===i||void 0===i?void 0:i._id)===e._id&&(p(e),_(Y(e)))}))})),Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(y.severHostedUrl,"/assignment/submitted/").concat(c));case 2:(t=e.sent)&&(_(Y(t.data.assignment)),p(t.data.assignment));case 4:case"end":return e.stop()}}),e)}))),[]),r.a.createElement(E.a,null,x?r.a.createElement(w,{openSnack:x,severity:S,text:x,setOpenSnack:C}):"",r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(U.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(O.a,{onClick:function(){return I.push("/coursedetails")},startIcon:r.a.createElement(et.a,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(E.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},s?"Checked ":"Submitted "," Students"),r.a.createElement(h.a,{variant:"body1",mt:2,color:"green"},"(",null===m||void 0===m?void 0:m.title,")")),s?null===m||void 0===m||null===(t=m.submitted)||void 0===t?void 0:t.map((function(e,t){return e.marks?r.a.createElement(tt,{key:t,submitted:e}):""})):(null===m||void 0===m||null===(a=m.submitted)||void 0===a?void 0:a.length)>0?null===m||void 0===m||null===(o=m.submitted)||void 0===o?void 0:o.map((function(e,t){return e.marks?"":r.a.createElement(nt,{checked:s,key:t,submitted:e,assignmentID:null===m||void 0===m?void 0:m._id,setOpenSnack:C,setSeverity:A})})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Student Submit this Assignment")))},ot=function(e){var t=e.currentCourseID,a=Object(P.c)((function(e){return e.usersReducer.curUser})),o=Object(n.useState)(null),c=Object(l.a)(o,2),s=c[0],i=c[1],u=Object(v.g)(),d=Object(P.b)();return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(y.severHostedUrl,"/assignment/studentallchecked"),{courseID:t,studentID:null===a||void 0===a?void 0:a._id});case 3:(n=e.sent)&&(i(n.data.checked),d({type:"CHECKED_ASSIGNMENTS",payload:n.data.checked})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},r.a.createElement(U.a,{title:"Back to Course Details",arrow:!0},r.a.createElement(O.a,{onClick:function(){return u.push("/coursedetails")},startIcon:r.a.createElement(et.a,{color:"inherit",size:"22px"}),color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Back"))),r.a.createElement(E.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"space-between",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},"All Checked Assignments"),r.a.createElement(h.a,{variant:"body1",mt:2,color:"green"},"(Assignment Name)"))),(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((function(e,t){var n=e.submitted.find((function(e){return e.id===a._id})),o=null===n||void 0===n?void 0:n.marks;return r.a.createElement(E.a,{key:t,width:"100%",mx:1,mb:1,sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{cursor:"pointer",boxShadow:4,backgroundColor:"#0080000c"},borderRadius:"12px",padding:"1rem 0px 1rem 1.5rem"}},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{width:"65px"},r.a.createElement(X.a,{sx:{bgcolor:"green",textTransform:"capitalize"}},null===e||void 0===e?void 0:e.title[0])),r.a.createElement(E.a,{flexGrow:1},r.a.createElement(h.a,{variant:"h6",color:"#0000009c",sx:{color:"green",cursor:"pointer"}},null===e||void 0===e?void 0:e.title)),r.a.createElement(h.a,{mr:2,variant:"body1"},o," Marks")))})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"No Assignment Checked")))},ct=function(e){var t=e.curUser,a=e.isTeacher,o=e.currentCourse,c=Object(P.c)((function(e){return e.usersReducer.allAssignments})),s=Object(n.useState)(c),i=Object(l.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),v=p[0],b=p[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),C=x[0],j=x[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),A=S[0],_=S[1],I=Object(n.useState)(""),N=Object(l.a)(I,2),T=N[0],D=N[1],R=Object(n.useState)(""),z=Object(l.a)(R,2),L=z[0],W=z[1],F=Object(P.b)();return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(y.severHostedUrl,"/assignment/allassignments"),{courseID:null===o||void 0===o?void 0:o._id});case 3:(t=e.sent)&&(F(B(t.data.allAssignments)),d(t.data.allAssignments)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement(E.a,{sx:{maxWidth:"760px",margin:"0 auto"}},T?r.a.createElement(w,{openSnack:T,severity:L,text:T,setOpenSnack:D}):"",v&&a?r.a.createElement(rt,{checked:A,currentAssignmentID:v}):!a&&C?r.a.createElement(ot,{currentCourseID:C}):r.a.createElement(E.a,null,r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",px:2,width:"100%"},a?r.a.createElement(Ze,{btnTitle:"create",btnVariant:"contained",btnColor:"success",input2label:"Questions and Instructions",tooltipTitle:"Create Assignment",btnStartIcon:r.a.createElement(je.a,{size:"20px",color:"white"}),dialogTitle:"Create Assignment or Questions",actionTitle:"create",currentCourse:o,isTeacher:a,setOpenSnack:D,setSeverity:W,setAllAssignments:d}):r.a.createElement(U.a,{title:"Go to checked Assignments",arrow:!0},r.a.createElement(O.a,{onClick:function(){return j(null===o||void 0===o?void 0:o._id)},color:"success",sx:{marginTop:3,borderRadius:5},variant:"contained"},"Checked"))),r.a.createElement(E.a,{display:"flex",justifyContent:"flex-start",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h4",color:"green"},a?"":"Non Submitted ","Assignments")),(null===u||void 0===u?void 0:u.length)>0?null===u||void 0===u?void 0:u.map((function(e,n){if(!(null===e||void 0===e?void 0:e.submitted.find((function(e){return e.id===t._id}))))return r.a.createElement($e,{key:n,curUser:t,isTeacher:a,assignment:e,setCurrentAssignmentID:b,setChecked:_})})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently No Assignments"))))},lt=Object(ue.a)({class_materials:{width:"100vw",height:"100vh"}}),st=function(e){var t,a=e.curUser,o=e.setAuth,c=Object(P.c)((function(e){return e.usersReducer.currentCourse})),s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(n.useState)(""),b=Object(l.a)(p,2),h=b[0],g=(b[1],Object(n.useState)(null)),x=Object(l.a)(g,2),O=x[0],C=x[1],j=Object(n.useState)(!0),k=Object(l.a)(j,2),S=k[0],A=k[1],_=null===c||void 0===c||null===(t=c.students)||void 0===t?void 0:t.find((function(e){return e.id===(null===a||void 0===a?void 0:a._id)})),I=lt(),N=Object(v.h)(),T=Object(v.g)(),D=Object(P.b)();return Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(y.severHostedUrl,"/course/specific"),{id:N.id});case 3:(t=e.sent).data.currentCourse?(D(M(t.data.currentCourse)),C(!0),A(!1)):(console.log(t.data.error),C(!1),A(!1),T.push("/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),T.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(n.useEffect)((function(){ft.on("CHANGE_IN_COURSE",(function(e){(null===c||void 0===c?void 0:c._id)===e._id&&D(M(e))}))}),[]),S?r.a.createElement(d,null):r.a.createElement(E.a,{className:I.class_materials},r.a.createElement(V,{curUser:a,setAuth:o}),O&&("student"===(null===a||void 0===a?void 0:a.roll)&&_||"teacher"===(null===a||void 0===a?void 0:a.roll)&&(null===c||void 0===c?void 0:c.teacher_id)===(null===a||void 0===a?void 0:a._id))?r.a.createElement(E.a,null,u?r.a.createElement(w,{openSnack:u,severity:h,text:u,setOpenSnack:m}):"",r.a.createElement(Pe,{tab1Label:"Stream",panel1:r.a.createElement(Ke,{currentCourse:c,curUser:a}),tab2Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Class Work":"Assignments",panel2:r.a.createElement(ct,{isTeacher:"teacher"===(null===a||void 0===a?void 0:a.roll),currentCourse:c,curUser:a}),tab3Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Students":"Announcement",panel3:"teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement(Qe,{currentCourse:c,curUser:a}):r.a.createElement(Je,{currentCourse:c,curUser:a}),tab4Label:"teacher"===(null===a||void 0===a?void 0:a.roll)?"Announcement":"",panel4:"teacher"===(null===a||void 0===a?void 0:a.roll)?r.a.createElement(Je,{currentCourse:c,curUser:a}):""})):T.push("/coursedetails"))};var it=function(){return r.a.createElement("div",null,r.a.createElement(E.a,{sx:{color:"green",backgroundColor:"#fff",width:"100%",height:"100%"},open:!0},r.a.createElement(u.a,{color:"inherit"})))},ut=function(e){var t=e.curUser,a=e.id,o=e.allConversationsArray,c=Object(P.c)((function(e){return e.usersReducer.currentConversation})),s=Object(n.useState)({}),i=Object(l.a)(s,2),u=i[0],d=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),b=p[0],g=p[1],x=Object(n.useState)(""),C=Object(l.a)(x,2),j=C[0],k=C[1],S=Object(n.useState)(""),A=Object(l.a)(S,2),_=A[0],I=A[1],N=Object(n.useState)(!0),T=Object(l.a)(N,2),D=T[0],U=T[1],R=Object(v.g)(),z=Object(P.b)(),L=t||{},W=L._id,F=L.fname,M=L.lname,B=function(){var e=Object(Z.a)(Q.a.mark((function e(){var a,n,r,o,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=_.trim())){e.next=12;break}return n="".concat(F," ").concat(M),r=Xe()().format("hh:mm:ss A"),o={_id:null===u||void 0===u?void 0:u._id,senderID:W,name:n,time:r,message:a,recieverID:(null===t||void 0===t?void 0:t._id)===(null===u||void 0===u?void 0:u.user1ID)?null===u||void 0===u?void 0:u.user2ID:null===u||void 0===u?void 0:u.user1ID},e.next=8,f.a.post("".concat(y.severHostedUrl,"/user/sendmsg"),o);case 8:(c=e.sent)&&(c.data.message?(d(c.data.conversation),ft.emit("changeInConversation",c.data.conversation),g(c.data.message),k("success")):(g(c.data.error),k("error")),I("")),e.next=14;break;case 12:g("write something"),k("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.find((function(e){return e._id===a}));z({type:"CURRENT_CONVERSATION",payload:e}),d(e),U(!1)}),[]),Object(n.useEffect)((function(){d(c)}),[c]),r.a.createElement(E.a,{mx:"auto",maxHeight:"85vh",sx:{overflowY:"auto"},maxWidth:"900px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",mt:5},b?r.a.createElement(w,{openSnack:b,severity:j,text:b,setOpenSnack:g}):"",r.a.createElement(E.a,{display:"flex",justifyContent:"flex-end",pb:1,pr:2,width:"100%"},r.a.createElement(O.a,{startIcon:r.a.createElement(et.a,{size:"22px",color:"white"}),variant:"contained",onClick:function(){return R.push("/messages")},size:"small",color:"success",sx:{borderRadius:5}},"Back")),r.a.createElement(E.a,{display:"flex",borderBottom:"1px solid #00800085",justifyContent:"flex-start",pb:1,pl:2,width:"100%"},r.a.createElement(h.a,{variant:"h5",color:"green",sx:{textTransform:"capitalize"}},(null===t||void 0===t?void 0:t._id)===(null===u||void 0===u?void 0:u.user1ID)?null===u||void 0===u?void 0:u.user1Name:null===u||void 0===u?void 0:u.user2Name)),r.a.createElement(E.a,{width:"100%",display:"flex",flexDirection:"column",minHeight:"71vh",px:1.5},r.a.createElement(E.a,{width:"100%",flexGrow:1},D?r.a.createElement(it,null):null===u||void 0===u?void 0:u.chat.map((function(e,a){return r.a.createElement(Ve,{key:a,color:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"green":"#ba000d",timeColor:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"#2e7d32de":"#ba000db8",nameFirestLetter:(null===e||void 0===e?void 0:e.senderID)===u.user1ID?u.user1Name[0]:u.user2Name[0],name:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.senderID)?"Me":(null===e||void 0===e?void 0:e.senderID)===u.user1ID?u.user1Name:u.user2Name,time:e.time,message:e.message})}))),r.a.createElement(Ye,{name:"message",autoFocus:!0,value:_,setValue:I,type:"text",placeholder:"Write Message...",color:"success",submitFunc:B,userName:null===t||void 0===t?void 0:t.fname[0]})))},dt=function(e){var t=e.curUser,a=e.setAuth,o=Object(P.c)((function(e){return e.usersReducer.allConversations})),c=Object(n.useState)(o),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),p=m[0],v=m[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),x=(g[0],g[1],Object(P.b)());return Object(n.useEffect)((function(){u(o),console.log("changedallConversations",o)}),[o]),Object(n.useEffect)(Object(Z.a)(Q.a.mark((function e(){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(y.severHostedUrl,"/user/myallconversations/").concat(null===t||void 0===t?void 0:t._id));case 3:(a=e.sent)&&(x({type:"ALL_CONVERSATIONS",payload:a.data.allConversations}),u(a.data.allConversations)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),r.a.createElement(E.a,{className:"msgs"},r.a.createElement(V,{curUser:t,setAuth:a}),p?r.a.createElement(ut,{id:p,allConversationsArray:i,curUser:t}):r.a.createElement(E.a,{mx:"auto",px:2,maxHeight:"85vh",sx:{overflowY:"auto"},maxWidth:"900px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},r.a.createElement(E.a,{mt:5,display:"flex",borderBottom:"1px solid #00800085",justifyContent:"flex-start",pb:1,px:2,width:"100%"},r.a.createElement(h.a,{variant:"h5",color:"green"},"All Conversation")),r.a.createElement(E.a,{width:"100%"},(null===i||void 0===i?void 0:i.length)>0?i.map((function(e,a){var n=(null===t||void 0===t?void 0:t._id)===e.user1ID;return r.a.createElement(E.a,{sx:{cursor:"pointer"},onClick:function(){return v(e._id)},mt:2,key:a,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(E.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(E.a,{minWidth:"65px"},r.a.createElement(X.a,{sizes:"50px",sx:{bgcolor:"green",textTransform:"capitalize"}},n?e.user2Name[0]:e.user1Name[0])),r.a.createElement(E.a,null,r.a.createElement(h.a,{sx:{fontSize:"16px",textTransform:"capitalize"}},n?e.user2Name:e.user1Name))),r.a.createElement(E.a,{mt:1},r.a.createElement(h.a,{sx:{fontSize:"12px"},color:"green"},e.chat.length," Messages")))})):r.a.createElement(E.a,{pt:9,borderTop:"1px solid green",width:"100%",textAlign:"center"},r.a.createElement(h.a,{variant:"h6",color:"green"},"Currently You Have No Conversation")))))},mt=a(210),pt=["children","auth","SuccessComp","FailComp"],vt=function(e){e.children;var t=e.auth,a=e.SuccessComp,n=e.FailComp,o=Object(mt.a)(e,pt);return r.a.createElement(v.b,Object.assign({},o,{render:function(){return t?a:n}}))},bt=y.severHostedUrl,ft=Object(s.a)(bt,{transports:["websocket"]}),Et=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],c=localStorage.getItem("uid"),s=Object(P.c)((function(e){return e.usersReducer.curUser})),i=Object(n.useState)(c||s._id),u=Object(l.a)(i,2),m=u[0],p=u[1],b=Object(n.useState)(!0),E=Object(l.a)(b,2),h=E[0],g=E[1],x=Object(P.b)();return Object(n.useEffect)((function(){var e;(a||m||g(!1),m||a)&&(g(!0),o(!0),f.a.get("".concat(y.severHostedUrl,"/user/getdata")).then((function(t){var a=t.data;(e=a.find((function(e){return e._id===c})))?(x(W(e)),"teacher"===e.roll&&f.a.post("".concat(y.severHostedUrl,"/course/mycourse"),{teacher_id:e._id}).then((function(e){var t=e.data.course;x(F(t))})).catch((function(e){return console.log(e)})),"student"===e.roll&&e.atClass&&f.a.post("".concat(y.severHostedUrl,"/course/forstudent"),{studentClass:e.atClass,studentID:c}).then((function(e){var t=e.data.courses;x(function(e){return{type:"GET_Student_COURSES",payload:e}}(t))})).catch((function(e){return console.log(e)})),p(!0),g(!1)):(g(!1),p(!1))})).catch((function(e){return console.log(e)})),ft.on("connect",(function(){})),ft.on("courseADDEDByTeacher",(function(t){var a,n;"student"===(null===(a=e)||void 0===a?void 0:a.roll)&&(null===(n=e)||void 0===n?void 0:n.atClass)==(null===t||void 0===t?void 0:t.teacherClass)&&x({type:"EDIT_AVAILABLE_COURSES",payload:t})})),ft.on("courseEditedByTeacher",(function(t){var a,n;"student"===(null===(a=e)||void 0===a?void 0:a.roll)&&(null===(n=e)||void 0===n?void 0:n.atClass)==(null===t||void 0===t?void 0:t.teacherClass)&&x({type:"UPDATE_COURSES",payload:t})})),ft.on("messageAddedStream",(function(e){x({type:"UPDATE_CURRENT_COURSE",payload:e})})),ft.on("CHANGE_IN_CONVERSATION",(function(t){var a;((null===(a=e)||void 0===a?void 0:a._id)===t.user1ID||t.user2ID)&&x({type:"UPDATE_CURRENT_CONVERSATION",payload:t})})),ft.on("ASSIGNMENT_ADDED",(function(e){x({type:"UPDATE_ALL_ASSIGNMENTS",payload:e})})))}),[a,bt]),h?r.a.createElement(d,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement(v.d,null,r.a.createElement(vt,{auth:a,exact:!0,path:"/",SuccessComp:r.a.createElement(v.a,{to:"/profile",curUser:s,setAuth:o}),FailComp:r.a.createElement(A,{setAuth:o})}),r.a.createElement(vt,{auth:a,path:"/profile",SuccessComp:r.a.createElement(ie,{curUser:s,setAuth:o}),FailComp:r.a.createElement(v.a,{to:"/"})}),r.a.createElement(vt,{auth:a,path:"/attendance",SuccessComp:r.a.createElement(Ee,{curUser:s,setAuth:o}),FailComp:r.a.createElement(v.a,{to:"/"})}),r.a.createElement(vt,{auth:a,path:"/coursedetails",SuccessComp:r.a.createElement(Be,{curUser:s,setAuth:o}),FailComp:r.a.createElement(v.a,{to:"/"})}),r.a.createElement(vt,{auth:a,path:"/messages",SuccessComp:r.a.createElement(dt,{curUser:s,setAuth:o}),FailComp:r.a.createElement(v.a,{to:"/"})}),r.a.createElement(vt,{auth:a,path:"/classmaterials",SuccessComp:r.a.createElement(v.a,{to:"/profile",curUser:s}),FailComp:r.a.createElement(v.a,{to:"/"})}),r.a.createElement(vt,{auth:a,path:"/:id",SuccessComp:r.a.createElement(st,{curUser:s,setAuth:o}),FailComp:r.a.createElement(v.a,{to:"/"})}),r.a.createElement(vt,{auth:a,path:"/*",SuccessComp:r.a.createElement(v.a,{to:"/profile"}),FailComp:r.a.createElement(v.a,{to:"/"})}))))},ht=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,455)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))},gt=a(127),xt={users:[],curUser:{},course:{},studentCourse:[],currentCourse:null,currentAssignment:null,allAssignments:null,checkedAssignments:null,allConversations:[],currentConversation:null},Ot=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"GET_USERS":return Object(p.a)(Object(p.a)({},n),{},{users:r.payload});case"CUR_USER":return Object(p.a)(Object(p.a)({},n),{},{curUser:r.payload});case"GET_COURSE":return Object(p.a)(Object(p.a)({},n),{},{course:r.payload});case"GET_Student_COURSES":return Object(p.a)(Object(p.a)({},n),{},{studentCourse:r.payload});case"EDIT_AVAILABLE_COURSES":var o=null===(e=n.studentCourse)||void 0===e?void 0:e.find((function(e){return e._id===r.payload._id}));return o?n:Object(p.a)(Object(p.a)({},n),{},{studentCourse:[].concat(Object(ge.a)(n.studentCourse),[r.payload])});case"UPDATE_COURSES":var c=n.studentCourse.find((function(e){return e._id===r.payload._id}));if(c){c=r.payload;var l=n.studentCourse.filter((function(e){return e._id!==r.payload._id})),s=[].concat(Object(ge.a)(l),[c]);return Object(p.a)(Object(p.a)({},n),{},{studentCourse:s})}return n;case"CURRENT_COURSE":return Object(p.a)(Object(p.a)({},n),{},{currentCourse:r.payload});case"UPDATE_CURRENT_COURSE":return n.currentCourse&&n.currentCourse._id===r.payload._id?Object(p.a)(Object(p.a)({},n),{},{currentCourse:r.payload}):n;case"ALL_ASSIGNMENTS":return Object(p.a)(Object(p.a)({},n),{},{allAssignments:r.payload});case"CURRENT_ASSIGNMENT":return Object(p.a)(Object(p.a)({},n),{},{currentAssignment:r.payload});case"CHECKED_ASSIGNMENTS":return Object(p.a)(Object(p.a)({},n),{},{checkedAssignments:r.payload});case"UPDATE_ALL_ASSIGNMENTS":return n.allAssignments&&n.allAssignments[0].courseID===r.payload[0].courseID?Object(p.a)(Object(p.a)({},n),{},{allAssignments:r.payload}):n;case"ALL_CONVERSATIONS":return Object(p.a)(Object(p.a)({},n),{},{allConversations:r.payload});case"CURRENT_CONVERSATION":return Object(p.a)(Object(p.a)({},n),{},{currentConversation:r.payload});case"UPDATE_CURRENT_CONVERSATION":var i=null===(t=n.allConversations)||void 0===t?void 0:t.filter((function(e){return e._id!==r.payload._id}));return(null===(a=n.currentConversation)||void 0===a?void 0:a._id)===r.payload._id?Object(p.a)(Object(p.a)({},n),{},{allConversations:[].concat(Object(ge.a)(i),[r.payload]),currentConversation:r.payload}):Object(p.a)(Object(p.a)({},n),{},{allConversations:[].concat(Object(ge.a)(i),[r.payload])});case"LOG_OUT":return xt;default:return n}},Ct=Object(gt.a)({usersReducer:Ot}),jt=Object(gt.b)(Ct,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P.a,{store:jt},r.a.createElement(Et,null))),document.getElementById("root")),ht()}},[[229,1,2]]]);
//# sourceMappingURL=main.0f3130fb.chunk.js.map